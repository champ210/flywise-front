(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function pp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cc={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function mx(){if(Em)return cl;Em=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(a,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:t,type:a,key:h,ref:u!==void 0?u:null,props:f}}return cl.Fragment=e,cl.jsx=l,cl.jsxs=l,cl}var Mm;function hx(){return Mm||(Mm=1,cc.exports=mx()),cc.exports}var s=hx(),uc={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function px(){if(Rm)return Te;Rm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function N(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function I(E,O,le){this.props=E,this.context=O,this.refs=M,this.updater=le||j}I.prototype.isReactComponent={},I.prototype.setState=function(E,O){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,O,"setState")},I.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function R(){}R.prototype=I.prototype;function U(E,O,le){this.props=E,this.context=O,this.refs=M,this.updater=le||j}var B=U.prototype=new R;B.constructor=U,A(B,I.prototype),B.isPureReactComponent=!0;var D=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function ue(E,O,le,ne,ce,ve){return le=ve.ref,{$$typeof:t,type:E,key:O,ref:le!==void 0?le:null,props:ve}}function ie(E,O){return ue(E.type,O,void 0,void 0,void 0,E.props)}function X(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function te(E){var O={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(le){return O[le]})}var re=/\/+/g;function ae(E,O){return typeof E=="object"&&E!==null&&E.key!=null?te(""+E.key):O.toString(36)}function ye(){}function Ne(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ye,ye):(E.status="pending",E.then(function(O){E.status==="pending"&&(E.status="fulfilled",E.value=O)},function(O){E.status==="pending"&&(E.status="rejected",E.reason=O)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function se(E,O,le,ne,ce){var ve=typeof E;(ve==="undefined"||ve==="boolean")&&(E=null);var he=!1;if(E===null)he=!0;else switch(ve){case"bigint":case"string":case"number":he=!0;break;case"object":switch(E.$$typeof){case t:case e:he=!0;break;case v:return he=E._init,se(he(E._payload),O,le,ne,ce)}}if(he)return ce=ce(E),he=ne===""?"."+ae(E,0):ne,D(ce)?(le="",he!=null&&(le=he.replace(re,"$&/")+"/"),se(ce,O,le,"",function(Ft){return Ft})):ce!=null&&(X(ce)&&(ce=ie(ce,le+(ce.key==null||E&&E.key===ce.key?"":(""+ce.key).replace(re,"$&/")+"/")+he)),O.push(ce)),1;he=0;var $e=ne===""?".":ne+":";if(D(E))for(var Pe=0;Pe<E.length;Pe++)ne=E[Pe],ve=$e+ae(ne,Pe),he+=se(ne,O,le,ve,ce);else if(Pe=N(E),typeof Pe=="function")for(E=Pe.call(E),Pe=0;!(ne=E.next()).done;)ne=ne.value,ve=$e+ae(ne,Pe++),he+=se(ne,O,le,ve,ce);else if(ve==="object"){if(typeof E.then=="function")return se(Ne(E),O,le,ne,ce);throw O=String(E),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return he}function F(E,O,le){if(E==null)return E;var ne=[],ce=0;return se(E,ne,"","",function(ve){return O.call(le,ve,ce++)}),ne}function ee(E){if(E._status===-1){var O=E._result;O=O(),O.then(function(le){(E._status===0||E._status===-1)&&(E._status=1,E._result=le)},function(le){(E._status===0||E._status===-1)&&(E._status=2,E._result=le)}),E._status===-1&&(E._status=0,E._result=O)}if(E._status===1)return E._result.default;throw E._result}var V=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function Z(){}return Te.Children={map:F,forEach:function(E,O,le){F(E,function(){O.apply(this,arguments)},le)},count:function(E){var O=0;return F(E,function(){O++}),O},toArray:function(E){return F(E,function(O){return O})||[]},only:function(E){if(!X(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Te.Component=I,Te.Fragment=l,Te.Profiler=u,Te.PureComponent=U,Te.StrictMode=a,Te.Suspense=x,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Te.__COMPILER_RUNTIME={__proto__:null,c:function(E){return q.H.useMemoCache(E)}},Te.cache=function(E){return function(){return E.apply(null,arguments)}},Te.cloneElement=function(E,O,le){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var ne=A({},E.props),ce=E.key,ve=void 0;if(O!=null)for(he in O.ref!==void 0&&(ve=void 0),O.key!==void 0&&(ce=""+O.key),O)!Q.call(O,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&O.ref===void 0||(ne[he]=O[he]);var he=arguments.length-2;if(he===1)ne.children=le;else if(1<he){for(var $e=Array(he),Pe=0;Pe<he;Pe++)$e[Pe]=arguments[Pe+2];ne.children=$e}return ue(E.type,ce,void 0,void 0,ve,ne)},Te.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},Te.createElement=function(E,O,le){var ne,ce={},ve=null;if(O!=null)for(ne in O.key!==void 0&&(ve=""+O.key),O)Q.call(O,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=O[ne]);var he=arguments.length-2;if(he===1)ce.children=le;else if(1<he){for(var $e=Array(he),Pe=0;Pe<he;Pe++)$e[Pe]=arguments[Pe+2];ce.children=$e}if(E&&E.defaultProps)for(ne in he=E.defaultProps,he)ce[ne]===void 0&&(ce[ne]=he[ne]);return ue(E,ve,void 0,void 0,null,ce)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(E){return{$$typeof:g,render:E}},Te.isValidElement=X,Te.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:ee}},Te.memo=function(E,O){return{$$typeof:p,type:E,compare:O===void 0?null:O}},Te.startTransition=function(E){var O=q.T,le={};q.T=le;try{var ne=E(),ce=q.S;ce!==null&&ce(le,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Z,V)}catch(ve){V(ve)}finally{q.T=O}},Te.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Te.use=function(E){return q.H.use(E)},Te.useActionState=function(E,O,le){return q.H.useActionState(E,O,le)},Te.useCallback=function(E,O){return q.H.useCallback(E,O)},Te.useContext=function(E){return q.H.useContext(E)},Te.useDebugValue=function(){},Te.useDeferredValue=function(E,O){return q.H.useDeferredValue(E,O)},Te.useEffect=function(E,O,le){var ne=q.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(E,O)},Te.useId=function(){return q.H.useId()},Te.useImperativeHandle=function(E,O,le){return q.H.useImperativeHandle(E,O,le)},Te.useInsertionEffect=function(E,O){return q.H.useInsertionEffect(E,O)},Te.useLayoutEffect=function(E,O){return q.H.useLayoutEffect(E,O)},Te.useMemo=function(E,O){return q.H.useMemo(E,O)},Te.useOptimistic=function(E,O){return q.H.useOptimistic(E,O)},Te.useReducer=function(E,O,le){return q.H.useReducer(E,O,le)},Te.useRef=function(E){return q.H.useRef(E)},Te.useState=function(E){return q.H.useState(E)},Te.useSyncExternalStore=function(E,O,le){return q.H.useSyncExternalStore(E,O,le)},Te.useTransition=function(){return q.H.useTransition()},Te.version="19.1.1",Te}var km;function Ic(){return km||(km=1,uc.exports=px()),uc.exports}var w=Ic();const it=pp(w);var dc={exports:{}},ul={},fc={exports:{}},mc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function gx(){return _m||(_m=1,(function(t){function e(F,ee){var V=F.length;F.push(ee);e:for(;0<V;){var Z=V-1>>>1,E=F[Z];if(0<u(E,ee))F[Z]=ee,F[V]=E,V=Z;else break e}}function l(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ee=F[0],V=F.pop();if(V!==ee){F[0]=V;e:for(var Z=0,E=F.length,O=E>>>1;Z<O;){var le=2*(Z+1)-1,ne=F[le],ce=le+1,ve=F[ce];if(0>u(ne,V))ce<E&&0>u(ve,ne)?(F[Z]=ve,F[ce]=V,Z=ce):(F[Z]=ne,F[le]=V,Z=le);else if(ce<E&&0>u(ve,V))F[Z]=ve,F[ce]=V,Z=ce;else break e}}return ee}function u(F,ee){var V=F.sortIndex-ee.sortIndex;return V!==0?V:F.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();t.unstable_now=function(){return h.now()-g}}var x=[],p=[],v=1,b=null,N=3,j=!1,A=!1,M=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(F){for(var ee=l(p);ee!==null;){if(ee.callback===null)a(p);else if(ee.startTime<=F)a(p),ee.sortIndex=ee.expirationTime,e(x,ee);else break;ee=l(p)}}function q(F){if(M=!1,D(F),!A)if(l(x)!==null)A=!0,Q||(Q=!0,ae());else{var ee=l(p);ee!==null&&se(q,ee.startTime-F)}}var Q=!1,ue=-1,ie=5,X=-1;function te(){return I?!0:!(t.unstable_now()-X<ie)}function re(){if(I=!1,Q){var F=t.unstable_now();X=F;var ee=!0;try{e:{A=!1,M&&(M=!1,U(ue),ue=-1),j=!0;var V=N;try{t:{for(D(F),b=l(x);b!==null&&!(b.expirationTime>F&&te());){var Z=b.callback;if(typeof Z=="function"){b.callback=null,N=b.priorityLevel;var E=Z(b.expirationTime<=F);if(F=t.unstable_now(),typeof E=="function"){b.callback=E,D(F),ee=!0;break t}b===l(x)&&a(x),D(F)}else a(x);b=l(x)}if(b!==null)ee=!0;else{var O=l(p);O!==null&&se(q,O.startTime-F),ee=!1}}break e}finally{b=null,N=V,j=!1}ee=void 0}}finally{ee?ae():Q=!1}}}var ae;if(typeof B=="function")ae=function(){B(re)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ne=ye.port2;ye.port1.onmessage=re,ae=function(){Ne.postMessage(null)}}else ae=function(){R(re,0)};function se(F,ee){ue=R(function(){F(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_next=function(F){switch(N){case 1:case 2:case 3:var ee=3;break;default:ee=N}var V=N;N=ee;try{return F()}finally{N=V}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=N;N=F;try{return ee()}finally{N=V}},t.unstable_scheduleCallback=function(F,ee,V){var Z=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Z+V:Z):V=Z,F){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=V+E,F={id:v++,callback:ee,priorityLevel:F,startTime:V,expirationTime:E,sortIndex:-1},V>Z?(F.sortIndex=V,e(p,F),l(x)===null&&F===l(p)&&(M?(U(ue),ue=-1):M=!0,se(q,V-Z))):(F.sortIndex=E,e(x,F),A||j||(A=!0,Q||(Q=!0,ae()))),F},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(F){var ee=N;return function(){var V=N;N=ee;try{return F.apply(this,arguments)}finally{N=V}}}})(mc)),mc}var Dm;function xx(){return Dm||(Dm=1,fc.exports=gx()),fc.exports}var hc={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function yx(){if(Im)return dt;Im=1;var t=Ic();function e(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(x,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:x,containerInfo:p,implementation:v}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dt.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return f(x,p,null,v)},dt.flushSync=function(x){var p=h.T,v=a.p;try{if(h.T=null,a.p=2,x)return x()}finally{h.T=p,a.p=v,a.d.f()}},dt.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(x,p))},dt.prefetchDNS=function(x){typeof x=="string"&&a.d.D(x)},dt.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,b=g(v,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:j}):v==="script"&&a.d.X(x,{crossOrigin:b,integrity:N,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},dt.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);a.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(x)},dt.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=g(v,p.crossOrigin);a.d.L(x,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},dt.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=g(p.as,p.crossOrigin);a.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(x)},dt.requestFormReset=function(x){a.d.r(x)},dt.unstable_batchedUpdates=function(x,p){return x(p)},dt.useFormState=function(x,p,v){return h.H.useFormState(x,p,v)},dt.useFormStatus=function(){return h.H.useHostTransitionStatus()},dt.version="19.1.1",dt}var Lm;function vx(){if(Lm)return hc.exports;Lm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hc.exports=yx(),hc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function bx(){if(Um)return ul;Um=1;var t=xx(),e=Ic(),l=vx();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function f(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function g(n){if(f(n)!==n)throw Error(a(188))}function x(n){var i=n.alternate;if(!i){if(i=f(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,d=i;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return g(m),n;if(y===d)return g(m),i;y=y.sibling}throw Error(a(188))}if(o.return!==d.return)o=m,d=y;else{for(var T=!1,C=m.child;C;){if(C===o){T=!0,o=m,d=y;break}if(C===d){T=!0,d=m,o=y;break}C=C.sibling}if(!T){for(C=y.child;C;){if(C===o){T=!0,o=y,d=m;break}if(C===d){T=!0,d=y,o=m;break}C=C.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==d)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ae(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var ye=Symbol.for("react.client.reference");function Ne(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ye?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case I:return"Profiler";case M:return"StrictMode";case q:return"Suspense";case Q:return"SuspenseList";case X:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case B:return(n.displayName||"Context")+".Provider";case U:return(n._context.displayName||"Context")+".Consumer";case D:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ue:return i=n.displayName||null,i!==null?i:Ne(n.type)||"Memo";case ie:i=n._payload,n=n._init;try{return Ne(n(i))}catch{}}return null}var se=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Z=[],E=-1;function O(n){return{current:n}}function le(n){0>E||(n.current=Z[E],Z[E]=null,E--)}function ne(n,i){E++,Z[E]=n.current,n.current=i}var ce=O(null),ve=O(null),he=O(null),$e=O(null);function Pe(n,i){switch(ne(he,i),ne(ve,n),ne(ce,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?nm(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=nm(i),n=sm(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(ce),ne(ce,n)}function Ft(){le(ce),le(ve),le(he)}function Hn(n){n.memoizedState!==null&&ne($e,n);var i=ce.current,o=sm(i,n.type);i!==o&&(ne(ve,n),ne(ce,o))}function pt(n){ve.current===n&&(le(ce),le(ve)),$e.current===n&&(le($e),il._currentValue=V)}var ui=Object.prototype.hasOwnProperty,di=t.unstable_scheduleCallback,fi=t.unstable_cancelCallback,Ha=t.unstable_shouldYield,za=t.unstable_requestPaint,gt=t.unstable_now,Oa=t.unstable_getCurrentPriorityLevel,hl=t.unstable_ImmediatePriority,mi=t.unstable_UserBlockingPriority,zn=t.unstable_NormalPriority,pl=t.unstable_LowPriority,hi=t.unstable_IdlePriority,$a=t.log,Ya=t.unstable_setDisableYieldValue,On=null,rt=null;function kt(n){if(typeof $a=="function"&&Ya(n),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(On,n)}catch{}}var mt=Math.clz32?Math.clz32:Wa,Ja=Math.log,Ka=Math.LN2;function Wa(n){return n>>>=0,n===0?32:31-(Ja(n)/Ka|0)|0}var yn=256,$n=4194304;function Zt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ps(n,i,o){var d=n.pendingLanes;if(d===0)return 0;var m=0,y=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var C=d&134217727;return C!==0?(d=C&~y,d!==0?m=Zt(d):(T&=C,T!==0?m=Zt(T):o||(o=C&~n,o!==0&&(m=Zt(o))))):(C=d&~y,C!==0?m=Zt(C):T!==0?m=Zt(T):o||(o=d&~n,o!==0&&(m=Zt(o)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:m}function Yn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Qa(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oe(){var n=yn;return yn<<=1,(yn&4194048)===0&&(yn=256),n}function be(){var n=$n;return $n<<=1,($n&62914560)===0&&($n=4194304),n}function Ye(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Fe(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ht(n,i,o,d,m,y){var T=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var C=n.entanglements,_=n.expirationTimes,z=n.hiddenUpdates;for(o=T&~o;0<o;){var J=31-mt(o),W=1<<J;C[J]=0,_[J]=-1;var $=z[J];if($!==null)for(z[J]=null,J=0;J<$.length;J++){var Y=$[J];Y!==null&&(Y.lane&=-536870913)}o&=~W}d!==0&&Vc(n,d,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(T&~i))}function Vc(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var d=31-mt(i);n.entangledLanes|=i,n.entanglements[d]=n.entanglements[d]|1073741824|o&4194090}function qc(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var d=31-mt(o),m=1<<d;m&i|n[d]&i&&(n[d]|=i),o&=~m}}function Xa(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Za(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fc(){var n=ee.p;return n!==0?n:(n=window.event,n===void 0?32:Tm(n.type))}function n0(n,i){var o=ee.p;try{return ee.p=n,i()}finally{ee.p=o}}var vn=Math.random().toString(36).slice(2),ct="__reactFiber$"+vn,xt="__reactProps$"+vn,gs="__reactContainer$"+vn,eo="__reactEvents$"+vn,s0="__reactListeners$"+vn,i0="__reactHandles$"+vn,Hc="__reactResources$"+vn,pi="__reactMarker$"+vn;function to(n){delete n[ct],delete n[xt],delete n[eo],delete n[s0],delete n[i0]}function xs(n){var i=n[ct];if(i)return i;for(var o=n.parentNode;o;){if(i=o[gs]||o[ct]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=om(n);n!==null;){if(o=n[ct])return o;n=om(n)}return i}n=o,o=n.parentNode}return null}function ys(n){if(n=n[ct]||n[gs]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function gi(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function vs(n){var i=n[Hc];return i||(i=n[Hc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(n){n[pi]=!0}var zc=new Set,Oc={};function Jn(n,i){bs(n,i),bs(n+"Capture",i)}function bs(n,i){for(Oc[n]=i,n=0;n<i.length;n++)zc.add(i[n])}var l0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$c={},Yc={};function a0(n){return ui.call(Yc,n)?!0:ui.call($c,n)?!1:l0.test(n)?Yc[n]=!0:($c[n]=!0,!1)}function gl(n,i,o){if(a0(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function xl(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function en(n,i,o,d){if(d===null)n.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+d)}}var no,Jc;function Ns(n){if(no===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);no=i&&i[1]||"",Jc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+no+n+Jc}var so=!1;function io(n,i){if(!n||so)return"";so=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var $=Y}Reflect.construct(n,[],W)}else{try{W.call()}catch(Y){$=Y}n.call(W.prototype)}}else{try{throw Error()}catch(Y){$=Y}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),T=y[0],C=y[1];if(T&&C){var _=T.split(`
`),z=C.split(`
`);for(m=d=0;d<_.length&&!_[d].includes("DetermineComponentFrameRoot");)d++;for(;m<z.length&&!z[m].includes("DetermineComponentFrameRoot");)m++;if(d===_.length||m===z.length)for(d=_.length-1,m=z.length-1;1<=d&&0<=m&&_[d]!==z[m];)m--;for(;1<=d&&0<=m;d--,m--)if(_[d]!==z[m]){if(d!==1||m!==1)do if(d--,m--,0>m||_[d]!==z[m]){var J=`
`+_[d].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=d&&0<=m);break}}}finally{so=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ns(o):""}function o0(n){switch(n.tag){case 26:case 27:case 5:return Ns(n.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 15:return io(n.type,!1);case 11:return io(n.type.render,!1);case 1:return io(n.type,!0);case 31:return Ns("Activity");default:return""}}function Kc(n){try{var i="";do i+=o0(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function _t(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wc(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function r0(n){var i=Wc(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),d=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function yl(n){n._valueTracker||(n._valueTracker=r0(n))}function Qc(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return n&&(d=Wc(n)?n.checked?"true":"false":n.value),n=d,n!==o?(i.setValue(n),!0):!1}function vl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var c0=/[\n"\\]/g;function Dt(n){return n.replace(c0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function lo(n,i,o,d,m,y,T,C){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+_t(i)):n.value!==""+_t(i)&&(n.value=""+_t(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?ao(n,T,_t(i)):o!=null?ao(n,T,_t(o)):d!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+_t(C):n.removeAttribute("name")}function Xc(n,i,o,d,m,y,T,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;o=o!=null?""+_t(o):"",i=i!=null?""+_t(i):o,C||i===n.value||(n.value=i),n.defaultValue=i}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=C?n.checked:!!d,n.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function ao(n,i,o){i==="number"&&vl(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ts(n,i,o,d){if(n=n.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=i.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&d&&(n[o].defaultSelected=!0)}else{for(o=""+_t(o),i=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,d&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function Zc(n,i,o){if(i!=null&&(i=""+_t(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+_t(o):""}function eu(n,i,o,d){if(i==null){if(d!=null){if(o!=null)throw Error(a(92));if(se(d)){if(1<d.length)throw Error(a(93));d=d[0]}o=d}o==null&&(o=""),i=o}o=_t(i),n.defaultValue=o,d=n.textContent,d===o&&d!==""&&d!==null&&(n.value=d)}function Ss(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var u0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(n,i,o){var d=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":d?n.setProperty(i,o):typeof o!="number"||o===0||u0.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function nu(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var m in i)d=i[m],i.hasOwnProperty(m)&&o[m]!==d&&tu(n,m,d)}else for(var y in i)i.hasOwnProperty(y)&&tu(n,y,i[y])}function oo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bl(n){return f0.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ro=null;function co(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Cs=null,ws=null;function su(n){var i=ys(n);if(i&&(n=i.stateNode)){var o=n[xt]||null;e:switch(n=i.stateNode,i.type){case"input":if(lo(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==n&&d.form===n.form){var m=d[xt]||null;if(!m)throw Error(a(90));lo(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)d=o[i],d.form===n.form&&Qc(d)}break e;case"textarea":Zc(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Ts(n,!!o.multiple,i,!1)}}}var uo=!1;function iu(n,i,o){if(uo)return n(i,o);uo=!0;try{var d=n(i);return d}finally{if(uo=!1,(Cs!==null||ws!==null)&&(la(),Cs&&(i=Cs,n=ws,ws=Cs=null,su(i),n)))for(i=0;i<n.length;i++)su(n[i])}}function xi(n,i){var o=n.stateNode;if(o===null)return null;var d=o[xt]||null;if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=!1;if(tn)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){fo=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{fo=!1}var bn=null,mo=null,Nl=null;function lu(){if(Nl)return Nl;var n,i=mo,o=i.length,d,m="value"in bn?bn.value:bn.textContent,y=m.length;for(n=0;n<o&&i[n]===m[n];n++);var T=o-n;for(d=1;d<=T&&i[o-d]===m[y-d];d++);return Nl=m.slice(n,1<d?1-d:void 0)}function Tl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Sl(){return!0}function au(){return!1}function yt(n){function i(o,d,m,y,T){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(o=n[C],this[C]=o?o(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Sl:au,this.isPropagationStopped=au,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),i}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=yt(Kn),vi=v({},Kn,{view:0,detail:0}),m0=yt(vi),ho,po,bi,wl=v({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bi&&(bi&&n.type==="mousemove"?(ho=n.screenX-bi.screenX,po=n.screenY-bi.screenY):po=ho=0,bi=n),ho)},movementY:function(n){return"movementY"in n?n.movementY:po}}),ou=yt(wl),h0=v({},wl,{dataTransfer:0}),p0=yt(h0),g0=v({},vi,{relatedTarget:0}),go=yt(g0),x0=v({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),y0=yt(x0),v0=v({},Kn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),b0=yt(v0),N0=v({},Kn,{data:0}),ru=yt(N0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=C0[n])?!!i[n]:!1}function xo(){return w0}var j0=v({},vi,{key:function(n){if(n.key){var i=T0[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Tl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?S0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(n){return n.type==="keypress"?Tl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Tl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),A0=yt(j0),E0=v({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=yt(E0),M0=v({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),R0=yt(M0),k0=v({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_0=yt(k0),D0=v({},wl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),I0=yt(D0),L0=v({},Kn,{newState:0,oldState:0}),U0=yt(L0),P0=[9,13,27,32],yo=tn&&"CompositionEvent"in window,Ni=null;tn&&"documentMode"in document&&(Ni=document.documentMode);var B0=tn&&"TextEvent"in window&&!Ni,uu=tn&&(!yo||Ni&&8<Ni&&11>=Ni),du=" ",fu=!1;function mu(n,i){switch(n){case"keyup":return P0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var js=!1;function G0(n,i){switch(n){case"compositionend":return hu(i);case"keypress":return i.which!==32?null:(fu=!0,du);case"textInput":return n=i.data,n===du&&fu?null:n;default:return null}}function V0(n,i){if(js)return n==="compositionend"||!yo&&mu(n,i)?(n=lu(),Nl=mo=bn=null,js=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return uu&&i.locale!=="ko"?null:i.data;default:return null}}var q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!q0[n.type]:i==="textarea"}function gu(n,i,o,d){Cs?ws?ws.push(d):ws=[d]:Cs=d,i=da(i,"onChange"),0<i.length&&(o=new Cl("onChange","change",null,o,d),n.push({event:o,listeners:i}))}var Ti=null,Si=null;function F0(n){Qf(n,0)}function jl(n){var i=gi(n);if(Qc(i))return n}function xu(n,i){if(n==="change")return i}var yu=!1;if(tn){var vo;if(tn){var bo="oninput"in document;if(!bo){var vu=document.createElement("div");vu.setAttribute("oninput","return;"),bo=typeof vu.oninput=="function"}vo=bo}else vo=!1;yu=vo&&(!document.documentMode||9<document.documentMode)}function bu(){Ti&&(Ti.detachEvent("onpropertychange",Nu),Si=Ti=null)}function Nu(n){if(n.propertyName==="value"&&jl(Si)){var i=[];gu(i,Si,n,co(n)),iu(F0,i)}}function H0(n,i,o){n==="focusin"?(bu(),Ti=i,Si=o,Ti.attachEvent("onpropertychange",Nu)):n==="focusout"&&bu()}function z0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return jl(Si)}function O0(n,i){if(n==="click")return jl(i)}function $0(n,i){if(n==="input"||n==="change")return jl(i)}function Y0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Tt=typeof Object.is=="function"?Object.is:Y0;function Ci(n,i){if(Tt(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!ui.call(i,m)||!Tt(n[m],i[m]))return!1}return!0}function Tu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Su(n,i){var o=Tu(n);n=0;for(var d;o;){if(o.nodeType===3){if(d=n+o.textContent.length,n<=i&&d>=i)return{node:o,offset:i-n};n=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Tu(o)}}function Cu(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Cu(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function wu(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=vl(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=vl(n.document)}return i}function No(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var J0=tn&&"documentMode"in document&&11>=document.documentMode,As=null,To=null,wi=null,So=!1;function ju(n,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;So||As==null||As!==vl(d)||(d=As,"selectionStart"in d&&No(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),wi&&Ci(wi,d)||(wi=d,d=da(To,"onSelect"),0<d.length&&(i=new Cl("onSelect","select",null,i,o),n.push({event:i,listeners:d}),i.target=As)))}function Wn(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Es={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionrun:Wn("Transition","TransitionRun"),transitionstart:Wn("Transition","TransitionStart"),transitioncancel:Wn("Transition","TransitionCancel"),transitionend:Wn("Transition","TransitionEnd")},Co={},Au={};tn&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Qn(n){if(Co[n])return Co[n];if(!Es[n])return n;var i=Es[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Au)return Co[n]=i[o];return n}var Eu=Qn("animationend"),Mu=Qn("animationiteration"),Ru=Qn("animationstart"),K0=Qn("transitionrun"),W0=Qn("transitionstart"),Q0=Qn("transitioncancel"),ku=Qn("transitionend"),_u=new Map,wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wo.push("scrollEnd");function zt(n,i){_u.set(n,i),Jn(i,[n])}var Du=new WeakMap;function It(n,i){if(typeof n=="object"&&n!==null){var o=Du.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Kc(i)},Du.set(n,i),i)}return{value:n,source:i,stack:Kc(i)}}var Lt=[],Ms=0,jo=0;function Al(){for(var n=Ms,i=jo=Ms=0;i<n;){var o=Lt[i];Lt[i++]=null;var d=Lt[i];Lt[i++]=null;var m=Lt[i];Lt[i++]=null;var y=Lt[i];if(Lt[i++]=null,d!==null&&m!==null){var T=d.pending;T===null?m.next=m:(m.next=T.next,T.next=m),d.pending=m}y!==0&&Iu(o,m,y)}}function El(n,i,o,d){Lt[Ms++]=n,Lt[Ms++]=i,Lt[Ms++]=o,Lt[Ms++]=d,jo|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function Ao(n,i,o,d){return El(n,i,o,d),Ml(n)}function Rs(n,i){return El(n,null,null,i),Ml(n)}function Iu(n,i,o){n.lanes|=o;var d=n.alternate;d!==null&&(d.lanes|=o);for(var m=!1,y=n.return;y!==null;)y.childLanes|=o,d=y.alternate,d!==null&&(d.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&i!==null&&(m=31-mt(o),n=y.hiddenUpdates,d=n[m],d===null?n[m]=[i]:d.push(i),i.lane=o|536870912),y):null}function Ml(n){if(50<Wi)throw Wi=0,Dr=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ks={};function X0(n,i,o,d){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(n,i,o,d){return new X0(n,i,o,d)}function Eo(n){return n=n.prototype,!(!n||!n.isReactComponent)}function nn(n,i){var o=n.alternate;return o===null?(o=St(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Lu(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Rl(n,i,o,d,m,y){var T=0;if(d=n,typeof n=="function")Eo(n)&&(T=1);else if(typeof n=="string")T=ex(n,o,ce.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case X:return n=St(31,o,i,m),n.elementType=X,n.lanes=y,n;case A:return Xn(o.children,m,y,i);case M:T=8,m|=24;break;case I:return n=St(12,o,i,m|2),n.elementType=I,n.lanes=y,n;case q:return n=St(13,o,i,m),n.elementType=q,n.lanes=y,n;case Q:return n=St(19,o,i,m),n.elementType=Q,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:case B:T=10;break e;case U:T=9;break e;case D:T=11;break e;case ue:T=14;break e;case ie:T=16,d=null;break e}T=29,o=Error(a(130,n===null?"null":typeof n,"")),d=null}return i=St(T,o,i,m),i.elementType=n,i.type=d,i.lanes=y,i}function Xn(n,i,o,d){return n=St(7,n,d,i),n.lanes=o,n}function Mo(n,i,o){return n=St(6,n,null,i),n.lanes=o,n}function Ro(n,i,o){return i=St(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var _s=[],Ds=0,kl=null,_l=0,Ut=[],Pt=0,Zn=null,sn=1,ln="";function es(n,i){_s[Ds++]=_l,_s[Ds++]=kl,kl=n,_l=i}function Uu(n,i,o){Ut[Pt++]=sn,Ut[Pt++]=ln,Ut[Pt++]=Zn,Zn=n;var d=sn;n=ln;var m=32-mt(d)-1;d&=~(1<<m),o+=1;var y=32-mt(i)+m;if(30<y){var T=m-m%5;y=(d&(1<<T)-1).toString(32),d>>=T,m-=T,sn=1<<32-mt(i)+m|o<<m|d,ln=y+n}else sn=1<<y|o<<m|d,ln=n}function ko(n){n.return!==null&&(es(n,1),Uu(n,1,0))}function _o(n){for(;n===kl;)kl=_s[--Ds],_s[Ds]=null,_l=_s[--Ds],_s[Ds]=null;for(;n===Zn;)Zn=Ut[--Pt],Ut[Pt]=null,ln=Ut[--Pt],Ut[Pt]=null,sn=Ut[--Pt],Ut[Pt]=null}var ht=null,ze=null,Re=!1,ts=null,Yt=!1,Do=Error(a(519));function ns(n){var i=Error(a(418,""));throw Ei(It(i,n)),Do}function Pu(n){var i=n.stateNode,o=n.type,d=n.memoizedProps;switch(i[ct]=n,i[xt]=d,o){case"dialog":Ae("cancel",i),Ae("close",i);break;case"iframe":case"object":case"embed":Ae("load",i);break;case"video":case"audio":for(o=0;o<Xi.length;o++)Ae(Xi[o],i);break;case"source":Ae("error",i);break;case"img":case"image":case"link":Ae("error",i),Ae("load",i);break;case"details":Ae("toggle",i);break;case"input":Ae("invalid",i),Xc(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),yl(i);break;case"select":Ae("invalid",i);break;case"textarea":Ae("invalid",i),eu(i,d.value,d.defaultValue,d.children),yl(i)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||d.suppressHydrationWarning===!0||tm(i.textContent,o)?(d.popover!=null&&(Ae("beforetoggle",i),Ae("toggle",i)),d.onScroll!=null&&Ae("scroll",i),d.onScrollEnd!=null&&Ae("scrollend",i),d.onClick!=null&&(i.onclick=fa),i=!0):i=!1,i||ns(n)}function Bu(n){for(ht=n.return;ht;)switch(ht.tag){case 5:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:ht=ht.return}}function ji(n){if(n!==ht)return!1;if(!Re)return Bu(n),Re=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Kr(n.type,n.memoizedProps)),o=!o),o&&ze&&ns(n),Bu(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){ze=$t(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}ze=null}}else i===27?(i=ze,Un(n.type)?(n=Zr,Zr=null,ze=n):ze=i):ze=ht?$t(n.stateNode.nextSibling):null;return!0}function Ai(){ze=ht=null,Re=!1}function Gu(){var n=ts;return n!==null&&(Nt===null?Nt=n:Nt.push.apply(Nt,n),ts=null),n}function Ei(n){ts===null?ts=[n]:ts.push(n)}var Io=O(null),ss=null,an=null;function Nn(n,i,o){ne(Io,i._currentValue),i._currentValue=o}function on(n){n._currentValue=Io.current,le(Io)}function Lo(n,i,o){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===o)break;n=n.return}}function Uo(n,i,o,d){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var _=0;_<i.length;_++)if(C.context===i[_]){y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),Lo(y.return,o,n),d||(T=null);break e}y=C.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(a(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),Lo(T,o,n),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===n){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Mi(n,i,o,d){n=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var C=m.type;Tt(m.pendingProps.value,T.value)||(n!==null?n.push(C):n=[C])}}else if(m===$e.current){if(T=m.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(il):n=[il])}m=m.return}n!==null&&Uo(i,n,o,d),i.flags|=262144}function Dl(n){for(n=n.firstContext;n!==null;){if(!Tt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function is(n){ss=n,an=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ut(n){return Vu(ss,n)}function Il(n,i){return ss===null&&is(n),Vu(n,i)}function Vu(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},an===null){if(n===null)throw Error(a(308));an=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else an=an.next=i;return o}var Z0=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,d){n.push(d)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},eg=t.unstable_scheduleCallback,tg=t.unstable_NormalPriority,Xe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Po(){return{controller:new Z0,data:new Map,refCount:0}}function Ri(n){n.refCount--,n.refCount===0&&eg(tg,function(){n.controller.abort()})}var ki=null,Bo=0,Is=0,Ls=null;function ng(n,i){if(ki===null){var o=ki=[];Bo=0,Is=Vr(),Ls={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Bo++,i.then(qu,qu),i}function qu(){if(--Bo===0&&ki!==null){Ls!==null&&(Ls.status="fulfilled");var n=ki;ki=null,Is=0,Ls=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function sg(n,i){var o=[],d={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){d.status="fulfilled",d.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(d.status="rejected",d.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),d}var Fu=F.S;F.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ng(n,i),Fu!==null&&Fu(n,i)};var ls=O(null);function Go(){var n=ls.current;return n!==null?n:Ge.pooledCache}function Ll(n,i){i===null?ne(ls,ls.current):ne(ls,i.pool)}function Hu(){var n=Go();return n===null?null:{parent:Xe._currentValue,pool:n}}var _i=Error(a(460)),zu=Error(a(474)),Ul=Error(a(542)),Vo={then:function(){}};function Ou(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Pl(){}function $u(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Pl,Pl),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ju(n),n;default:if(typeof i.status=="string")i.then(Pl,Pl);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(d){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=d}},function(d){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ju(n),n}throw Di=i,_i}}var Di=null;function Yu(){if(Di===null)throw Error(a(459));var n=Di;return Di=null,n}function Ju(n){if(n===_i||n===Ul)throw Error(a(483))}var Tn=!1;function qo(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fo(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Sn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Cn(n,i,o){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(_e&2)!==0){var m=d.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),d.pending=i,i=Ml(n),Iu(n,null,o),i}return El(n,d,i,o),Ml(n)}function Ii(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var d=i.lanes;d&=n.pendingLanes,o|=d,i.lanes=o,qc(n,o)}}function Ho(n,i){var o=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?m=y=i:y=y.next=i}else m=y=i;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var zo=!1;function Li(){if(zo){var n=Ls;if(n!==null)throw n}}function Ui(n,i,o,d){zo=!1;var m=n.updateQueue;Tn=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var _=C,z=_.next;_.next=null,T===null?y=z:T.next=z,T=_;var J=n.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==T&&(C===null?J.firstBaseUpdate=z:C.next=z,J.lastBaseUpdate=_))}if(y!==null){var W=m.baseState;T=0,J=z=_=null,C=y;do{var $=C.lane&-536870913,Y=$!==C.lane;if(Y?(Ee&$)===$:(d&$)===$){$!==0&&$===Is&&(zo=!0),J!==null&&(J=J.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var xe=n,pe=C;$=i;var Ue=o;switch(pe.tag){case 1:if(xe=pe.payload,typeof xe=="function"){W=xe.call(Ue,W,$);break e}W=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=pe.payload,$=typeof xe=="function"?xe.call(Ue,W,$):xe,$==null)break e;W=v({},W,$);break e;case 2:Tn=!0}}$=C.callback,$!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[$]:Y.push($))}else Y={lane:$,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(z=J=Y,_=W):J=J.next=Y,T|=$;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);J===null&&(_=W),m.baseState=_,m.firstBaseUpdate=z,m.lastBaseUpdate=J,y===null&&(m.shared.lanes=0),_n|=T,n.lanes=T,n.memoizedState=W}}function Ku(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Wu(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Ku(o[n],i)}var Us=O(null),Bl=O(0);function Qu(n,i){n=hn,ne(Bl,n),ne(Us,i),hn=n|i.baseLanes}function Oo(){ne(Bl,hn),ne(Us,Us.current)}function $o(){hn=Bl.current,le(Us),le(Bl)}var wn=0,Ce=null,Ie=null,We=null,Gl=!1,Ps=!1,as=!1,Vl=0,Pi=0,Bs=null,ig=0;function Je(){throw Error(a(321))}function Yo(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Tt(n[o],i[o]))return!1;return!0}function Jo(n,i,o,d,m,y){return wn=y,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=n===null||n.memoizedState===null?Id:Ld,as=!1,y=o(d,m),as=!1,Ps&&(y=Zu(i,o,d,m)),Xu(n),y}function Xu(n){F.H=$l;var i=Ie!==null&&Ie.next!==null;if(wn=0,We=Ie=Ce=null,Gl=!1,Pi=0,Bs=null,i)throw Error(a(300));n===null||tt||(n=n.dependencies,n!==null&&Dl(n)&&(tt=!0))}function Zu(n,i,o,d){Ce=n;var m=0;do{if(Ps&&(Bs=null),Pi=0,Ps=!1,25<=m)throw Error(a(301));if(m+=1,We=Ie=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=dg,y=i(o,d)}while(Ps);return y}function lg(){var n=F.H,i=n.useState()[0];return i=typeof i.then=="function"?Bi(i):i,n=n.useState()[0],(Ie!==null?Ie.memoizedState:null)!==n&&(Ce.flags|=1024),i}function Ko(){var n=Vl!==0;return Vl=0,n}function Wo(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Qo(n){if(Gl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gl=!1}wn=0,We=Ie=Ce=null,Ps=!1,Pi=Vl=0,Bs=null}function vt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ce.memoizedState=We=n:We=We.next=n,We}function Qe(){if(Ie===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ie.next;var i=We===null?Ce.memoizedState:We.next;if(i!==null)We=i,Ie=n;else{if(n===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Ie=n,n={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},We===null?Ce.memoizedState=We=n:We=We.next=n}return We}function Xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bi(n){var i=Pi;return Pi+=1,Bs===null&&(Bs=[]),n=$u(Bs,n,i),i=Ce,(We===null?i.memoizedState:We.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Id:Ld),n}function ql(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bi(n);if(n.$$typeof===B)return ut(n)}throw Error(a(438,String(n)))}function Zo(n){var i=null,o=Ce.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var d=Ce.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Xo(),Ce.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),d=0;d<n;d++)o[d]=te;return i.index++,o}function rn(n,i){return typeof i=="function"?i(n):i}function Fl(n){var i=Qe();return er(i,Ie,n)}function er(n,i,o){var d=n.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=o;var m=n.baseQueue,y=d.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}i.baseQueue=m=y,d.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{i=m.next;var C=T=null,_=null,z=i,J=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Ee&W)===W:(wn&W)===W){var $=z.revertLane;if($===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===Is&&(J=!0);else if((wn&$)===$){z=z.next,$===Is&&(J=!0);continue}else W={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},_===null?(C=_=W,T=y):_=_.next=W,Ce.lanes|=$,_n|=$;W=z.action,as&&o(y,W),y=z.hasEagerState?z.eagerState:o(y,W)}else $={lane:W,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},_===null?(C=_=$,T=y):_=_.next=$,Ce.lanes|=W,_n|=W;z=z.next}while(z!==null&&z!==i);if(_===null?T=y:_.next=C,!Tt(y,n.memoizedState)&&(tt=!0,J&&(o=Ls,o!==null)))throw o;n.memoizedState=y,n.baseState=T,n.baseQueue=_,d.lastRenderedState=y}return m===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function tr(n){var i=Qe(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var d=o.dispatch,m=o.pending,y=i.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do y=n(y,T.action),T=T.next;while(T!==m);Tt(y,i.memoizedState)||(tt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,d]}function ed(n,i,o){var d=Ce,m=Qe(),y=Re;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=i();var T=!Tt((Ie||m).memoizedState,o);T&&(m.memoizedState=o,tt=!0),m=m.queue;var C=sd.bind(null,d,m,n);if(Gi(2048,8,C,[n]),m.getSnapshot!==i||T||We!==null&&We.memoizedState.tag&1){if(d.flags|=2048,Gs(9,Hl(),nd.bind(null,d,m,o,i),null),Ge===null)throw Error(a(349));y||(wn&124)!==0||td(d,i,o)}return o}function td(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ce.updateQueue,i===null?(i=Xo(),Ce.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function nd(n,i,o,d){i.value=o,i.getSnapshot=d,id(i)&&ld(n)}function sd(n,i,o){return o(function(){id(i)&&ld(n)})}function id(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Tt(n,o)}catch{return!0}}function ld(n){var i=Rs(n,2);i!==null&&Et(i,n,2)}function nr(n){var i=vt();if(typeof n=="function"){var o=n;if(n=o(),as){kt(!0);try{o()}finally{kt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:n},i}function ad(n,i,o,d){return n.baseState=o,er(n,Ie,typeof d=="function"?d:rn)}function ag(n,i,o,d,m){if(Ol(n))throw Error(a(485));if(n=i.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};F.T!==null?o(!0):y.isTransition=!1,d(y),o=i.pending,o===null?(y.next=i.pending=y,od(i,y)):(y.next=o.next,i.pending=o.next=y)}}function od(n,i){var o=i.action,d=i.payload,m=n.state;if(i.isTransition){var y=F.T,T={};F.T=T;try{var C=o(m,d),_=F.S;_!==null&&_(T,C),rd(n,i,C)}catch(z){sr(n,i,z)}finally{F.T=y}}else try{y=o(m,d),rd(n,i,y)}catch(z){sr(n,i,z)}}function rd(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){cd(n,i,d)},function(d){return sr(n,i,d)}):cd(n,i,o)}function cd(n,i,o){i.status="fulfilled",i.value=o,ud(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,od(n,o)))}function sr(n,i,o){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=o,ud(i),i=i.next;while(i!==d)}n.action=null}function ud(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function dd(n,i){return i}function fd(n,i){if(Re){var o=Ge.formState;if(o!==null){e:{var d=Ce;if(Re){if(ze){t:{for(var m=ze,y=Yt;m.nodeType!==8;){if(!y){m=null;break t}if(m=$t(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ze=$t(m.nextSibling),d=m.data==="F!";break e}}ns(d)}d=!1}d&&(i=o[0])}}return o=vt(),o.memoizedState=o.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:i},o.queue=d,o=kd.bind(null,Ce,d),d.dispatch=o,d=nr(!1),y=rr.bind(null,Ce,!1,d.queue),d=vt(),m={state:i,dispatch:null,action:n,pending:null},d.queue=m,o=ag.bind(null,Ce,m,y,o),m.dispatch=o,d.memoizedState=n,[i,o,!1]}function md(n){var i=Qe();return hd(i,Ie,n)}function hd(n,i,o){if(i=er(n,i,dd)[0],n=Fl(rn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Bi(i)}catch(T){throw T===_i?Ul:T}else d=i;i=Qe();var m=i.queue,y=m.dispatch;return o!==i.memoizedState&&(Ce.flags|=2048,Gs(9,Hl(),og.bind(null,m,o),null)),[d,y,n]}function og(n,i){n.action=i}function pd(n){var i=Qe(),o=Ie;if(o!==null)return hd(i,o,n);Qe(),i=i.memoizedState,o=Qe();var d=o.queue.dispatch;return o.memoizedState=n,[i,d,!1]}function Gs(n,i,o,d){return n={tag:n,create:o,deps:d,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Xo(),Ce.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(d=o.next,o.next=n,n.next=d,i.lastEffect=n),n}function Hl(){return{destroy:void 0,resource:void 0}}function gd(){return Qe().memoizedState}function zl(n,i,o,d){var m=vt();d=d===void 0?null:d,Ce.flags|=n,m.memoizedState=Gs(1|i,Hl(),o,d)}function Gi(n,i,o,d){var m=Qe();d=d===void 0?null:d;var y=m.memoizedState.inst;Ie!==null&&d!==null&&Yo(d,Ie.memoizedState.deps)?m.memoizedState=Gs(i,y,o,d):(Ce.flags|=n,m.memoizedState=Gs(1|i,y,o,d))}function xd(n,i){zl(8390656,8,n,i)}function yd(n,i){Gi(2048,8,n,i)}function vd(n,i){return Gi(4,2,n,i)}function bd(n,i){return Gi(4,4,n,i)}function Nd(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Td(n,i,o){o=o!=null?o.concat([n]):null,Gi(4,4,Nd.bind(null,i,n),o)}function ir(){}function Sd(n,i){var o=Qe();i=i===void 0?null:i;var d=o.memoizedState;return i!==null&&Yo(i,d[1])?d[0]:(o.memoizedState=[n,i],n)}function Cd(n,i){var o=Qe();i=i===void 0?null:i;var d=o.memoizedState;if(i!==null&&Yo(i,d[1]))return d[0];if(d=n(),as){kt(!0);try{n()}finally{kt(!1)}}return o.memoizedState=[d,i],d}function lr(n,i,o){return o===void 0||(wn&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=Ef(),Ce.lanes|=n,_n|=n,o)}function wd(n,i,o,d){return Tt(o,i)?o:Us.current!==null?(n=lr(n,o,d),Tt(n,i)||(tt=!0),n):(wn&42)===0?(tt=!0,n.memoizedState=o):(n=Ef(),Ce.lanes|=n,_n|=n,i)}function jd(n,i,o,d,m){var y=ee.p;ee.p=y!==0&&8>y?y:8;var T=F.T,C={};F.T=C,rr(n,!1,i,o);try{var _=m(),z=F.S;if(z!==null&&z(C,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var J=sg(_,d);Vi(n,i,J,At(n))}else Vi(n,i,d,At(n))}catch(W){Vi(n,i,{then:function(){},status:"rejected",reason:W},At())}finally{ee.p=y,F.T=T}}function rg(){}function ar(n,i,o,d){if(n.tag!==5)throw Error(a(476));var m=Ad(n).queue;jd(n,m,i,V,o===null?rg:function(){return Ed(n),o(d)})}function Ad(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:V},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Ed(n){var i=Ad(n).next.queue;Vi(n,i,{},At())}function or(){return ut(il)}function Md(){return Qe().memoizedState}function Rd(){return Qe().memoizedState}function cg(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=At();n=Sn(o);var d=Cn(i,n,o);d!==null&&(Et(d,i,o),Ii(d,i,o)),i={cache:Po()},n.payload=i;return}i=i.return}}function ug(n,i,o){var d=At();o={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ol(n)?_d(i,o):(o=Ao(n,i,o,d),o!==null&&(Et(o,n,d),Dd(o,i,d)))}function kd(n,i,o){var d=At();Vi(n,i,o,d)}function Vi(n,i,o,d){var m={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ol(n))_d(i,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,C=y(T,o);if(m.hasEagerState=!0,m.eagerState=C,Tt(C,T))return El(n,i,m,0),Ge===null&&Al(),!1}catch{}finally{}if(o=Ao(n,i,m,d),o!==null)return Et(o,n,d),Dd(o,i,d),!0}return!1}function rr(n,i,o,d){if(d={lane:2,revertLane:Vr(),action:d,hasEagerState:!1,eagerState:null,next:null},Ol(n)){if(i)throw Error(a(479))}else i=Ao(n,o,d,2),i!==null&&Et(i,n,2)}function Ol(n){var i=n.alternate;return n===Ce||i!==null&&i===Ce}function _d(n,i){Ps=Gl=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Dd(n,i,o){if((o&4194048)!==0){var d=i.lanes;d&=n.pendingLanes,o|=d,i.lanes=o,qc(n,o)}}var $l={readContext:ut,use:ql,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je},Id={readContext:ut,use:ql,useCallback:function(n,i){return vt().memoizedState=[n,i===void 0?null:i],n},useContext:ut,useEffect:xd,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,zl(4194308,4,Nd.bind(null,i,n),o)},useLayoutEffect:function(n,i){return zl(4194308,4,n,i)},useInsertionEffect:function(n,i){zl(4,2,n,i)},useMemo:function(n,i){var o=vt();i=i===void 0?null:i;var d=n();if(as){kt(!0);try{n()}finally{kt(!1)}}return o.memoizedState=[d,i],d},useReducer:function(n,i,o){var d=vt();if(o!==void 0){var m=o(i);if(as){kt(!0);try{o(i)}finally{kt(!1)}}}else m=i;return d.memoizedState=d.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},d.queue=n,n=n.dispatch=ug.bind(null,Ce,n),[d.memoizedState,n]},useRef:function(n){var i=vt();return n={current:n},i.memoizedState=n},useState:function(n){n=nr(n);var i=n.queue,o=kd.bind(null,Ce,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:ir,useDeferredValue:function(n,i){var o=vt();return lr(o,n,i)},useTransition:function(){var n=nr(!1);return n=jd.bind(null,Ce,n.queue,!0,!1),vt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var d=Ce,m=vt();if(Re){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ge===null)throw Error(a(349));(Ee&124)!==0||td(d,i,o)}m.memoizedState=o;var y={value:o,getSnapshot:i};return m.queue=y,xd(sd.bind(null,d,y,n),[n]),d.flags|=2048,Gs(9,Hl(),nd.bind(null,d,y,o,i),null),o},useId:function(){var n=vt(),i=Ge.identifierPrefix;if(Re){var o=ln,d=sn;o=(d&~(1<<32-mt(d)-1)).toString(32)+o,i="«"+i+"R"+o,o=Vl++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=ig++,i="«"+i+"r"+o.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:or,useFormState:fd,useActionState:fd,useOptimistic:function(n){var i=vt();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=rr.bind(null,Ce,!0,o),o.dispatch=i,[n,i]},useMemoCache:Zo,useCacheRefresh:function(){return vt().memoizedState=cg.bind(null,Ce)}},Ld={readContext:ut,use:ql,useCallback:Sd,useContext:ut,useEffect:yd,useImperativeHandle:Td,useInsertionEffect:vd,useLayoutEffect:bd,useMemo:Cd,useReducer:Fl,useRef:gd,useState:function(){return Fl(rn)},useDebugValue:ir,useDeferredValue:function(n,i){var o=Qe();return wd(o,Ie.memoizedState,n,i)},useTransition:function(){var n=Fl(rn)[0],i=Qe().memoizedState;return[typeof n=="boolean"?n:Bi(n),i]},useSyncExternalStore:ed,useId:Md,useHostTransitionStatus:or,useFormState:md,useActionState:md,useOptimistic:function(n,i){var o=Qe();return ad(o,Ie,n,i)},useMemoCache:Zo,useCacheRefresh:Rd},dg={readContext:ut,use:ql,useCallback:Sd,useContext:ut,useEffect:yd,useImperativeHandle:Td,useInsertionEffect:vd,useLayoutEffect:bd,useMemo:Cd,useReducer:tr,useRef:gd,useState:function(){return tr(rn)},useDebugValue:ir,useDeferredValue:function(n,i){var o=Qe();return Ie===null?lr(o,n,i):wd(o,Ie.memoizedState,n,i)},useTransition:function(){var n=tr(rn)[0],i=Qe().memoizedState;return[typeof n=="boolean"?n:Bi(n),i]},useSyncExternalStore:ed,useId:Md,useHostTransitionStatus:or,useFormState:pd,useActionState:pd,useOptimistic:function(n,i){var o=Qe();return Ie!==null?ad(o,Ie,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Zo,useCacheRefresh:Rd},Vs=null,qi=0;function Yl(n){var i=qi;return qi+=1,Vs===null&&(Vs=[]),$u(Vs,n,i)}function Fi(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Jl(n,i){throw i.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Ud(n){var i=n._init;return i(n._payload)}function Pd(n){function i(G,P){if(n){var H=G.deletions;H===null?(G.deletions=[P],G.flags|=16):H.push(P)}}function o(G,P){if(!n)return null;for(;P!==null;)i(G,P),P=P.sibling;return null}function d(G){for(var P=new Map;G!==null;)G.key!==null?P.set(G.key,G):P.set(G.index,G),G=G.sibling;return P}function m(G,P){return G=nn(G,P),G.index=0,G.sibling=null,G}function y(G,P,H){return G.index=H,n?(H=G.alternate,H!==null?(H=H.index,H<P?(G.flags|=67108866,P):H):(G.flags|=67108866,P)):(G.flags|=1048576,P)}function T(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function C(G,P,H,K){return P===null||P.tag!==6?(P=Mo(H,G.mode,K),P.return=G,P):(P=m(P,H),P.return=G,P)}function _(G,P,H,K){var de=H.type;return de===A?J(G,P,H.props.children,K,H.key):P!==null&&(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ie&&Ud(de)===P.type)?(P=m(P,H.props),Fi(P,H),P.return=G,P):(P=Rl(H.type,H.key,H.props,null,G.mode,K),Fi(P,H),P.return=G,P)}function z(G,P,H,K){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Ro(H,G.mode,K),P.return=G,P):(P=m(P,H.children||[]),P.return=G,P)}function J(G,P,H,K,de){return P===null||P.tag!==7?(P=Xn(H,G.mode,K,de),P.return=G,P):(P=m(P,H),P.return=G,P)}function W(G,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Mo(""+P,G.mode,H),P.return=G,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return H=Rl(P.type,P.key,P.props,null,G.mode,H),Fi(H,P),H.return=G,H;case j:return P=Ro(P,G.mode,H),P.return=G,P;case ie:var K=P._init;return P=K(P._payload),W(G,P,H)}if(se(P)||ae(P))return P=Xn(P,G.mode,H,null),P.return=G,P;if(typeof P.then=="function")return W(G,Yl(P),H);if(P.$$typeof===B)return W(G,Il(G,P),H);Jl(G,P)}return null}function $(G,P,H,K){var de=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:C(G,P,""+H,K);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return H.key===de?_(G,P,H,K):null;case j:return H.key===de?z(G,P,H,K):null;case ie:return de=H._init,H=de(H._payload),$(G,P,H,K)}if(se(H)||ae(H))return de!==null?null:J(G,P,H,K,null);if(typeof H.then=="function")return $(G,P,Yl(H),K);if(H.$$typeof===B)return $(G,P,Il(G,H),K);Jl(G,H)}return null}function Y(G,P,H,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return G=G.get(H)||null,C(P,G,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return G=G.get(K.key===null?H:K.key)||null,_(P,G,K,de);case j:return G=G.get(K.key===null?H:K.key)||null,z(P,G,K,de);case ie:var we=K._init;return K=we(K._payload),Y(G,P,H,K,de)}if(se(K)||ae(K))return G=G.get(H)||null,J(P,G,K,de,null);if(typeof K.then=="function")return Y(G,P,H,Yl(K),de);if(K.$$typeof===B)return Y(G,P,H,Il(P,K),de);Jl(P,K)}return null}function xe(G,P,H,K){for(var de=null,we=null,me=P,ge=P=0,st=null;me!==null&&ge<H.length;ge++){me.index>ge?(st=me,me=null):st=me.sibling;var Me=$(G,me,H[ge],K);if(Me===null){me===null&&(me=st);break}n&&me&&Me.alternate===null&&i(G,me),P=y(Me,P,ge),we===null?de=Me:we.sibling=Me,we=Me,me=st}if(ge===H.length)return o(G,me),Re&&es(G,ge),de;if(me===null){for(;ge<H.length;ge++)me=W(G,H[ge],K),me!==null&&(P=y(me,P,ge),we===null?de=me:we.sibling=me,we=me);return Re&&es(G,ge),de}for(me=d(me);ge<H.length;ge++)st=Y(me,G,ge,H[ge],K),st!==null&&(n&&st.alternate!==null&&me.delete(st.key===null?ge:st.key),P=y(st,P,ge),we===null?de=st:we.sibling=st,we=st);return n&&me.forEach(function(qn){return i(G,qn)}),Re&&es(G,ge),de}function pe(G,P,H,K){if(H==null)throw Error(a(151));for(var de=null,we=null,me=P,ge=P=0,st=null,Me=H.next();me!==null&&!Me.done;ge++,Me=H.next()){me.index>ge?(st=me,me=null):st=me.sibling;var qn=$(G,me,Me.value,K);if(qn===null){me===null&&(me=st);break}n&&me&&qn.alternate===null&&i(G,me),P=y(qn,P,ge),we===null?de=qn:we.sibling=qn,we=qn,me=st}if(Me.done)return o(G,me),Re&&es(G,ge),de;if(me===null){for(;!Me.done;ge++,Me=H.next())Me=W(G,Me.value,K),Me!==null&&(P=y(Me,P,ge),we===null?de=Me:we.sibling=Me,we=Me);return Re&&es(G,ge),de}for(me=d(me);!Me.done;ge++,Me=H.next())Me=Y(me,G,ge,Me.value,K),Me!==null&&(n&&Me.alternate!==null&&me.delete(Me.key===null?ge:Me.key),P=y(Me,P,ge),we===null?de=Me:we.sibling=Me,we=Me);return n&&me.forEach(function(fx){return i(G,fx)}),Re&&es(G,ge),de}function Ue(G,P,H,K){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case N:e:{for(var de=H.key;P!==null;){if(P.key===de){if(de=H.type,de===A){if(P.tag===7){o(G,P.sibling),K=m(P,H.props.children),K.return=G,G=K;break e}}else if(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ie&&Ud(de)===P.type){o(G,P.sibling),K=m(P,H.props),Fi(K,H),K.return=G,G=K;break e}o(G,P);break}else i(G,P);P=P.sibling}H.type===A?(K=Xn(H.props.children,G.mode,K,H.key),K.return=G,G=K):(K=Rl(H.type,H.key,H.props,null,G.mode,K),Fi(K,H),K.return=G,G=K)}return T(G);case j:e:{for(de=H.key;P!==null;){if(P.key===de)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){o(G,P.sibling),K=m(P,H.children||[]),K.return=G,G=K;break e}else{o(G,P);break}else i(G,P);P=P.sibling}K=Ro(H,G.mode,K),K.return=G,G=K}return T(G);case ie:return de=H._init,H=de(H._payload),Ue(G,P,H,K)}if(se(H))return xe(G,P,H,K);if(ae(H)){if(de=ae(H),typeof de!="function")throw Error(a(150));return H=de.call(H),pe(G,P,H,K)}if(typeof H.then=="function")return Ue(G,P,Yl(H),K);if(H.$$typeof===B)return Ue(G,P,Il(G,H),K);Jl(G,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(o(G,P.sibling),K=m(P,H),K.return=G,G=K):(o(G,P),K=Mo(H,G.mode,K),K.return=G,G=K),T(G)):o(G,P)}return function(G,P,H,K){try{qi=0;var de=Ue(G,P,H,K);return Vs=null,de}catch(me){if(me===_i||me===Ul)throw me;var we=St(29,me,null,G.mode);return we.lanes=K,we.return=G,we}finally{}}}var qs=Pd(!0),Bd=Pd(!1),Bt=O(null),Jt=null;function jn(n){var i=n.alternate;ne(Ze,Ze.current&1),ne(Bt,n),Jt===null&&(i===null||Us.current!==null||i.memoizedState!==null)&&(Jt=n)}function Gd(n){if(n.tag===22){if(ne(Ze,Ze.current),ne(Bt,n),Jt===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Jt=n)}}else An()}function An(){ne(Ze,Ze.current),ne(Bt,Bt.current)}function cn(n){le(Bt),Jt===n&&(Jt=null),le(Ze)}var Ze=O(0);function Kl(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Xr(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function cr(n,i,o,d){i=n.memoizedState,o=o(d,i),o=o==null?i:v({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var ur={enqueueSetState:function(n,i,o){n=n._reactInternals;var d=At(),m=Sn(d);m.payload=i,o!=null&&(m.callback=o),i=Cn(n,m,d),i!==null&&(Et(i,n,d),Ii(i,n,d))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var d=At(),m=Sn(d);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=Cn(n,m,d),i!==null&&(Et(i,n,d),Ii(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=At(),d=Sn(o);d.tag=2,i!=null&&(d.callback=i),i=Cn(n,d,o),i!==null&&(Et(i,n,o),Ii(i,n,o))}};function Vd(n,i,o,d,m,y,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,y,T):i.prototype&&i.prototype.isPureReactComponent?!Ci(o,d)||!Ci(m,y):!0}function qd(n,i,o,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==n&&ur.enqueueReplaceState(i,i.state,null)}function os(n,i){var o=i;if("ref"in i){o={};for(var d in i)d!=="ref"&&(o[d]=i[d])}if(n=n.defaultProps){o===i&&(o=v({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}var Wl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Fd(n){Wl(n)}function Hd(n){console.error(n)}function zd(n){Wl(n)}function Ql(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Od(n,i,o){try{var d=n.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function dr(n,i,o){return o=Sn(o),o.tag=3,o.payload={element:null},o.callback=function(){Ql(n,i)},o}function $d(n){return n=Sn(n),n.tag=3,n}function Yd(n,i,o,d){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;n.payload=function(){return m(y)},n.callback=function(){Od(i,o,d)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Od(i,o,d),typeof m!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function fg(n,i,o,d,m){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=o.alternate,i!==null&&Mi(i,o,m,!0),o=Bt.current,o!==null){switch(o.tag){case 13:return Jt===null?Lr():o.alternate===null&&Oe===0&&(Oe=3),o.flags&=-257,o.flags|=65536,o.lanes=m,d===Vo?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([d]):i.add(d),Pr(n,d,m)),!1;case 22:return o.flags|=65536,d===Vo?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([d]):o.add(d)),Pr(n,d,m)),!1}throw Error(a(435,o.tag))}return Pr(n,d,m),Lr(),!1}if(Re)return i=Bt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,d!==Do&&(n=Error(a(422),{cause:d}),Ei(It(n,o)))):(d!==Do&&(i=Error(a(423),{cause:d}),Ei(It(i,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,d=It(d,o),m=dr(n.stateNode,d,m),Ho(n,m),Oe!==4&&(Oe=2)),!1;var y=Error(a(520),{cause:d});if(y=It(y,o),Ki===null?Ki=[y]:Ki.push(y),Oe!==4&&(Oe=2),i===null)return!0;d=It(d,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=dr(o.stateNode,d,n),Ho(o,n),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Dn===null||!Dn.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=$d(m),Yd(m,n,o,d),Ho(o,m),!1}o=o.return}while(o!==null);return!1}var Jd=Error(a(461)),tt=!1;function lt(n,i,o,d){i.child=n===null?Bd(i,null,o,d):qs(i,n.child,o,d)}function Kd(n,i,o,d,m){o=o.render;var y=i.ref;if("ref"in d){var T={};for(var C in d)C!=="ref"&&(T[C]=d[C])}else T=d;return is(i),d=Jo(n,i,o,T,y,m),C=Ko(),n!==null&&!tt?(Wo(n,i,m),un(n,i,m)):(Re&&C&&ko(i),i.flags|=1,lt(n,i,d,m),i.child)}function Wd(n,i,o,d,m){if(n===null){var y=o.type;return typeof y=="function"&&!Eo(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,Qd(n,i,y,d,m)):(n=Rl(o.type,null,d,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!vr(n,m)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ci,o(T,d)&&n.ref===i.ref)return un(n,i,m)}return i.flags|=1,n=nn(y,d),n.ref=i.ref,n.return=i,i.child=n}function Qd(n,i,o,d,m){if(n!==null){var y=n.memoizedProps;if(Ci(y,d)&&n.ref===i.ref)if(tt=!1,i.pendingProps=d=y,vr(n,m))(n.flags&131072)!==0&&(tt=!0);else return i.lanes=n.lanes,un(n,i,m)}return fr(n,i,o,d,m)}function Xd(n,i,o){var d=i.pendingProps,m=d.children,y=n!==null?n.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=y!==null?y.baseLanes|o:o,n!==null){for(m=i.child=n.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;i.childLanes=y&~d}else i.childLanes=0,i.child=null;return Zd(n,i,d,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ll(i,y!==null?y.cachePool:null),y!==null?Qu(i,y):Oo(),Gd(i);else return i.lanes=i.childLanes=536870912,Zd(n,i,y!==null?y.baseLanes|o:o,o)}else y!==null?(Ll(i,y.cachePool),Qu(i,y),An(),i.memoizedState=null):(n!==null&&Ll(i,null),Oo(),An());return lt(n,i,m,o),i.child}function Zd(n,i,o,d){var m=Go();return m=m===null?null:{parent:Xe._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},n!==null&&Ll(i,null),Oo(),Gd(i),n!==null&&Mi(n,i,d,!0),null}function Xl(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function fr(n,i,o,d,m){return is(i),o=Jo(n,i,o,d,void 0,m),d=Ko(),n!==null&&!tt?(Wo(n,i,m),un(n,i,m)):(Re&&d&&ko(i),i.flags|=1,lt(n,i,o,m),i.child)}function ef(n,i,o,d,m,y){return is(i),i.updateQueue=null,o=Zu(i,d,o,m),Xu(n),d=Ko(),n!==null&&!tt?(Wo(n,i,y),un(n,i,y)):(Re&&d&&ko(i),i.flags|=1,lt(n,i,o,y),i.child)}function tf(n,i,o,d,m){if(is(i),i.stateNode===null){var y=ks,T=o.contextType;typeof T=="object"&&T!==null&&(y=ut(T)),y=new o(d,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ur,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=d,y.state=i.memoizedState,y.refs={},qo(i),T=o.contextType,y.context=typeof T=="object"&&T!==null?ut(T):ks,y.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(cr(i,o,T,d),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&ur.enqueueReplaceState(y,y.state,null),Ui(i,d,y,m),Li(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(n===null){y=i.stateNode;var C=i.memoizedProps,_=os(o,C);y.props=_;var z=y.context,J=o.contextType;T=ks,typeof J=="object"&&J!==null&&(T=ut(J));var W=o.getDerivedStateFromProps;J=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,J||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||z!==T)&&qd(i,y,d,T),Tn=!1;var $=i.memoizedState;y.state=$,Ui(i,d,y,m),Li(),z=i.memoizedState,C||$!==z||Tn?(typeof W=="function"&&(cr(i,o,W,d),z=i.memoizedState),(_=Tn||Vd(i,o,_,d,$,z,T))?(J||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=z),y.props=d,y.state=z,y.context=T,d=_):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{y=i.stateNode,Fo(n,i),T=i.memoizedProps,J=os(o,T),y.props=J,W=i.pendingProps,$=y.context,z=o.contextType,_=ks,typeof z=="object"&&z!==null&&(_=ut(z)),C=o.getDerivedStateFromProps,(z=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==W||$!==_)&&qd(i,y,d,_),Tn=!1,$=i.memoizedState,y.state=$,Ui(i,d,y,m),Li();var Y=i.memoizedState;T!==W||$!==Y||Tn||n!==null&&n.dependencies!==null&&Dl(n.dependencies)?(typeof C=="function"&&(cr(i,o,C,d),Y=i.memoizedState),(J=Tn||Vd(i,o,J,d,$,Y,_)||n!==null&&n.dependencies!==null&&Dl(n.dependencies))?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,Y,_),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,Y,_)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Y),y.props=d,y.state=Y,y.context=_,d=J):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(i.flags|=1024),d=!1)}return y=d,Xl(n,i),d=(i.flags&128)!==0,y||d?(y=i.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&d?(i.child=qs(i,n.child,null,m),i.child=qs(i,null,o,m)):lt(n,i,o,m),i.memoizedState=y.state,n=i.child):n=un(n,i,m),n}function nf(n,i,o,d){return Ai(),i.flags|=256,lt(n,i,o,d),i.child}var mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hr(n){return{baseLanes:n,cachePool:Hu()}}function pr(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Gt),n}function sf(n,i,o){var d=i.pendingProps,m=!1,y=(i.flags&128)!==0,T;if((T=y)||(T=n!==null&&n.memoizedState===null?!1:(Ze.current&2)!==0),T&&(m=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(Re){if(m?jn(i):An(),Re){var C=ze,_;if(_=C){e:{for(_=C,C=Yt;_.nodeType!==8;){if(!C){C=null;break e}if(_=$t(_.nextSibling),_===null){C=null;break e}}C=_}C!==null?(i.memoizedState={dehydrated:C,treeContext:Zn!==null?{id:sn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},_=St(18,null,null,0),_.stateNode=C,_.return=i,i.child=_,ht=i,ze=null,_=!0):_=!1}_||ns(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Xr(C)?i.lanes=32:i.lanes=536870912,null;cn(i)}return C=d.children,d=d.fallback,m?(An(),m=i.mode,C=Zl({mode:"hidden",children:C},m),d=Xn(d,m,o,null),C.return=i,d.return=i,C.sibling=d,i.child=C,m=i.child,m.memoizedState=hr(o),m.childLanes=pr(n,T,o),i.memoizedState=mr,d):(jn(i),gr(i,C))}if(_=n.memoizedState,_!==null&&(C=_.dehydrated,C!==null)){if(y)i.flags&256?(jn(i),i.flags&=-257,i=xr(n,i,o)):i.memoizedState!==null?(An(),i.child=n.child,i.flags|=128,i=null):(An(),m=d.fallback,C=i.mode,d=Zl({mode:"visible",children:d.children},C),m=Xn(m,C,o,null),m.flags|=2,d.return=i,m.return=i,d.sibling=m,i.child=d,qs(i,n.child,null,o),d=i.child,d.memoizedState=hr(o),d.childLanes=pr(n,T,o),i.memoizedState=mr,i=m);else if(jn(i),Xr(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var z=T.dgst;T=z,d=Error(a(419)),d.stack="",d.digest=T,Ei({value:d,source:null,stack:null}),i=xr(n,i,o)}else if(tt||Mi(n,i,o,!1),T=(o&n.childLanes)!==0,tt||T){if(T=Ge,T!==null&&(d=o&-o,d=(d&42)!==0?1:Xa(d),d=(d&(T.suspendedLanes|o))!==0?0:d,d!==0&&d!==_.retryLane))throw _.retryLane=d,Rs(n,d),Et(T,n,d),Jd;C.data==="$?"||Lr(),i=xr(n,i,o)}else C.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=_.treeContext,ze=$t(C.nextSibling),ht=i,Re=!0,ts=null,Yt=!1,n!==null&&(Ut[Pt++]=sn,Ut[Pt++]=ln,Ut[Pt++]=Zn,sn=n.id,ln=n.overflow,Zn=i),i=gr(i,d.children),i.flags|=4096);return i}return m?(An(),m=d.fallback,C=i.mode,_=n.child,z=_.sibling,d=nn(_,{mode:"hidden",children:d.children}),d.subtreeFlags=_.subtreeFlags&65011712,z!==null?m=nn(z,m):(m=Xn(m,C,o,null),m.flags|=2),m.return=i,d.return=i,d.sibling=m,i.child=d,d=m,m=i.child,C=n.child.memoizedState,C===null?C=hr(o):(_=C.cachePool,_!==null?(z=Xe._currentValue,_=_.parent!==z?{parent:z,pool:z}:_):_=Hu(),C={baseLanes:C.baseLanes|o,cachePool:_}),m.memoizedState=C,m.childLanes=pr(n,T,o),i.memoizedState=mr,d):(jn(i),o=n.child,n=o.sibling,o=nn(o,{mode:"visible",children:d.children}),o.return=i,o.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=o,i.memoizedState=null,o)}function gr(n,i){return i=Zl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Zl(n,i){return n=St(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function xr(n,i,o){return qs(i,n.child,null,o),n=gr(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function lf(n,i,o){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),Lo(n.return,i,o)}function yr(n,i,o,d,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=o,y.tailMode=m)}function af(n,i,o){var d=i.pendingProps,m=d.revealOrder,y=d.tail;if(lt(n,i,d.children,o),d=Ze.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lf(n,o,i);else if(n.tag===19)lf(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(ne(Ze,d),m){case"forwards":for(o=i.child,m=null;o!==null;)n=o.alternate,n!==null&&Kl(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),yr(i,!1,m,o,y);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&Kl(n)===null){i.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}yr(i,!0,o,null,y);break;case"together":yr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function un(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),_n|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Mi(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=nn(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=nn(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function vr(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Dl(n)))}function mg(n,i,o){switch(i.tag){case 3:Pe(i,i.stateNode.containerInfo),Nn(i,Xe,n.memoizedState.cache),Ai();break;case 27:case 5:Hn(i);break;case 4:Pe(i,i.stateNode.containerInfo);break;case 10:Nn(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(jn(i),i.flags|=128,null):(o&i.child.childLanes)!==0?sf(n,i,o):(jn(i),n=un(n,i,o),n!==null?n.sibling:null);jn(i);break;case 19:var m=(n.flags&128)!==0;if(d=(o&i.childLanes)!==0,d||(Mi(n,i,o,!1),d=(o&i.childLanes)!==0),m){if(d)return af(n,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ne(Ze,Ze.current),d)break;return null;case 22:case 23:return i.lanes=0,Xd(n,i,o);case 24:Nn(i,Xe,n.memoizedState.cache)}return un(n,i,o)}function of(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)tt=!0;else{if(!vr(n,o)&&(i.flags&128)===0)return tt=!1,mg(n,i,o);tt=(n.flags&131072)!==0}else tt=!1,Re&&(i.flags&1048576)!==0&&Uu(i,_l,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var d=i.elementType,m=d._init;if(d=m(d._payload),i.type=d,typeof d=="function")Eo(d)?(n=os(d,n),i.tag=1,i=tf(null,i,d,n,o)):(i.tag=0,i=fr(null,i,d,n,o));else{if(d!=null){if(m=d.$$typeof,m===D){i.tag=11,i=Kd(null,i,d,n,o);break e}else if(m===ue){i.tag=14,i=Wd(null,i,d,n,o);break e}}throw i=Ne(d)||d,Error(a(306,i,""))}}return i;case 0:return fr(n,i,i.type,i.pendingProps,o);case 1:return d=i.type,m=os(d,i.pendingProps),tf(n,i,d,m,o);case 3:e:{if(Pe(i,i.stateNode.containerInfo),n===null)throw Error(a(387));d=i.pendingProps;var y=i.memoizedState;m=y.element,Fo(n,i),Ui(i,d,null,o);var T=i.memoizedState;if(d=T.cache,Nn(i,Xe,d),d!==y.cache&&Uo(i,[Xe],o,!0),Li(),d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=nf(n,i,d,o);break e}else if(d!==m){m=It(Error(a(424)),i),Ei(m),i=nf(n,i,d,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ze=$t(n.firstChild),ht=i,Re=!0,ts=null,Yt=!0,o=Bd(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ai(),d===m){i=un(n,i,o);break e}lt(n,i,d,o)}i=i.child}return i;case 26:return Xl(n,i),n===null?(o=dm(i.type,null,i.pendingProps,null))?i.memoizedState=o:Re||(o=i.type,n=i.pendingProps,d=ma(he.current).createElement(o),d[ct]=i,d[xt]=n,ot(d,o,n),et(d),i.stateNode=d):i.memoizedState=dm(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Hn(i),n===null&&Re&&(d=i.stateNode=rm(i.type,i.pendingProps,he.current),ht=i,Yt=!0,m=ze,Un(i.type)?(Zr=m,ze=$t(d.firstChild)):ze=m),lt(n,i,i.pendingProps.children,o),Xl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Re&&((m=d=ze)&&(d=qg(d,i.type,i.pendingProps,Yt),d!==null?(i.stateNode=d,ht=i,ze=$t(d.firstChild),Yt=!1,m=!0):m=!1),m||ns(i)),Hn(i),m=i.type,y=i.pendingProps,T=n!==null?n.memoizedProps:null,d=y.children,Kr(m,y)?d=null:T!==null&&Kr(m,T)&&(i.flags|=32),i.memoizedState!==null&&(m=Jo(n,i,lg,null,null,o),il._currentValue=m),Xl(n,i),lt(n,i,d,o),i.child;case 6:return n===null&&Re&&((n=o=ze)&&(o=Fg(o,i.pendingProps,Yt),o!==null?(i.stateNode=o,ht=i,ze=null,n=!0):n=!1),n||ns(i)),null;case 13:return sf(n,i,o);case 4:return Pe(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=qs(i,null,d,o):lt(n,i,d,o),i.child;case 11:return Kd(n,i,i.type,i.pendingProps,o);case 7:return lt(n,i,i.pendingProps,o),i.child;case 8:return lt(n,i,i.pendingProps.children,o),i.child;case 12:return lt(n,i,i.pendingProps.children,o),i.child;case 10:return d=i.pendingProps,Nn(i,i.type,d.value),lt(n,i,d.children,o),i.child;case 9:return m=i.type._context,d=i.pendingProps.children,is(i),m=ut(m),d=d(m),i.flags|=1,lt(n,i,d,o),i.child;case 14:return Wd(n,i,i.type,i.pendingProps,o);case 15:return Qd(n,i,i.type,i.pendingProps,o);case 19:return af(n,i,o);case 31:return d=i.pendingProps,o=i.mode,d={mode:d.mode,children:d.children},n===null?(o=Zl(d,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=nn(n.child,d),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Xd(n,i,o);case 24:return is(i),d=ut(Xe),n===null?(m=Go(),m===null&&(m=Ge,y=Po(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),i.memoizedState={parent:d,cache:m},qo(i),Nn(i,Xe,m)):((n.lanes&o)!==0&&(Fo(n,i),Ui(i,null,null,o),Li()),m=n.memoizedState,y=i.memoizedState,m.parent!==d?(m={parent:d,cache:d},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Nn(i,Xe,d)):(d=y.cache,Nn(i,Xe,d),d!==m.cache&&Uo(i,[Xe],o,!0))),lt(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function dn(n){n.flags|=4}function rf(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!gm(i)){if(i=Bt.current,i!==null&&((Ee&4194048)===Ee?Jt!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||i!==Jt))throw Di=Vo,zu;n.flags|=8192}}function ea(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?be():536870912,n.lanes|=i,Os|=i)}function Hi(n,i){if(!Re)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function He(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,d=0;if(i)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=d,n.childLanes=o,i}function hg(n,i,o){var d=i.pendingProps;switch(_o(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(i),null;case 1:return He(i),null;case 3:return o=i.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),on(Xe),Ft(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ji(i)?dn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gu())),He(i),null;case 26:return o=i.memoizedState,n===null?(dn(i),o!==null?(He(i),rf(i,o)):(He(i),i.flags&=-16777217)):o?o!==n.memoizedState?(dn(i),He(i),rf(i,o)):(He(i),i.flags&=-16777217):(n.memoizedProps!==d&&dn(i),He(i),i.flags&=-16777217),null;case 27:pt(i),o=he.current;var m=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==d&&dn(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return He(i),null}n=ce.current,ji(i)?Pu(i):(n=rm(m,d,o),i.stateNode=n,dn(i))}return He(i),null;case 5:if(pt(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&dn(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return He(i),null}if(n=ce.current,ji(i))Pu(i);else{switch(m=ma(he.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?n.multiple=!0:d.size&&(n.size=d.size);break;default:n=typeof d.is=="string"?m.createElement(o,{is:d.is}):m.createElement(o)}}n[ct]=i,n[xt]=d;e:for(m=i.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break e;for(;m.sibling===null;){if(m.return===null||m.return===i)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}i.stateNode=n;e:switch(ot(n,o,d),o){case"button":case"input":case"select":case"textarea":n=!!d.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&dn(i)}}return He(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==d&&dn(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(a(166));if(n=he.current,ji(i)){if(n=i.stateNode,o=i.memoizedProps,d=null,m=ht,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}n[ct]=i,n=!!(n.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||tm(n.nodeValue,o)),n||ns(i)}else n=ma(n).createTextNode(d),n[ct]=i,i.stateNode=n}return He(i),null;case 13:if(d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=ji(i),d!==null&&d.dehydrated!==null){if(n===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[ct]=i}else Ai(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;He(i),m=!1}else m=Gu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(cn(i),i):(cn(i),null)}if(cn(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=d!==null,n=n!==null&&n.memoizedState!==null,o){d=i.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),ea(i,i.updateQueue),He(i),null;case 4:return Ft(),n===null&&zr(i.stateNode.containerInfo),He(i),null;case 10:return on(i.type),He(i),null;case 19:if(le(Ze),m=i.memoizedState,m===null)return He(i),null;if(d=(i.flags&128)!==0,y=m.rendering,y===null)if(d)Hi(m,!1);else{if(Oe!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=Kl(n),y!==null){for(i.flags|=128,Hi(m,!1),n=y.updateQueue,i.updateQueue=n,ea(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Lu(o,n),o=o.sibling;return ne(Ze,Ze.current&1|2),i.child}n=n.sibling}m.tail!==null&&gt()>sa&&(i.flags|=128,d=!0,Hi(m,!1),i.lanes=4194304)}else{if(!d)if(n=Kl(y),n!==null){if(i.flags|=128,d=!0,n=n.updateQueue,i.updateQueue=n,ea(i,n),Hi(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Re)return He(i),null}else 2*gt()-m.renderingStartTime>sa&&o!==536870912&&(i.flags|=128,d=!0,Hi(m,!1),i.lanes=4194304);m.isBackwards?(y.sibling=i.child,i.child=y):(n=m.last,n!==null?n.sibling=y:i.child=y,m.last=y)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=gt(),i.sibling=null,n=Ze.current,ne(Ze,d?n&1|2:n&1),i):(He(i),null);case 22:case 23:return cn(i),$o(),d=i.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(o&536870912)!==0&&(i.flags&128)===0&&(He(i),i.subtreeFlags&6&&(i.flags|=8192)):He(i),o=i.updateQueue,o!==null&&ea(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048),n!==null&&le(ls),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),on(Xe),He(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function pg(n,i){switch(_o(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return on(Xe),Ft(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return pt(i),null;case 13:if(cn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ai()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return le(Ze),null;case 4:return Ft(),null;case 10:return on(i.type),null;case 22:case 23:return cn(i),$o(),n!==null&&le(ls),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return on(Xe),null;case 25:return null;default:return null}}function cf(n,i){switch(_o(i),i.tag){case 3:on(Xe),Ft();break;case 26:case 27:case 5:pt(i);break;case 4:Ft();break;case 13:cn(i);break;case 19:le(Ze);break;case 10:on(i.type);break;case 22:case 23:cn(i),$o(),n!==null&&le(ls);break;case 24:on(Xe)}}function zi(n,i){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&n)===n){d=void 0;var y=o.create,T=o.inst;d=y(),T.destroy=d}o=o.next}while(o!==m)}}catch(C){Be(i,i.return,C)}}function En(n,i,o){try{var d=i.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&n)===n){var T=d.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,m=i;var _=o,z=C;try{z()}catch(J){Be(m,_,J)}}}d=d.next}while(d!==y)}}catch(J){Be(i,i.return,J)}}function uf(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Wu(i,o)}catch(d){Be(n,n.return,d)}}}function df(n,i,o){o.props=os(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(d){Be(n,i,d)}}function Oi(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof o=="function"?n.refCleanup=o(d):o.current=d}}catch(m){Be(n,i,m)}}function Kt(n,i){var o=n.ref,d=n.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(m){Be(n,i,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Be(n,i,m)}else o.current=null}function ff(n){var i=n.type,o=n.memoizedProps,d=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(m){Be(n,n.return,m)}}function br(n,i,o){try{var d=n.stateNode;Ug(d,n.type,o,i),d[xt]=i}catch(m){Be(n,n.return,m)}}function mf(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Un(n.type)||n.tag===4}function Nr(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||mf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Un(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tr(n,i,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=fa));else if(d!==4&&(d===27&&Un(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Tr(n,i,o),n=n.sibling;n!==null;)Tr(n,i,o),n=n.sibling}function ta(n,i,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(d!==4&&(d===27&&Un(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(ta(n,i,o),n=n.sibling;n!==null;)ta(n,i,o),n=n.sibling}function hf(n){var i=n.stateNode,o=n.memoizedProps;try{for(var d=n.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);ot(i,d,o),i[ct]=n,i[xt]=o}catch(y){Be(n,n.return,y)}}var fn=!1,Ke=!1,Sr=!1,pf=typeof WeakSet=="function"?WeakSet:Set,nt=null;function gg(n,i){if(n=n.containerInfo,Yr=va,n=wu(n),No(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,C=-1,_=-1,z=0,J=0,W=n,$=null;t:for(;;){for(var Y;W!==o||m!==0&&W.nodeType!==3||(C=T+m),W!==y||d!==0&&W.nodeType!==3||(_=T+d),W.nodeType===3&&(T+=W.nodeValue.length),(Y=W.firstChild)!==null;)$=W,W=Y;for(;;){if(W===n)break t;if($===o&&++z===m&&(C=T),$===y&&++J===d&&(_=T),(Y=W.nextSibling)!==null)break;W=$,$=W.parentNode}W=Y}o=C===-1||_===-1?null:{start:C,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jr={focusedElem:n,selectionRange:o},va=!1,nt=i;nt!==null;)if(i=nt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,nt=n;else for(;nt!==null;){switch(i=nt,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=i,m=y.memoizedProps,y=y.memoizedState,d=o.stateNode;try{var xe=os(o.type,m,o.elementType===o.type);n=d.getSnapshotBeforeUpdate(xe,y),d.__reactInternalSnapshotBeforeUpdate=n}catch(pe){Be(o,o.return,pe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Qr(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Qr(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,nt=n;break}nt=i.return}}function gf(n,i,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:Mn(n,o),d&4&&zi(5,o);break;case 1:if(Mn(n,o),d&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(T){Be(o,o.return,T)}else{var m=os(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(m,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Be(o,o.return,T)}}d&64&&uf(o),d&512&&Oi(o,o.return);break;case 3:if(Mn(n,o),d&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Wu(n,i)}catch(T){Be(o,o.return,T)}}break;case 27:i===null&&d&4&&hf(o);case 26:case 5:Mn(n,o),i===null&&d&4&&ff(o),d&512&&Oi(o,o.return);break;case 12:Mn(n,o);break;case 13:Mn(n,o),d&4&&vf(n,o),d&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=wg.bind(null,o),Hg(n,o))));break;case 22:if(d=o.memoizedState!==null||fn,!d){i=i!==null&&i.memoizedState!==null||Ke,m=fn;var y=Ke;fn=d,(Ke=i)&&!y?Rn(n,o,(o.subtreeFlags&8772)!==0):Mn(n,o),fn=m,Ke=y}break;case 30:break;default:Mn(n,o)}}function xf(n){var i=n.alternate;i!==null&&(n.alternate=null,xf(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&to(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var qe=null,bt=!1;function mn(n,i,o){for(o=o.child;o!==null;)yf(n,i,o),o=o.sibling}function yf(n,i,o){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(On,o)}catch{}switch(o.tag){case 26:Ke||Kt(o,i),mn(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ke||Kt(o,i);var d=qe,m=bt;Un(o.type)&&(qe=o.stateNode,bt=!1),mn(n,i,o),el(o.stateNode),qe=d,bt=m;break;case 5:Ke||Kt(o,i);case 6:if(d=qe,m=bt,qe=null,mn(n,i,o),qe=d,bt=m,qe!==null)if(bt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(o.stateNode)}catch(y){Be(o,i,y)}else try{qe.removeChild(o.stateNode)}catch(y){Be(o,i,y)}break;case 18:qe!==null&&(bt?(n=qe,am(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),rl(n)):am(qe,o.stateNode));break;case 4:d=qe,m=bt,qe=o.stateNode.containerInfo,bt=!0,mn(n,i,o),qe=d,bt=m;break;case 0:case 11:case 14:case 15:Ke||En(2,o,i),Ke||En(4,o,i),mn(n,i,o);break;case 1:Ke||(Kt(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"&&df(o,i,d)),mn(n,i,o);break;case 21:mn(n,i,o);break;case 22:Ke=(d=Ke)||o.memoizedState!==null,mn(n,i,o),Ke=d;break;default:mn(n,i,o)}}function vf(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{rl(n)}catch(o){Be(i,i.return,o)}}function xg(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new pf),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new pf),i;default:throw Error(a(435,n.tag))}}function Cr(n,i){var o=xg(n);i.forEach(function(d){var m=jg.bind(null,n,d);o.has(d)||(o.add(d),d.then(m,m))})}function Ct(n,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d],y=n,T=i,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Un(C.type)){qe=C.stateNode,bt=!1;break e}break;case 5:qe=C.stateNode,bt=!1;break e;case 3:case 4:qe=C.stateNode.containerInfo,bt=!0;break e}C=C.return}if(qe===null)throw Error(a(160));yf(y,T,m),qe=null,bt=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)bf(i,n),i=i.sibling}var Ot=null;function bf(n,i){var o=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ct(i,n),wt(n),d&4&&(En(3,n,n.return),zi(3,n),En(5,n,n.return));break;case 1:Ct(i,n),wt(n),d&512&&(Ke||o===null||Kt(o,o.return)),d&64&&fn&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var m=Ot;if(Ct(i,n),wt(n),d&512&&(Ke||o===null||Kt(o,o.return)),d&4){var y=o!==null?o.memoizedState:null;if(d=n.memoizedState,o===null)if(d===null)if(n.stateNode===null){e:{d=n.type,o=n.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[pi]||y[ct]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),ot(y,d,o),y[ct]=n,et(y),d=y;break e;case"link":var T=hm("link","href",m).get(d+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(y=T[C],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break t}}y=m.createElement(d),ot(y,d,o),m.head.appendChild(y);break;case"meta":if(T=hm("meta","content",m).get(d+(o.content||""))){for(C=0;C<T.length;C++)if(y=T[C],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break t}}y=m.createElement(d),ot(y,d,o),m.head.appendChild(y);break;default:throw Error(a(468,d))}y[ct]=n,et(y),d=y}n.stateNode=d}else pm(m,n.type,n.stateNode);else n.stateNode=mm(m,d,n.memoizedProps);else y!==d?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,d===null?pm(m,n.type,n.stateNode):mm(m,d,n.memoizedProps)):d===null&&n.stateNode!==null&&br(n,n.memoizedProps,o.memoizedProps)}break;case 27:Ct(i,n),wt(n),d&512&&(Ke||o===null||Kt(o,o.return)),o!==null&&d&4&&br(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Ct(i,n),wt(n),d&512&&(Ke||o===null||Kt(o,o.return)),n.flags&32){m=n.stateNode;try{Ss(m,"")}catch(Y){Be(n,n.return,Y)}}d&4&&n.stateNode!=null&&(m=n.memoizedProps,br(n,m,o!==null?o.memoizedProps:m)),d&1024&&(Sr=!0);break;case 6:if(Ct(i,n),wt(n),d&4){if(n.stateNode===null)throw Error(a(162));d=n.memoizedProps,o=n.stateNode;try{o.nodeValue=d}catch(Y){Be(n,n.return,Y)}}break;case 3:if(ga=null,m=Ot,Ot=ha(i.containerInfo),Ct(i,n),Ot=m,wt(n),d&4&&o!==null&&o.memoizedState.isDehydrated)try{rl(i.containerInfo)}catch(Y){Be(n,n.return,Y)}Sr&&(Sr=!1,Nf(n));break;case 4:d=Ot,Ot=ha(n.stateNode.containerInfo),Ct(i,n),wt(n),Ot=d;break;case 12:Ct(i,n),wt(n);break;case 13:Ct(i,n),wt(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rr=gt()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Cr(n,d)));break;case 22:m=n.memoizedState!==null;var _=o!==null&&o.memoizedState!==null,z=fn,J=Ke;if(fn=z||m,Ke=J||_,Ct(i,n),Ke=J,fn=z,wt(n),d&8192)e:for(i=n.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||_||fn||Ke||rs(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){_=o=i;try{if(y=_.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=_.stateNode;var W=_.memoizedProps.style,$=W!=null&&W.hasOwnProperty("display")?W.display:null;C.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Y){Be(_,_.return,Y)}}}else if(i.tag===6){if(o===null){_=i;try{_.stateNode.nodeValue=m?"":_.memoizedProps}catch(Y){Be(_,_.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=n.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,Cr(n,o))));break;case 19:Ct(i,n),wt(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Cr(n,d)));break;case 30:break;case 21:break;default:Ct(i,n),wt(n)}}function wt(n){var i=n.flags;if(i&2){try{for(var o,d=n.return;d!==null;){if(mf(d)){o=d;break}d=d.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,y=Nr(n);ta(n,y,m);break;case 5:var T=o.stateNode;o.flags&32&&(Ss(T,""),o.flags&=-33);var C=Nr(n);ta(n,C,T);break;case 3:case 4:var _=o.stateNode.containerInfo,z=Nr(n);Tr(n,z,_);break;default:throw Error(a(161))}}catch(J){Be(n,n.return,J)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Nf(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Nf(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Mn(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gf(n,i.alternate,i),i=i.sibling}function rs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:En(4,i,i.return),rs(i);break;case 1:Kt(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&df(i,i.return,o),rs(i);break;case 27:el(i.stateNode);case 26:case 5:Kt(i,i.return),rs(i);break;case 22:i.memoizedState===null&&rs(i);break;case 30:rs(i);break;default:rs(i)}n=n.sibling}}function Rn(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,m=n,y=i,T=y.flags;switch(y.tag){case 0:case 11:case 15:Rn(m,y,o),zi(4,y);break;case 1:if(Rn(m,y,o),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(z){Be(d,d.return,z)}if(d=y,m=d.updateQueue,m!==null){var C=d.stateNode;try{var _=m.shared.hiddenCallbacks;if(_!==null)for(m.shared.hiddenCallbacks=null,m=0;m<_.length;m++)Ku(_[m],C)}catch(z){Be(d,d.return,z)}}o&&T&64&&uf(y),Oi(y,y.return);break;case 27:hf(y);case 26:case 5:Rn(m,y,o),o&&d===null&&T&4&&ff(y),Oi(y,y.return);break;case 12:Rn(m,y,o);break;case 13:Rn(m,y,o),o&&T&4&&vf(m,y);break;case 22:y.memoizedState===null&&Rn(m,y,o),Oi(y,y.return);break;case 30:break;default:Rn(m,y,o)}i=i.sibling}}function wr(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Ri(o))}function jr(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ri(n))}function Wt(n,i,o,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tf(n,i,o,d),i=i.sibling}function Tf(n,i,o,d){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Wt(n,i,o,d),m&2048&&zi(9,i);break;case 1:Wt(n,i,o,d);break;case 3:Wt(n,i,o,d),m&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ri(n)));break;case 12:if(m&2048){Wt(n,i,o,d),n=i.stateNode;try{var y=i.memoizedProps,T=y.id,C=y.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(_){Be(i,i.return,_)}}else Wt(n,i,o,d);break;case 13:Wt(n,i,o,d);break;case 23:break;case 22:y=i.stateNode,T=i.alternate,i.memoizedState!==null?y._visibility&2?Wt(n,i,o,d):$i(n,i):y._visibility&2?Wt(n,i,o,d):(y._visibility|=2,Fs(n,i,o,d,(i.subtreeFlags&10256)!==0)),m&2048&&wr(T,i);break;case 24:Wt(n,i,o,d),m&2048&&jr(i.alternate,i);break;default:Wt(n,i,o,d)}}function Fs(n,i,o,d,m){for(m=m&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,T=i,C=o,_=d,z=T.flags;switch(T.tag){case 0:case 11:case 15:Fs(y,T,C,_,m),zi(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?Fs(y,T,C,_,m):$i(y,T):(J._visibility|=2,Fs(y,T,C,_,m)),m&&z&2048&&wr(T.alternate,T);break;case 24:Fs(y,T,C,_,m),m&&z&2048&&jr(T.alternate,T);break;default:Fs(y,T,C,_,m)}i=i.sibling}}function $i(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,d=i,m=d.flags;switch(d.tag){case 22:$i(o,d),m&2048&&wr(d.alternate,d);break;case 24:$i(o,d),m&2048&&jr(d.alternate,d);break;default:$i(o,d)}i=i.sibling}}var Yi=8192;function Hs(n){if(n.subtreeFlags&Yi)for(n=n.child;n!==null;)Sf(n),n=n.sibling}function Sf(n){switch(n.tag){case 26:Hs(n),n.flags&Yi&&n.memoizedState!==null&&nx(Ot,n.memoizedState,n.memoizedProps);break;case 5:Hs(n);break;case 3:case 4:var i=Ot;Ot=ha(n.stateNode.containerInfo),Hs(n),Ot=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Yi,Yi=16777216,Hs(n),Yi=i):Hs(n));break;default:Hs(n)}}function Cf(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ji(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];nt=d,jf(d,n)}Cf(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wf(n),n=n.sibling}function wf(n){switch(n.tag){case 0:case 11:case 15:Ji(n),n.flags&2048&&En(9,n,n.return);break;case 3:Ji(n);break;case 12:Ji(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,na(n)):Ji(n);break;default:Ji(n)}}function na(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];nt=d,jf(d,n)}Cf(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:En(8,i,i.return),na(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,na(i));break;default:na(i)}n=n.sibling}}function jf(n,i){for(;nt!==null;){var o=nt;switch(o.tag){case 0:case 11:case 15:En(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ri(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,nt=d;else e:for(o=n;nt!==null;){d=nt;var m=d.sibling,y=d.return;if(xf(d),d===o){nt=null;break e}if(m!==null){m.return=y,nt=m;break e}nt=y}}}var yg={getCacheForType:function(n){var i=ut(Xe),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},vg=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ge=null,je=null,Ee=0,De=0,jt=null,kn=!1,zs=!1,Ar=!1,hn=0,Oe=0,_n=0,cs=0,Er=0,Gt=0,Os=0,Ki=null,Nt=null,Mr=!1,Rr=0,sa=1/0,ia=null,Dn=null,at=0,In=null,$s=null,Ys=0,kr=0,_r=null,Af=null,Wi=0,Dr=null;function At(){if((_e&2)!==0&&Ee!==0)return Ee&-Ee;if(F.T!==null){var n=Is;return n!==0?n:Vr()}return Fc()}function Ef(){Gt===0&&(Gt=(Ee&536870912)===0||Re?oe():536870912);var n=Bt.current;return n!==null&&(n.flags|=32),Gt}function Et(n,i,o){(n===Ge&&(De===2||De===9)||n.cancelPendingCommit!==null)&&(Js(n,0),Ln(n,Ee,Gt,!1)),Fe(n,o),((_e&2)===0||n!==Ge)&&(n===Ge&&((_e&2)===0&&(cs|=o),Oe===4&&Ln(n,Ee,Gt,!1)),Qt(n))}function Mf(n,i,o){if((_e&6)!==0)throw Error(a(327));var d=!o&&(i&124)===0&&(i&n.expiredLanes)===0||Yn(n,i),m=d?Tg(n,i):Ur(n,i,!0),y=d;do{if(m===0){zs&&!d&&Ln(n,i,0,!1);break}else{if(o=n.current.alternate,y&&!bg(o)){m=Ur(n,i,!1),y=!1;continue}if(m===2){if(y=i,n.errorRecoveryDisabledLanes&y)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var C=n;m=Ki;var _=C.current.memoizedState.isDehydrated;if(_&&(Js(C,T).flags|=256),T=Ur(C,T,!1),T!==2){if(Ar&&!_){C.errorRecoveryDisabledLanes|=y,cs|=y,m=4;break e}y=Nt,Nt=m,y!==null&&(Nt===null?Nt=y:Nt.push.apply(Nt,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){Js(n,0),Ln(n,i,0,!0);break}e:{switch(d=n,y=m,y){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ln(d,i,Gt,!kn);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=Rr+300-gt(),10<m)){if(Ln(d,i,Gt,!kn),ps(d,0,!0)!==0)break e;d.timeoutHandle=im(Rf.bind(null,d,o,Nt,ia,Mr,i,Gt,cs,Os,kn,y,2,-0,0),m);break e}Rf(d,o,Nt,ia,Mr,i,Gt,cs,Os,kn,y,0,-0,0)}}break}while(!0);Qt(n)}function Rf(n,i,o,d,m,y,T,C,_,z,J,W,$,Y){if(n.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:tx},Sf(i),W=sx(),W!==null)){n.cancelPendingCommit=W(Pf.bind(null,n,i,y,o,d,m,T,C,_,J,1,$,Y)),Ln(n,y,T,!z);return}Pf(n,i,y,o,d,m,T,C,_)}function bg(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var m=o[d],y=m.getSnapshot;m=m.value;try{if(!Tt(y(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ln(n,i,o,d){i&=~Er,i&=~cs,n.suspendedLanes|=i,n.pingedLanes&=~i,d&&(n.warmLanes|=i),d=n.expirationTimes;for(var m=i;0<m;){var y=31-mt(m),T=1<<y;d[y]=-1,m&=~T}o!==0&&Vc(n,o,i)}function la(){return(_e&6)===0?(Qi(0),!1):!0}function Ir(){if(je!==null){if(De===0)var n=je.return;else n=je,an=ss=null,Qo(n),Vs=null,qi=0,n=je;for(;n!==null;)cf(n.alternate,n),n=n.return;je=null}}function Js(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Bg(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ir(),Ge=n,je=o=nn(n.current,null),Ee=i,De=0,jt=null,kn=!1,zs=Yn(n,i),Ar=!1,Os=Gt=Er=cs=_n=Oe=0,Nt=Ki=null,Mr=!1,(i&8)!==0&&(i|=i&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=i;0<d;){var m=31-mt(d),y=1<<m;i|=n[m],d&=~y}return hn=i,Al(),o}function kf(n,i){Ce=null,F.H=$l,i===_i||i===Ul?(i=Yu(),De=3):i===zu?(i=Yu(),De=4):De=i===Jd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jt=i,je===null&&(Oe=1,Ql(n,It(i,n.current)))}function _f(){var n=F.H;return F.H=$l,n===null?$l:n}function Df(){var n=F.A;return F.A=yg,n}function Lr(){Oe=4,kn||(Ee&4194048)!==Ee&&Bt.current!==null||(zs=!0),(_n&134217727)===0&&(cs&134217727)===0||Ge===null||Ln(Ge,Ee,Gt,!1)}function Ur(n,i,o){var d=_e;_e|=2;var m=_f(),y=Df();(Ge!==n||Ee!==i)&&(ia=null,Js(n,i)),i=!1;var T=Oe;e:do try{if(De!==0&&je!==null){var C=je,_=jt;switch(De){case 8:Ir(),T=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(i=!0);var z=De;if(De=0,jt=null,Ks(n,C,_,z),o&&zs){T=0;break e}break;default:z=De,De=0,jt=null,Ks(n,C,_,z)}}Ng(),T=Oe;break}catch(J){kf(n,J)}while(!0);return i&&n.shellSuspendCounter++,an=ss=null,_e=d,F.H=m,F.A=y,je===null&&(Ge=null,Ee=0,Al()),T}function Ng(){for(;je!==null;)If(je)}function Tg(n,i){var o=_e;_e|=2;var d=_f(),m=Df();Ge!==n||Ee!==i?(ia=null,sa=gt()+500,Js(n,i)):zs=Yn(n,i);e:do try{if(De!==0&&je!==null){i=je;var y=jt;t:switch(De){case 1:De=0,jt=null,Ks(n,i,y,1);break;case 2:case 9:if(Ou(y)){De=0,jt=null,Lf(i);break}i=function(){De!==2&&De!==9||Ge!==n||(De=7),Qt(n)},y.then(i,i);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Ou(y)?(De=0,jt=null,Lf(i)):(De=0,jt=null,Ks(n,i,y,7));break;case 5:var T=null;switch(je.tag){case 26:T=je.memoizedState;case 5:case 27:var C=je;if(!T||gm(T)){De=0,jt=null;var _=C.sibling;if(_!==null)je=_;else{var z=C.return;z!==null?(je=z,aa(z)):je=null}break t}}De=0,jt=null,Ks(n,i,y,5);break;case 6:De=0,jt=null,Ks(n,i,y,6);break;case 8:Ir(),Oe=6;break e;default:throw Error(a(462))}}Sg();break}catch(J){kf(n,J)}while(!0);return an=ss=null,F.H=d,F.A=m,_e=o,je!==null?0:(Ge=null,Ee=0,Al(),Oe)}function Sg(){for(;je!==null&&!Ha();)If(je)}function If(n){var i=of(n.alternate,n,hn);n.memoizedProps=n.pendingProps,i===null?aa(n):je=i}function Lf(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=ef(o,i,i.pendingProps,i.type,void 0,Ee);break;case 11:i=ef(o,i,i.pendingProps,i.type.render,i.ref,Ee);break;case 5:Qo(i);default:cf(o,i),i=je=Lu(i,hn),i=of(o,i,hn)}n.memoizedProps=n.pendingProps,i===null?aa(n):je=i}function Ks(n,i,o,d){an=ss=null,Qo(i),Vs=null,qi=0;var m=i.return;try{if(fg(n,m,i,o,Ee)){Oe=1,Ql(n,It(o,n.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;Oe=1,Ql(n,It(o,n.current)),je=null;return}i.flags&32768?(Re||d===1?n=!0:zs||(Ee&536870912)!==0?n=!1:(kn=n=!0,(d===2||d===9||d===3||d===6)&&(d=Bt.current,d!==null&&d.tag===13&&(d.flags|=16384))),Uf(i,n)):aa(i)}function aa(n){var i=n;do{if((i.flags&32768)!==0){Uf(i,kn);return}n=i.return;var o=hg(i.alternate,i,hn);if(o!==null){je=o;return}if(i=i.sibling,i!==null){je=i;return}je=i=n}while(i!==null);Oe===0&&(Oe=5)}function Uf(n,i){do{var o=pg(n.alternate,n);if(o!==null){o.flags&=32767,je=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){je=n;return}je=n=o}while(n!==null);Oe=6,je=null}function Pf(n,i,o,d,m,y,T,C,_){n.cancelPendingCommit=null;do oa();while(at!==0);if((_e&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(y=i.lanes|i.childLanes,y|=jo,Ht(n,o,y,T,C,_),n===Ge&&(je=Ge=null,Ee=0),$s=i,In=n,Ys=o,kr=y,_r=m,Af=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Ag(zn,function(){return Ff(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=F.T,F.T=null,m=ee.p,ee.p=2,T=_e,_e|=4;try{gg(n,i,o)}finally{_e=T,ee.p=m,F.T=d}}at=1,Bf(),Gf(),Vf()}}function Bf(){if(at===1){at=0;var n=In,i=$s,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null;var d=ee.p;ee.p=2;var m=_e;_e|=4;try{bf(i,n);var y=Jr,T=wu(n.containerInfo),C=y.focusedElem,_=y.selectionRange;if(T!==C&&C&&C.ownerDocument&&Cu(C.ownerDocument.documentElement,C)){if(_!==null&&No(C)){var z=_.start,J=_.end;if(J===void 0&&(J=z),"selectionStart"in C)C.selectionStart=z,C.selectionEnd=Math.min(J,C.value.length);else{var W=C.ownerDocument||document,$=W&&W.defaultView||window;if($.getSelection){var Y=$.getSelection(),xe=C.textContent.length,pe=Math.min(_.start,xe),Ue=_.end===void 0?pe:Math.min(_.end,xe);!Y.extend&&pe>Ue&&(T=Ue,Ue=pe,pe=T);var G=Su(C,pe),P=Su(C,Ue);if(G&&P&&(Y.rangeCount!==1||Y.anchorNode!==G.node||Y.anchorOffset!==G.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var H=W.createRange();H.setStart(G.node,G.offset),Y.removeAllRanges(),pe>Ue?(Y.addRange(H),Y.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),Y.addRange(H))}}}}for(W=[],Y=C;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<W.length;C++){var K=W[C];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}va=!!Yr,Jr=Yr=null}finally{_e=m,ee.p=d,F.T=o}}n.current=i,at=2}}function Gf(){if(at===2){at=0;var n=In,i=$s,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=F.T,F.T=null;var d=ee.p;ee.p=2;var m=_e;_e|=4;try{gf(n,i.alternate,i)}finally{_e=m,ee.p=d,F.T=o}}at=3}}function Vf(){if(at===4||at===3){at=0,za();var n=In,i=$s,o=Ys,d=Af;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?at=5:(at=0,$s=In=null,qf(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Dn=null),Za(o),i=i.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(On,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=F.T,m=ee.p,ee.p=2,F.T=null;try{for(var y=n.onRecoverableError,T=0;T<d.length;T++){var C=d[T];y(C.value,{componentStack:C.stack})}}finally{F.T=i,ee.p=m}}(Ys&3)!==0&&oa(),Qt(n),m=n.pendingLanes,(o&4194090)!==0&&(m&42)!==0?n===Dr?Wi++:(Wi=0,Dr=n):Wi=0,Qi(0)}}function qf(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ri(i)))}function oa(n){return Bf(),Gf(),Vf(),Ff()}function Ff(){if(at!==5)return!1;var n=In,i=kr;kr=0;var o=Za(Ys),d=F.T,m=ee.p;try{ee.p=32>o?32:o,F.T=null,o=_r,_r=null;var y=In,T=Ys;if(at=0,$s=In=null,Ys=0,(_e&6)!==0)throw Error(a(331));var C=_e;if(_e|=4,wf(y.current),Tf(y,y.current,T,o),_e=C,Qi(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(On,y)}catch{}return!0}finally{ee.p=m,F.T=d,qf(n,i)}}function Hf(n,i,o){i=It(o,i),i=dr(n.stateNode,i,2),n=Cn(n,i,2),n!==null&&(Fe(n,2),Qt(n))}function Be(n,i,o){if(n.tag===3)Hf(n,n,o);else for(;i!==null;){if(i.tag===3){Hf(i,n,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Dn===null||!Dn.has(d))){n=It(o,n),o=$d(2),d=Cn(i,o,2),d!==null&&(Yd(o,d,i,n),Fe(d,2),Qt(d));break}}i=i.return}}function Pr(n,i,o){var d=n.pingCache;if(d===null){d=n.pingCache=new vg;var m=new Set;d.set(i,m)}else m=d.get(i),m===void 0&&(m=new Set,d.set(i,m));m.has(o)||(Ar=!0,m.add(o),n=Cg.bind(null,n,i,o),i.then(n,n))}function Cg(n,i,o){var d=n.pingCache;d!==null&&d.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ge===n&&(Ee&o)===o&&(Oe===4||Oe===3&&(Ee&62914560)===Ee&&300>gt()-Rr?(_e&2)===0&&Js(n,0):Er|=o,Os===Ee&&(Os=0)),Qt(n)}function zf(n,i){i===0&&(i=be()),n=Rs(n,i),n!==null&&(Fe(n,i),Qt(n))}function wg(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),zf(n,o)}function jg(n,i){var o=0;switch(n.tag){case 13:var d=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(i),zf(n,o)}function Ag(n,i){return di(n,i)}var ra=null,Ws=null,Br=!1,ca=!1,Gr=!1,us=0;function Qt(n){n!==Ws&&n.next===null&&(Ws===null?ra=Ws=n:Ws=Ws.next=n),ca=!0,Br||(Br=!0,Mg())}function Qi(n,i){if(!Gr&&ca){Gr=!0;do for(var o=!1,d=ra;d!==null;){if(n!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var T=d.suspendedLanes,C=d.pingedLanes;y=(1<<31-mt(42|n)+1)-1,y&=m&~(T&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Jf(d,y))}else y=Ee,y=ps(d,d===Ge?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Yn(d,y)||(o=!0,Jf(d,y));d=d.next}while(o);Gr=!1}}function Eg(){Of()}function Of(){ca=Br=!1;var n=0;us!==0&&(Pg()&&(n=us),us=0);for(var i=gt(),o=null,d=ra;d!==null;){var m=d.next,y=$f(d,i);y===0?(d.next=null,o===null?ra=m:o.next=m,m===null&&(Ws=o)):(o=d,(n!==0||(y&3)!==0)&&(ca=!0)),d=m}Qi(n)}function $f(n,i){for(var o=n.suspendedLanes,d=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var T=31-mt(y),C=1<<T,_=m[T];_===-1?((C&o)===0||(C&d)!==0)&&(m[T]=Qa(C,i)):_<=i&&(n.expiredLanes|=C),y&=~C}if(i=Ge,o=Ee,o=ps(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,o===0||n===i&&(De===2||De===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&fi(d),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Yn(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(d!==null&&fi(d),Za(o)){case 2:case 8:o=mi;break;case 32:o=zn;break;case 268435456:o=hi;break;default:o=zn}return d=Yf.bind(null,n),o=di(o,d),n.callbackPriority=i,n.callbackNode=o,i}return d!==null&&d!==null&&fi(d),n.callbackPriority=2,n.callbackNode=null,2}function Yf(n,i){if(at!==0&&at!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(oa()&&n.callbackNode!==o)return null;var d=Ee;return d=ps(n,n===Ge?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(Mf(n,d,i),$f(n,gt()),n.callbackNode!=null&&n.callbackNode===o?Yf.bind(null,n):null)}function Jf(n,i){if(oa())return null;Mf(n,i,!0)}function Mg(){Gg(function(){(_e&6)!==0?di(hl,Eg):Of()})}function Vr(){return us===0&&(us=oe()),us}function Kf(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:bl(""+n)}function Wf(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function Rg(n,i,o,d,m){if(i==="submit"&&o&&o.stateNode===m){var y=Kf((m[xt]||null).action),T=d.submitter;T&&(i=(i=T[xt]||null)?Kf(i.formAction):T.getAttribute("formAction"),i!==null&&(y=i,T=null));var C=new Cl("action","action",null,d,m);n.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(us!==0){var _=T?Wf(m,T):new FormData(m);ar(o,{pending:!0,data:_,method:m.method,action:y},null,_)}}else typeof y=="function"&&(C.preventDefault(),_=T?Wf(m,T):new FormData(m),ar(o,{pending:!0,data:_,method:m.method,action:y},y,_))},currentTarget:m}]})}}for(var qr=0;qr<wo.length;qr++){var Fr=wo[qr],kg=Fr.toLowerCase(),_g=Fr[0].toUpperCase()+Fr.slice(1);zt(kg,"on"+_g)}zt(Eu,"onAnimationEnd"),zt(Mu,"onAnimationIteration"),zt(Ru,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(K0,"onTransitionRun"),zt(W0,"onTransitionStart"),zt(Q0,"onTransitionCancel"),zt(ku,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xi));function Qf(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var d=n[o],m=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var T=d.length-1;0<=T;T--){var C=d[T],_=C.instance,z=C.currentTarget;if(C=C.listener,_!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=z;try{y(m)}catch(J){Wl(J)}m.currentTarget=null,y=_}else for(T=0;T<d.length;T++){if(C=d[T],_=C.instance,z=C.currentTarget,C=C.listener,_!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=z;try{y(m)}catch(J){Wl(J)}m.currentTarget=null,y=_}}}}function Ae(n,i){var o=i[eo];o===void 0&&(o=i[eo]=new Set);var d=n+"__bubble";o.has(d)||(Xf(i,n,2,!1),o.add(d))}function Hr(n,i,o){var d=0;i&&(d|=4),Xf(o,n,d,i)}var ua="_reactListening"+Math.random().toString(36).slice(2);function zr(n){if(!n[ua]){n[ua]=!0,zc.forEach(function(o){o!=="selectionchange"&&(Dg.has(o)||Hr(o,!1,n),Hr(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ua]||(i[ua]=!0,Hr("selectionchange",!1,i))}}function Xf(n,i,o,d){switch(Tm(i)){case 2:var m=ax;break;case 8:m=ox;break;default:m=ic}o=m.bind(null,i,o,n),m=void 0,!fo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),d?m!==void 0?n.addEventListener(i,o,{capture:!0,passive:m}):n.addEventListener(i,o,!0):m!==void 0?n.addEventListener(i,o,{passive:m}):n.addEventListener(i,o,!1)}function Or(n,i,o,d,m){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var C=d.stateNode.containerInfo;if(C===m)break;if(T===4)for(T=d.return;T!==null;){var _=T.tag;if((_===3||_===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;C!==null;){if(T=xs(C),T===null)return;if(_=T.tag,_===5||_===6||_===26||_===27){d=y=T;continue e}C=C.parentNode}}d=d.return}iu(function(){var z=y,J=co(o),W=[];e:{var $=_u.get(n);if($!==void 0){var Y=Cl,xe=n;switch(n){case"keypress":if(Tl(o)===0)break e;case"keydown":case"keyup":Y=A0;break;case"focusin":xe="focus",Y=go;break;case"focusout":xe="blur",Y=go;break;case"beforeblur":case"afterblur":Y=go;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=p0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=R0;break;case Eu:case Mu:case Ru:Y=y0;break;case ku:Y=_0;break;case"scroll":case"scrollend":Y=m0;break;case"wheel":Y=I0;break;case"copy":case"cut":case"paste":Y=b0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=cu;break;case"toggle":case"beforetoggle":Y=U0}var pe=(i&4)!==0,Ue=!pe&&(n==="scroll"||n==="scrollend"),G=pe?$!==null?$+"Capture":null:$;pe=[];for(var P=z,H;P!==null;){var K=P;if(H=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||H===null||G===null||(K=xi(P,G),K!=null&&pe.push(Zi(P,K,H))),Ue)break;P=P.return}0<pe.length&&($=new Y($,xe,null,o,J),W.push({event:$,listeners:pe}))}}if((i&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",$&&o!==ro&&(xe=o.relatedTarget||o.fromElement)&&(xs(xe)||xe[gs]))break e;if((Y||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(xe=o.relatedTarget||o.toElement,Y=z,xe=xe?xs(xe):null,xe!==null&&(Ue=f(xe),pe=xe.tag,xe!==Ue||pe!==5&&pe!==27&&pe!==6)&&(xe=null)):(Y=null,xe=z),Y!==xe)){if(pe=ou,K="onMouseLeave",G="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(pe=cu,K="onPointerLeave",G="onPointerEnter",P="pointer"),Ue=Y==null?$:gi(Y),H=xe==null?$:gi(xe),$=new pe(K,P+"leave",Y,o,J),$.target=Ue,$.relatedTarget=H,K=null,xs(J)===z&&(pe=new pe(G,P+"enter",xe,o,J),pe.target=H,pe.relatedTarget=Ue,K=pe),Ue=K,Y&&xe)t:{for(pe=Y,G=xe,P=0,H=pe;H;H=Qs(H))P++;for(H=0,K=G;K;K=Qs(K))H++;for(;0<P-H;)pe=Qs(pe),P--;for(;0<H-P;)G=Qs(G),H--;for(;P--;){if(pe===G||G!==null&&pe===G.alternate)break t;pe=Qs(pe),G=Qs(G)}pe=null}else pe=null;Y!==null&&Zf(W,$,Y,pe,!1),xe!==null&&Ue!==null&&Zf(W,Ue,xe,pe,!0)}}e:{if($=z?gi(z):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var de=xu;else if(pu($))if(yu)de=$0;else{de=z0;var we=H0}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?z&&oo(z.elementType)&&(de=xu):de=O0;if(de&&(de=de(n,z))){gu(W,de,o,J);break e}we&&we(n,$,z),n==="focusout"&&z&&$.type==="number"&&z.memoizedProps.value!=null&&ao($,"number",$.value)}switch(we=z?gi(z):window,n){case"focusin":(pu(we)||we.contentEditable==="true")&&(As=we,To=z,wi=null);break;case"focusout":wi=To=As=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,ju(W,o,J);break;case"selectionchange":if(J0)break;case"keydown":case"keyup":ju(W,o,J)}var me;if(yo)e:{switch(n){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else js?mu(n,o)&&(ge="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ge="onCompositionStart");ge&&(uu&&o.locale!=="ko"&&(js||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&js&&(me=lu()):(bn=J,mo="value"in bn?bn.value:bn.textContent,js=!0)),we=da(z,ge),0<we.length&&(ge=new ru(ge,n,null,o,J),W.push({event:ge,listeners:we}),me?ge.data=me:(me=hu(o),me!==null&&(ge.data=me)))),(me=B0?G0(n,o):V0(n,o))&&(ge=da(z,"onBeforeInput"),0<ge.length&&(we=new ru("onBeforeInput","beforeinput",null,o,J),W.push({event:we,listeners:ge}),we.data=me)),Rg(W,n,z,o,J)}Qf(W,i)})}function Zi(n,i,o){return{instance:n,listener:i,currentTarget:o}}function da(n,i){for(var o=i+"Capture",d=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=xi(n,o),m!=null&&d.unshift(Zi(n,m,y)),m=xi(n,i),m!=null&&d.push(Zi(n,m,y))),n.tag===3)return d;n=n.return}return[]}function Qs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Zf(n,i,o,d,m){for(var y=i._reactName,T=[];o!==null&&o!==d;){var C=o,_=C.alternate,z=C.stateNode;if(C=C.tag,_!==null&&_===d)break;C!==5&&C!==26&&C!==27||z===null||(_=z,m?(z=xi(o,y),z!=null&&T.unshift(Zi(o,z,_))):m||(z=xi(o,y),z!=null&&T.push(Zi(o,z,_)))),o=o.return}T.length!==0&&n.push({event:i,listeners:T})}var Ig=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function em(n){return(typeof n=="string"?n:""+n).replace(Ig,`
`).replace(Lg,"")}function tm(n,i){return i=em(i),em(n)===i}function fa(){}function Le(n,i,o,d,m,y){switch(o){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Ss(n,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Ss(n,""+d);break;case"className":xl(n,"class",d);break;case"tabIndex":xl(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":xl(n,o,d);break;case"style":nu(n,d,y);break;case"data":if(i!=="object"){xl(n,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=bl(""+d),n.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&Le(n,i,"name",m.name,m,null),Le(n,i,"formEncType",m.formEncType,m,null),Le(n,i,"formMethod",m.formMethod,m,null),Le(n,i,"formTarget",m.formTarget,m,null)):(Le(n,i,"encType",m.encType,m,null),Le(n,i,"method",m.method,m,null),Le(n,i,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=bl(""+d),n.setAttribute(o,d);break;case"onClick":d!=null&&(n.onclick=fa);break;case"onScroll":d!=null&&Ae("scroll",n);break;case"onScrollEnd":d!=null&&Ae("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}o=bl(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""+d):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":d===!0?n.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,d):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(o,d):n.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(o):n.setAttribute(o,d);break;case"popover":Ae("beforetoggle",n),Ae("toggle",n),gl(n,"popover",d);break;case"xlinkActuate":en(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":en(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":en(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":en(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":en(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":en(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":en(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":en(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":en(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":gl(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=d0.get(o)||o,gl(n,o,d))}}function $r(n,i,o,d,m,y){switch(o){case"style":nu(n,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof d=="string"?Ss(n,d):(typeof d=="number"||typeof d=="bigint")&&Ss(n,""+d);break;case"onScroll":d!=null&&Ae("scroll",n);break;case"onScrollEnd":d!=null&&Ae("scrollend",n);break;case"onClick":d!=null&&(n.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),y=n[xt]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(i,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,d,m);break e}o in n?n[o]=d:d===!0?n.setAttribute(o,""):gl(n,o,d)}}}function ot(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",n),Ae("load",n);var d=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Le(n,i,y,T,o,null)}}m&&Le(n,i,"srcSet",o.srcSet,o,null),d&&Le(n,i,"src",o.src,o,null);return;case"input":Ae("invalid",n);var C=y=T=m=null,_=null,z=null;for(d in o)if(o.hasOwnProperty(d)){var J=o[d];if(J!=null)switch(d){case"name":m=J;break;case"type":T=J;break;case"checked":_=J;break;case"defaultChecked":z=J;break;case"value":y=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:Le(n,i,d,J,o,null)}}Xc(n,y,C,_,z,T,m,!1),yl(n);return;case"select":Ae("invalid",n),d=T=y=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":T=C;break;case"multiple":d=C;default:Le(n,i,m,C,o,null)}i=y,o=T,n.multiple=!!d,i!=null?Ts(n,!!d,i,!1):o!=null&&Ts(n,!!d,o,!0);return;case"textarea":Ae("invalid",n),y=m=d=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":d=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Le(n,i,T,C,o,null)}eu(n,d,m,y),yl(n);return;case"option":for(_ in o)if(o.hasOwnProperty(_)&&(d=o[_],d!=null))switch(_){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Le(n,i,_,d,o,null)}return;case"dialog":Ae("beforetoggle",n),Ae("toggle",n),Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":Ae("load",n);break;case"video":case"audio":for(d=0;d<Xi.length;d++)Ae(Xi[d],n);break;case"image":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"embed":case"source":case"link":Ae("error",n),Ae("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in o)if(o.hasOwnProperty(z)&&(d=o[z],d!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Le(n,i,z,d,o,null)}return;default:if(oo(i)){for(J in o)o.hasOwnProperty(J)&&(d=o[J],d!==void 0&&$r(n,i,J,d,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(d=o[C],d!=null&&Le(n,i,C,d,o,null))}function Ug(n,i,o,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,C=null,_=null,z=null,J=null;for(Y in o){var W=o[Y];if(o.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":_=W;default:d.hasOwnProperty(Y)||Le(n,i,Y,null,d,W)}}for(var $ in d){var Y=d[$];if(W=o[$],d.hasOwnProperty($)&&(Y!=null||W!=null))switch($){case"type":y=Y;break;case"name":m=Y;break;case"checked":z=Y;break;case"defaultChecked":J=Y;break;case"value":T=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:Y!==W&&Le(n,i,$,Y,d,W)}}lo(n,T,C,_,z,J,y,m);return;case"select":Y=T=C=$=null;for(y in o)if(_=o[y],o.hasOwnProperty(y)&&_!=null)switch(y){case"value":break;case"multiple":Y=_;default:d.hasOwnProperty(y)||Le(n,i,y,null,d,_)}for(m in d)if(y=d[m],_=o[m],d.hasOwnProperty(m)&&(y!=null||_!=null))switch(m){case"value":$=y;break;case"defaultValue":C=y;break;case"multiple":T=y;default:y!==_&&Le(n,i,m,y,d,_)}i=C,o=T,d=Y,$!=null?Ts(n,!!o,$,!1):!!d!=!!o&&(i!=null?Ts(n,!!o,i,!0):Ts(n,!!o,o?[]:"",!1));return;case"textarea":Y=$=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Le(n,i,C,null,d,m)}for(T in d)if(m=d[T],y=o[T],d.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":$=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==y&&Le(n,i,T,m,d,y)}Zc(n,$,Y);return;case"option":for(var xe in o)if($=o[xe],o.hasOwnProperty(xe)&&$!=null&&!d.hasOwnProperty(xe))switch(xe){case"selected":n.selected=!1;break;default:Le(n,i,xe,null,d,$)}for(_ in d)if($=d[_],Y=o[_],d.hasOwnProperty(_)&&$!==Y&&($!=null||Y!=null))switch(_){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Le(n,i,_,$,d,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in o)$=o[pe],o.hasOwnProperty(pe)&&$!=null&&!d.hasOwnProperty(pe)&&Le(n,i,pe,null,d,$);for(z in d)if($=d[z],Y=o[z],d.hasOwnProperty(z)&&$!==Y&&($!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:Le(n,i,z,$,d,Y)}return;default:if(oo(i)){for(var Ue in o)$=o[Ue],o.hasOwnProperty(Ue)&&$!==void 0&&!d.hasOwnProperty(Ue)&&$r(n,i,Ue,void 0,d,$);for(J in d)$=d[J],Y=o[J],!d.hasOwnProperty(J)||$===Y||$===void 0&&Y===void 0||$r(n,i,J,$,d,Y);return}}for(var G in o)$=o[G],o.hasOwnProperty(G)&&$!=null&&!d.hasOwnProperty(G)&&Le(n,i,G,null,d,$);for(W in d)$=d[W],Y=o[W],!d.hasOwnProperty(W)||$===Y||$==null&&Y==null||Le(n,i,W,$,d,Y)}var Yr=null,Jr=null;function ma(n){return n.nodeType===9?n:n.ownerDocument}function nm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sm(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Kr(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wr=null;function Pg(){var n=window.event;return n&&n.type==="popstate"?n===Wr?!1:(Wr=n,!0):(Wr=null,!1)}var im=typeof setTimeout=="function"?setTimeout:void 0,Bg=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,Gg=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(n){return lm.resolve(null).then(n).catch(Vg)}:im;function Vg(n){setTimeout(function(){throw n})}function Un(n){return n==="head"}function am(n,i){var o=i,d=0,m=0;do{var y=o.nextSibling;if(n.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<d&&8>d){o=d;var T=n.ownerDocument;if(o&1&&el(T.documentElement),o&2&&el(T.body),o&4)for(o=T.head,el(o),T=o.firstChild;T;){var C=T.nextSibling,_=T.nodeName;T[pi]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=C}}if(m===0){n.removeChild(y),rl(i);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:d=o.charCodeAt(0)-48;else d=0;o=y}while(o);rl(i)}function Qr(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Qr(o),to(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function qg(n,i,o,d){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[pi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=$t(n.nextSibling),n===null)break}return null}function Fg(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=$t(n.nextSibling),n===null))return null;return n}function Xr(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Hg(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var d=function(){i(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function $t(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Zr=null;function om(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function rm(n,i,o){switch(i=ma(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function el(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);to(n)}var Vt=new Map,cm=new Set;function ha(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var pn=ee.d;ee.d={f:zg,r:Og,D:$g,C:Yg,L:Jg,m:Kg,X:Qg,S:Wg,M:Xg};function zg(){var n=pn.f(),i=la();return n||i}function Og(n){var i=ys(n);i!==null&&i.tag===5&&i.type==="form"?Ed(i):pn.r(n)}var Xs=typeof document>"u"?null:document;function um(n,i,o){var d=Xs;if(d&&typeof i=="string"&&i){var m=Dt(i);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),cm.has(m)||(cm.add(m),n={rel:n,crossOrigin:o,href:i},d.querySelector(m)===null&&(i=d.createElement("link"),ot(i,"link",n),et(i),d.head.appendChild(i)))}}function $g(n){pn.D(n),um("dns-prefetch",n,null)}function Yg(n,i){pn.C(n,i),um("preconnect",n,i)}function Jg(n,i,o){pn.L(n,i,o);var d=Xs;if(d&&n&&i){var m='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Dt(o.imageSizes)+'"]')):m+='[href="'+Dt(n)+'"]';var y=m;switch(i){case"style":y=Zs(n);break;case"script":y=ei(n)}Vt.has(y)||(n=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Vt.set(y,n),d.querySelector(m)!==null||i==="style"&&d.querySelector(tl(y))||i==="script"&&d.querySelector(nl(y))||(i=d.createElement("link"),ot(i,"link",n),et(i),d.head.appendChild(i)))}}function Kg(n,i){pn.m(n,i);var o=Xs;if(o&&n){var d=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Dt(d)+'"][href="'+Dt(n)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ei(n)}if(!Vt.has(y)&&(n=v({rel:"modulepreload",href:n},i),Vt.set(y,n),o.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nl(y)))return}d=o.createElement("link"),ot(d,"link",n),et(d),o.head.appendChild(d)}}}function Wg(n,i,o){pn.S(n,i,o);var d=Xs;if(d&&n){var m=vs(d).hoistableStyles,y=Zs(n);i=i||"default";var T=m.get(y);if(!T){var C={loading:0,preload:null};if(T=d.querySelector(tl(y)))C.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Vt.get(y))&&ec(n,o);var _=T=d.createElement("link");et(_),ot(_,"link",n),_._p=new Promise(function(z,J){_.onload=z,_.onerror=J}),_.addEventListener("load",function(){C.loading|=1}),_.addEventListener("error",function(){C.loading|=2}),C.loading|=4,pa(T,i,d)}T={type:"stylesheet",instance:T,count:1,state:C},m.set(y,T)}}}function Qg(n,i){pn.X(n,i);var o=Xs;if(o&&n){var d=vs(o).hoistableScripts,m=ei(n),y=d.get(m);y||(y=o.querySelector(nl(m)),y||(n=v({src:n,async:!0},i),(i=Vt.get(m))&&tc(n,i),y=o.createElement("script"),et(y),ot(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function Xg(n,i){pn.M(n,i);var o=Xs;if(o&&n){var d=vs(o).hoistableScripts,m=ei(n),y=d.get(m);y||(y=o.querySelector(nl(m)),y||(n=v({src:n,async:!0,type:"module"},i),(i=Vt.get(m))&&tc(n,i),y=o.createElement("script"),et(y),ot(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function dm(n,i,o,d){var m=(m=he.current)?ha(m):null;if(!m)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Zs(o.href),o=vs(m).hoistableStyles,d=o.get(i),d||(d={type:"style",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Zs(o.href);var y=vs(m).hoistableStyles,T=y.get(n);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,T),(y=m.querySelector(tl(n)))&&!y._p&&(T.instance=y,T.state.loading=5),Vt.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Vt.set(n,o),y||Zg(m,n,o,T.state))),i&&d===null)throw Error(a(528,""));return T}if(i&&d!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ei(o),o=vs(m).hoistableScripts,d=o.get(i),d||(d={type:"script",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Zs(n){return'href="'+Dt(n)+'"'}function tl(n){return'link[rel="stylesheet"]['+n+"]"}function fm(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function Zg(n,i,o,d){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=n.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),ot(i,"link",o),et(i),n.head.appendChild(i))}function ei(n){return'[src="'+Dt(n)+'"]'}function nl(n){return"script[async]"+n}function mm(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var d=n.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(d)return i.instance=d,et(d),d;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),et(d),ot(d,"style",m),pa(d,o.precedence,n),i.instance=d;case"stylesheet":m=Zs(o.href);var y=n.querySelector(tl(m));if(y)return i.state.loading|=4,i.instance=y,et(y),y;d=fm(o),(m=Vt.get(m))&&ec(d,m),y=(n.ownerDocument||n).createElement("link"),et(y);var T=y;return T._p=new Promise(function(C,_){T.onload=C,T.onerror=_}),ot(y,"link",d),i.state.loading|=4,pa(y,o.precedence,n),i.instance=y;case"script":return y=ei(o.src),(m=n.querySelector(nl(y)))?(i.instance=m,et(m),m):(d=o,(m=Vt.get(y))&&(d=v({},o),tc(d,m)),n=n.ownerDocument||n,m=n.createElement("script"),et(m),ot(m,"link",d),n.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,pa(d,o.precedence,n));return i.instance}function pa(n,i,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,T=0;T<d.length;T++){var C=d[T];if(C.dataset.precedence===i)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function ec(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function tc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ga=null;function hm(n,i,o){if(ga===null){var d=new Map,m=ga=new Map;m.set(o,d)}else m=ga,d=m.get(o),d||(d=new Map,m.set(o,d));if(d.has(n))return d;for(d.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var y=o[m];if(!(y[pi]||y[ct]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(i)||"";T=n+T;var C=d.get(T);C?C.push(y):d.set(T,[y])}}return d}function pm(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function ex(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function gm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var sl=null;function tx(){}function nx(n,i,o){if(sl===null)throw Error(a(475));var d=sl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=Zs(o.href),y=n.querySelector(tl(m));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(d.count++,d=xa.bind(d),n.then(d,d)),i.state.loading|=4,i.instance=y,et(y);return}y=n.ownerDocument||n,o=fm(o),(m=Vt.get(m))&&ec(o,m),y=y.createElement("link"),et(y);var T=y;T._p=new Promise(function(C,_){T.onload=C,T.onerror=_}),ot(y,"link",o),i.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=xa.bind(d),n.addEventListener("load",i),n.addEventListener("error",i))}}function sx(){if(sl===null)throw Error(a(475));var n=sl;return n.stylesheets&&n.count===0&&nc(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&nc(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function xa(){if(this.count--,this.count===0){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ya=null;function nc(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ya=new Map,i.forEach(ix,n),ya=null,xa.call(n))}function ix(n,i){if(!(i.state.loading&4)){var o=ya.get(n);if(o)var d=o.get(null);else{o=new Map,ya.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),d=T)}d&&o.set(null,d)}m=i.instance,T=m.getAttribute("data-precedence"),y=o.get(T)||d,y===d&&o.set(null,m),o.set(T,m),this.count++,d=xa.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),i.state.loading|=4}}var il={$$typeof:B,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function lx(n,i,o,d,m,y,T,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ye(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ye(0),this.hiddenUpdates=Ye(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function xm(n,i,o,d,m,y,T,C,_,z,J,W){return n=new lx(n,i,o,T,C,_,z,W),i=1,y===!0&&(i|=24),y=St(3,null,null,i),n.current=y,y.stateNode=n,i=Po(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:d,isDehydrated:o,cache:i},qo(y),n}function ym(n){return n?(n=ks,n):ks}function vm(n,i,o,d,m,y){m=ym(m),d.context===null?d.context=m:d.pendingContext=m,d=Sn(i),d.payload={element:o},y=y===void 0?null:y,y!==null&&(d.callback=y),o=Cn(n,d,i),o!==null&&(Et(o,n,i),Ii(o,n,i))}function bm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function sc(n,i){bm(n,i),(n=n.alternate)&&bm(n,i)}function Nm(n){if(n.tag===13){var i=Rs(n,67108864);i!==null&&Et(i,n,67108864),sc(n,67108864)}}var va=!0;function ax(n,i,o,d){var m=F.T;F.T=null;var y=ee.p;try{ee.p=2,ic(n,i,o,d)}finally{ee.p=y,F.T=m}}function ox(n,i,o,d){var m=F.T;F.T=null;var y=ee.p;try{ee.p=8,ic(n,i,o,d)}finally{ee.p=y,F.T=m}}function ic(n,i,o,d){if(va){var m=lc(d);if(m===null)Or(n,i,d,ba,o),Sm(n,d);else if(cx(m,n,i,o,d))d.stopPropagation();else if(Sm(n,d),i&4&&-1<rx.indexOf(n)){for(;m!==null;){var y=ys(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Zt(y.pendingLanes);if(T!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var _=1<<31-mt(T);C.entanglements[1]|=_,T&=~_}Qt(y),(_e&6)===0&&(sa=gt()+500,Qi(0))}}break;case 13:C=Rs(y,2),C!==null&&Et(C,y,2),la(),sc(y,2)}if(y=lc(d),y===null&&Or(n,i,d,ba,o),y===m)break;m=y}m!==null&&d.stopPropagation()}else Or(n,i,d,null,o)}}function lc(n){return n=co(n),ac(n)}var ba=null;function ac(n){if(ba=null,n=xs(n),n!==null){var i=f(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=h(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ba=n,null}function Tm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oa()){case hl:return 2;case mi:return 8;case zn:case pl:return 32;case hi:return 268435456;default:return 32}default:return 32}}var oc=!1,Pn=null,Bn=null,Gn=null,ll=new Map,al=new Map,Vn=[],rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sm(n,i){switch(n){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(i.pointerId)}}function ol(n,i,o,d,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},i!==null&&(i=ys(i),i!==null&&Nm(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function cx(n,i,o,d,m){switch(i){case"focusin":return Pn=ol(Pn,n,i,o,d,m),!0;case"dragenter":return Bn=ol(Bn,n,i,o,d,m),!0;case"mouseover":return Gn=ol(Gn,n,i,o,d,m),!0;case"pointerover":var y=m.pointerId;return ll.set(y,ol(ll.get(y)||null,n,i,o,d,m)),!0;case"gotpointercapture":return y=m.pointerId,al.set(y,ol(al.get(y)||null,n,i,o,d,m)),!0}return!1}function Cm(n){var i=xs(n.target);if(i!==null){var o=f(i);if(o!==null){if(i=o.tag,i===13){if(i=h(o),i!==null){n.blockedOn=i,n0(n.priority,function(){if(o.tag===13){var d=At();d=Xa(d);var m=Rs(o,d);m!==null&&Et(m,o,d),sc(o,d)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Na(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=lc(n.nativeEvent);if(o===null){o=n.nativeEvent;var d=new o.constructor(o.type,o);ro=d,o.target.dispatchEvent(d),ro=null}else return i=ys(o),i!==null&&Nm(i),n.blockedOn=o,!1;i.shift()}return!0}function wm(n,i,o){Na(n)&&o.delete(i)}function ux(){oc=!1,Pn!==null&&Na(Pn)&&(Pn=null),Bn!==null&&Na(Bn)&&(Bn=null),Gn!==null&&Na(Gn)&&(Gn=null),ll.forEach(wm),al.forEach(wm)}function Ta(n,i){n.blockedOn===i&&(n.blockedOn=null,oc||(oc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ux)))}var Sa=null;function jm(n){Sa!==n&&(Sa=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sa===n&&(Sa=null);for(var i=0;i<n.length;i+=3){var o=n[i],d=n[i+1],m=n[i+2];if(typeof d!="function"){if(ac(d||o)===null)continue;break}var y=ys(o);y!==null&&(n.splice(i,3),i-=3,ar(y,{pending:!0,data:m,method:o.method,action:d},d,m))}}))}function rl(n){function i(_){return Ta(_,n)}Pn!==null&&Ta(Pn,n),Bn!==null&&Ta(Bn,n),Gn!==null&&Ta(Gn,n),ll.forEach(i),al.forEach(i);for(var o=0;o<Vn.length;o++){var d=Vn[o];d.blockedOn===n&&(d.blockedOn=null)}for(;0<Vn.length&&(o=Vn[0],o.blockedOn===null);)Cm(o),o.blockedOn===null&&Vn.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var m=o[d],y=o[d+1],T=m[xt]||null;if(typeof y=="function")T||jm(o);else if(T){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[xt]||null)C=T.formAction;else if(ac(m)!==null)continue}else C=T.action;typeof C=="function"?o[d+1]=C:(o.splice(d,3),d-=3),jm(o)}}}function rc(n){this._internalRoot=n}Ca.prototype.render=rc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,d=At();vm(o,d,n,i,null,null)},Ca.prototype.unmount=rc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;vm(n.current,2,null,n,null,null),la(),i[gs]=null}};function Ca(n){this._internalRoot=n}Ca.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fc();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Vn.length&&i!==0&&i<Vn[o].priority;o++);Vn.splice(o,0,n),o===0&&Cm(n)}};var Am=e.version;if(Am!=="19.1.1")throw Error(a(527,Am,"19.1.1"));ee.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=x(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var dx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{On=wa.inject(dx),rt=wa}catch{}}return ul.createRoot=function(n,i){if(!u(n))throw Error(a(299));var o=!1,d="",m=Fd,y=Hd,T=zd,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=xm(n,1,!1,null,null,o,d,m,y,T,C,null),n[gs]=i.current,zr(n),new rc(i)},ul.hydrateRoot=function(n,i,o){if(!u(n))throw Error(a(299));var d=!1,m="",y=Fd,T=Hd,C=zd,_=null,z=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(_=o.unstable_transitionCallbacks),o.formState!==void 0&&(z=o.formState)),i=xm(n,1,!0,i,o??null,d,m,y,T,C,_,z),i.context=ym(null),o=i.current,d=At(),d=Xa(d),m=Sn(d),m.callback=null,Cn(o,m,d),o=d,i.current.lanes=o,Fe(i,o),Qt(i),n[gs]=i.current,zr(n),new Ca(i)},ul.version="19.1.1",ul}var Pm;function Nx(){if(Pm)return dc.exports;Pm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dc.exports=bx(),dc.exports}var Tx=Nx();const Sx=pp(Tx),k=({name:t,className:e,style:l})=>{const a={check:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"wifi-slash":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18M8.288 15.038a5.25 5.25 0 017.424 0m-11.312-7.152a13.5 13.5 0 0115.43 0M5.136 11.886c3.87-3.87 10.124-3.87 13.994 0"})}),"receipt-percent":s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-1.5h5.25m-5.25 0h5.25m-5.25 0h5.25m-5.25 0h5.25M3 4.5h15a2.25 2.25 0 012.25 2.25v10.5a2.25 2.25 0 01-2.25-2.25H3a2.25 2.25 0 01-2.25-2.25V6.75A2.25 2.25 0 013 4.5z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 14.25l6-6m-6 0h.008v.008H9v-.008zm6 6h.008v.008H15v-.008z"})]}),"question-mark-circle":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),briefcase:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v-2.15a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44L8.25 6.15A2.25 2.25 0 006 4.5H3.75a2.25 2.25 0 00-2.25 2.25v11.25c0 1.24 1.01 2.25 2.25 2.25h12.75c1.24 0 2.25-1.01 2.25-2.25v-2.15"})}),wifi:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.136 11.886c3.87-3.87 10.124-3.87 13.994 0M19.715 8.735a13.5 13.5 0 00-15.43 0"})}),coffee:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 10.5v-.75a3.75 3.75 0 117.5 0v.75m-7.5 0h7.5m-7.5 0l-1.5 1.5M11.25 10.5a3.75 3.75 0 00-3.75-3.75m0 0A3.75 3.75 0 013.75 3v.75m3.75 3.75m11.25 0v.75a3.75 3.75 0 01-7.5 0v-.75m7.5 0h-7.5m-3.75 3.75h15"})}),tiktok:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.03-4.83-1-6.7-2.9-1.31-1.32-2.12-3.1-2.22-4.89-.02-.95-.02-1.9-.02-2.84 0-2.14 1.34-4.11 3.32-4.79 1.45-.5 2.96-.51 4.44-.51 0 1.54-.01 3.08-.01 4.61 0 .88-.34 1.74-.94 2.37-1.22 1.25-3.37 1.44-4.79.42-.97-.69-1.43-1.88-1.43-3.03 0-2.45 1.95-4.41 4.4-4.41.69 0 1.37.12 2.02.37.01-2.52.01-5.04.01-7.56Z"})}),instagram:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.85-.07-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919 1.266-.058 1.644-.07 4.85-.07zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948s-.014-3.667-.072-4.947c-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.441 1.441 1.441 1.441-.645 1.441-1.441-.645-1.44-1.441-1.44z"})}),facebook:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.323-1.325z"})}),movie:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75h.008v.008H3.75V3.75zm0 5.25h.008v.008H3.75v-.008zm0 5.25h.008v.008H3.75v-.008zm16.5 0h.008v.008h-.008v-.008zm0-5.25h.008v.008h-.008v-.008zm0-5.25h.008v.008h-.008V3.75z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3.75v16.5A2.25 2.25 0 005.25 22.5h13.5A2.25 2.25 0 0021 20.25V3.75A2.25 2.25 0 0018.75 1.5H5.25A2.25 2.25 0 003 3.75z"})]}),apps:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25a2.25 2.25 0 01-2.25-2.25v-2.25z"})}),"chart-bar":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),passport:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 3.75v16.5A2.25 2.25 0 006.75 22.5h10.5a2.25 2.25 0 002.25-2.25V3.75m-15 0h15M4.5 3.75a2.25 2.25 0 012.25-2.25h10.5a2.25 2.25 0 012.25 2.25"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 12a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})]}),home:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955a1.5 1.5 0 012.12 0l8.955 8.955M3 10.5v9.75a1.5 1.5 0 001.5 1.5h15a1.5 1.5 0 001.5-1.5V10.5M9 21V12h6v9"})}),logo:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),search:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),chat:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.76 9.76 0 01-2.53-.401m-1.009-1.427a12.235 12.235 0 01-3.131-4.213m3.13-4.213a12.235 12.235 0 013.131-4.213m0 0c1.007-.87 2.216-1.54 3.536-1.928M3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),planner:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.5-10.5h-7a.5.5 0 00-.5.5v14a.5.5 0 00.5.5h7a.5.5 0 00.5-.5v-14a.5.5 0 00-.5-.5z"})}),checklist:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75h10.5M9 12h10.5m-10.5 5.25h10.5M4.5 6.75h.008v.008H4.5V6.75zm0 5.25h.008v.008H4.5v-.008zm0 5.25h.008v.008H4.5v-.008z"})}),stories:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),globe:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 01-9-9"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9h16.5"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 15h16.5"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 3.5l-1.5 17"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 3.5l-1.5 17"})]}),calendar:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18"})}),"clipboard-list":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),trophy:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a9.303 9.303 0 010-13.5h9a9.303 9.303 0 010 13.5z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15V9.75m0 0l-1.5 1.5M12 9.75l1.5 1.5M12 5.25v-1.5m-3.375 12.375h6.75"})]}),wallet:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12.793V18.75a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18.75V5.25A2.25 2.25 0 015.25 3h9.75a2.25 2.25 0 012.25 2.25v.003M21 12.793a2.25 2.25 0 00-2.25-2.25H15a2.25 2.25 0 00-2.25 2.25v.003m3.75 0a2.25 2.25 0 00-2.25 2.25H15a2.25 2.25 0 00-2.25-2.25v-2.25a2.25 2.25 0 00-2.25-2.25H6.75"})}),eye:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"eye-slash":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"})}),"first-booking":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"story-writer":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})}),"community-pioneer":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.284.004A3 3 0 017.07 15.094a9.096 9.096 0 01-2.228.46A3 3 0 013 12a3 3 0 013-3a3 3 0 013 3 3 3 0 01-1.5 2.593m10.5 2.593c.362.024.724.024 1.08.024 2.175 0 4.24-.784 5.9-2.252m-2.25-13.5a3 3 0 013 3m-3-3a3 3 0 00-3 3m-3.75 0h.008v.008h-.008v-.008z"})}),send:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),flight:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),hotel:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})}),car:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 013.375-3.375h9.75a3.375 3.375 0 013.375 3.375v1.875m-17.25 4.5h15M3.375 14.25c0-1.02.53-1.94.134-2.585m0 0a3.375 3.375 0 015.63-2.43m-5.63 2.43a3.375 3.375 0 005.63 2.43m-5.63-2.43H3.375m10.125-9.375a3.375 3.375 0 015.63 2.43m-5.63-2.43a3.375 3.375 0 00-5.63 2.43m5.63-2.43h.008v.008h-.008v-.008z"})}),takeoff:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),landing:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"transform -scale-x-100 rotate-45",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),star:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),user:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),users:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 12a4.125 4.125 0 110-8.25 4.125 4.125 0 010 8.25z"})}),fuel:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 7.5h-.75A2.25 2.25 0 004.5 9.75v7.5a2.25 2.25 0 002.25 2.25h7.5a2.25 2.25 0 002.25-2.25v-7.5a2.25 2.25 0 00-2.25-2.25h-.75m-6 3.75h3m-3.75 0h.008v.008h-.008v-.008zm3.75 0h.008v.008h-.008v-.008zm3.75 0h.008v.008h-.008v-.008zM19.5 9.75v0c0 .966-.784 1.75-1.75 1.75s-1.75-.784-1.75-1.75v0c0-.966.784-1.75 1.75-1.75s1.75.784 1.75 1.75z"})}),bolt:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),error:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),sun:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}),moon:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),info:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),clock:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),print:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})}),download:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),"arrow-up-right":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})}),"arrow-down-right":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 4.5l15 15m0 0V8.25m0 11.25H8.25"})}),sparkles:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.455-2.456L12.75 18l1.178-.398a3.375 3.375 0 002.455-2.456L16.5 14.25l.398 1.178a3.375 3.375 0 002.456 2.456l1.178.398-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),bookmark:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.5 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})}),trash:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),money:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 11.21 12.77 11 12 11s-1.536.21-2.121.782c-1.172.879-1.172 2.303 0 3.182zM12 6a9 9 0 110 12A9 9 0 0112 6z"})}),food:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.658-.463 1.243-1.117 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.117 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),ticket:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-1.5h5.25m-5.25 0h5.25m-5.25 0h5.25m-5.25 0h5.25M3 4.5h15a2.25 2.25 0 012.25 2.25v10.5a2.25 2.25 0 01-2.25-2.25H3a2.25 2.25 0 01-2.25-2.25V6.75A2.25 2.25 0 013 4.5z"})}),receipt:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-1.5h5.25m-5.25 0h5.25m-5.25 0h5.25m-5.25 0h5.25M3 4.5h15a2.25 2.25 0 012.25 2.25v10.5a2.25 2.25 0 01-2.25-2.25H3a2.25 2.25 0 01-2.25-2.25V6.75A2.25 2.25 0 013 4.5z"})}),suitcase:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("rect",{x:"3",y:"6",width:"18",height:"14",rx:"2",ry:"2"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 6V4.5a1.5 1.5 0 011.5-1.5h5A1.5 1.5 0 0116 4.5V6M10 13h4"})]}),document:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),lightbulb:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.311a7.5 7.5 0 01-7.5 0c-1.453 0-2.824.42-4.01 1.122A1.5 1.5 0 002.25 21h19.5a1.5 1.5 0 001.01-2.688 12.06 12.06 0 01-4.01-1.122zM10.5 11.25a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 11.25a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM12 3c-3.036 0-5.5 2.464-5.5 5.5 0 1.343.483 2.57 1.285 3.518A3.75 3.75 0 0112 15.75c1.173 0 2.27-.533 3.018-1.378A6.47 6.47 0 0017.5 8.5C17.5 5.464 15.036 3 12 3z"})]}),"check-circle":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"chevron-down":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),"chevron-left":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"chevron-right":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),"x-mark":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),map:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),shield:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.6-3.751A11.959 11.959 0 0112 5.714z"})}),exchange:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})}),cloud:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-5.132-3.712 5.25 5.25 0 00-9.739 3.972.25.25 0 01-.25.25H2.25z"})}),rain:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75l.547.547a.75.75 0 001.06 0l.547-.547m-1.154 3.303l.547.547a.75.75 0 001.06 0l.547-.547m-4.406-2.153l.547.547a.75.75 0 001.06 0l.547-.547m-1.154 3.303l.547.547a.75.75 0 001.06 0l.547-.547M12 3a8.25 8.25 0 00-8.25 8.25c0 1.93.682 3.711 1.838 5.162l.062.083a.75.75 0 00.94.254l.019-.007a8.25 8.25 0 0110.878 0l.02.007a.75.75 0 00.94-.254l.062-.083A8.25 8.25 0 0020.25 11.25 8.25 8.25 0 0012 3z"})}),snow:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a.75.75 0 01-.75-.75V3.75a.75.75 0 011.5 0v16.5a.75.75 0 01-.75.75zM5.636 8.136a.75.75 0 011.06 0l9.9 9.9a.75.75 0 01-1.06 1.06l-9.9-9.9a.75.75 0 010-1.06zM18.364 8.136a.75.75 0 010 1.06l-9.9 9.9a.75.75 0 01-1.06-1.06l9.9-9.9a.75.75 0 011.06 0zM3.75 12h16.5"})}),"partly-cloudy":s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1.5M17.636 6.364l-1.06 1.06M21 12h-1.5m-1.06 4.564l-1.06-1.06M12 21v-1.5m-4.564-1.06l-1.06 1.06M3 12H1.5m1.06-4.564L3.62 6.364"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a3.75 3.75 0 110-7.5 3.75 3.75 0 010 7.5zM2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257"})]}),pin:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15m0 0a2.25 2.25 0 01-2.25-2.25v-1.5a2.25 2.25 0 012.25-2.25h15a2.25 2.25 0 012.25 2.25v1.5a2.25 2.25 0 01-2.25 2.25z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12v6"})]}),image:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),"dots-horizontal":s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),plus:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),refresh:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.664 0l3.18-3.185m-3.18-3.182a8.25 8.25 0 00-11.664 0l-3.18 3.185"})}),compass:s.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12l3.375-3.375"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12l-3.375 3.375"})]})};return s.jsx("div",{className:e,style:l,children:a[t]||null})},Cx=({onOpenVipModal:t,isLoggedIn:e,onLoginClick:l,onSignUpClick:a,onLogoutClick:u,isOffline:f})=>s.jsx("header",{className:"bg-white shadow-sm print:hidden",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(k,{name:"logo",className:"h-8 w-8 text-blue-600"}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 tracking-tight",children:"FlyWise.AI"}),f&&s.jsxs("div",{className:"hidden sm:flex items-center gap-2 ml-4 px-3 py-1.5 rounded-full bg-slate-700 text-white text-xs font-semibold animate-fade-in",children:[s.jsx(k,{name:"wifi-slash",className:"h-4 w-4 text-slate-300"}),s.jsx("span",{children:"Offline Mode"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm font-medium text-slate-700 hidden sm:inline",children:"Welcome!"}),s.jsx("button",{onClick:u,className:"px-3 sm:px-4 py-2 border border-slate-300 text-xs sm:text-sm font-medium rounded-md shadow-sm text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap",children:"Logout"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:l,className:"text-xs sm:text-sm font-medium text-slate-600 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-md px-2 py-1 whitespace-nowrap",children:"Login"}),s.jsx("button",{onClick:a,className:"inline-flex items-center px-3 sm:px-4 py-2 border border-slate-300 text-xs sm:text-sm font-medium rounded-md shadow-sm text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap",children:"Create Account"})]}),s.jsx("div",{className:"h-6 w-px bg-slate-200 hidden sm:block"}),s.jsxs("button",{onClick:t,className:"inline-flex items-center px-3 sm:px-4 py-2 border border-transparent text-xs sm:text-sm font-medium rounded-md shadow-sm text-amber-800 bg-amber-100 hover:bg-amber-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 whitespace-nowrap",children:[s.jsx(k,{name:"sparkles",className:"mr-2 h-5 w-5 text-amber-500"}),s.jsx("span",{className:"hidden sm:inline",children:"VIP Lounge"}),s.jsx("span",{className:"sm:hidden",children:"VIP"})]})]})]})}),wx=it.memo(Cx),jx=({onSearch:t,onLoading:e,onError:l,userProfile:a})=>{const[u,f]=w.useState("Flights"),[h,g]=w.useState({guests:2,passengers:2}),x=j=>{j.preventDefault(),e(!0),l("Please use the Chat Assistant to perform searches. The standard search bar is for demonstration purposes."),t([]),e(!1)},p=j=>{const{name:A,value:M}=j.target;g(I=>({...I,[A]:parseInt(M,10)||1}))},v=()=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-slate-700",children:"From"}),s.jsx(k,{name:"takeoff",className:"absolute left-3 top-9 h-5 w-5 text-slate-400"}),s.jsx("input",{type:"text",id:"from",placeholder:"Casablanca",className:"mt-1 pl-10 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-slate-700",children:"To"}),s.jsx(k,{name:"landing",className:"absolute left-3 top-9 h-5 w-5 text-slate-400"}),s.jsx("input",{type:"text",id:"to",placeholder:"Dubai",className:"mt-1 pl-10 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"depart",className:"block text-sm font-medium text-slate-700",children:"Depart"}),s.jsx("input",{type:"date",id:"depart",className:"mt-1 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"return",className:"block text-sm font-medium text-slate-700",children:"Return"}),s.jsx("input",{type:"date",id:"return",className:"mt-1 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}),s.jsx("div",{children:s.jsxs("button",{type:"submit",className:"w-full justify-center inline-flex items-center px-6 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(k,{name:"search",className:"mr-2 -ml-1 h-5 w-5"}),"Search"]})})]}),b=()=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-slate-700",children:"Location"}),s.jsx("input",{type:"text",id:"location",placeholder:"e.g., Paris, France",className:"mt-1 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"checkin",className:"block text-sm font-medium text-slate-700",children:"Check-in"}),s.jsx("input",{type:"date",id:"checkin",className:"mt-1 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"checkout",className:"block text-sm font-medium text-slate-700",children:"Check-out"}),s.jsx("input",{type:"date",id:"checkout",className:"mt-1 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"guests",className:"block text-sm font-medium text-slate-700",children:"Guests"}),s.jsx("input",{type:"number",id:"guests",name:"guests",value:h.guests,onChange:p,min:"1",className:"mt-1 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsx("div",{className:"lg:col-span-5",children:s.jsxs("button",{type:"submit",className:"w-full justify-center inline-flex items-center px-6 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(k,{name:"search",className:"mr-2 -ml-1 h-5 w-5"}),"Search Stays"]})})]}),N=()=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("label",{htmlFor:"car-location",className:"block text-sm font-medium text-slate-700",children:"Pick-up Location"}),s.jsx("input",{type:"text",id:"car-location",placeholder:"e.g., Paris, France",className:"mt-1 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pickup-date",className:"block text-sm font-medium text-slate-700",children:"Pick-up"}),s.jsx("input",{type:"date",id:"pickup-date",className:"mt-1 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"dropoff-date",className:"block text-sm font-medium text-slate-700",children:"Drop-off"}),s.jsx("input",{type:"date",id:"dropoff-date",className:"mt-1 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"passengers",className:"block text-sm font-medium text-slate-700",children:"Passengers"}),s.jsx("input",{type:"number",id:"passengers",name:"passengers",value:h.passengers,onChange:p,min:"1",className:"mt-1 block w-full rounded-md bg-white border border-slate-200 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),s.jsx("div",{className:"lg:col-span-5",children:s.jsxs("button",{type:"submit",className:"w-full justify-center inline-flex items-center px-6 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(k,{name:"search",className:"mr-2 -ml-1 h-5 w-5"}),"Search Cars"]})})]});return s.jsxs("div",{children:[s.jsxs("div",{className:"flex space-x-1 rounded-t-lg bg-slate-200 p-1 w-min",children:[s.jsxs("button",{onClick:()=>f("Flights"),className:`px-4 py-2 text-sm font-medium rounded-md ${u==="Flights"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600"}`,children:[s.jsx(k,{name:"flight",className:"inline mr-2 h-5 w-5"})," Flights"]}),s.jsxs("button",{onClick:()=>f("Stays"),className:`px-4 py-2 text-sm font-medium rounded-md ${u==="Stays"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600"}`,children:[s.jsx(k,{name:"hotel",className:"inline mr-2 h-5 w-5"})," Stays"]}),s.jsxs("button",{onClick:()=>f("Cars"),className:`px-4 py-2 text-sm font-medium rounded-md ${u==="Cars"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600"}`,children:[s.jsx(k,{name:"car",className:"inline mr-2 h-5 w-5"})," Cars"]})]}),s.jsx("form",{onSubmit:x,className:"p-4 bg-white border border-t-0 border-slate-200 rounded-b-lg rounded-tr-lg",children:(()=>{switch(u){case"Flights":return v();case"Stays":return b();case"Cars":return N();default:return null}})()})]})},Ax=it.memo(jx);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ex,Mx;function Rx(){return{geminiUrl:Ex,vertexUrl:Mx}}function kx(t,e,l,a){var u,f;if(!(t!=null&&t.baseUrl)){const h=Rx();return e?(u=h.vertexUrl)!==null&&u!==void 0?u:l:(f=h.geminiUrl)!==null&&f!==void 0?f:a}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ms{}function fe(t,e){const l=/\{([^}]+)\}/g;return t.replace(l,(a,u)=>{if(Object.prototype.hasOwnProperty.call(e,u)){const f=e[u];return f!=null?String(f):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(t,e,l){for(let f=0;f<e.length-1;f++){const h=e[f];if(h.endsWith("[]")){const g=h.slice(0,-2);if(!(g in t))if(Array.isArray(l))t[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(t[g])){const x=t[g];if(Array.isArray(l))for(let p=0;p<x.length;p++){const v=x[p];c(v,e.slice(f+1),l[p])}else for(const p of x)c(p,e.slice(f+1),l)}return}else if(h.endsWith("[0]")){const g=h.slice(0,-3);g in t||(t[g]=[{}]);const x=t[g];c(x[0],e.slice(f+1),l);return}(!t[h]||typeof t[h]!="object")&&(t[h]={}),t=t[h]}const a=e[e.length-1],u=t[a];if(u!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===u)return;if(typeof u=="object"&&typeof l=="object"&&u!==null&&l!==null)Object.assign(u,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else t[a]=l}function r(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let l=0;l<e.length;l++){if(typeof t!="object"||t===null)return;const a=e[l];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in t){const f=t[u];return Array.isArray(f)?f.map(h=>r(h,e.slice(l+1))):void 0}else return}else t=t[a]}return t}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Bm||(Bm={}));var Gm;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Gm||(Gm={}));var S;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(S||(S={}));var Vm;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Vm||(Vm={}));var qm;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(qm||(qm={}));var Fm;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Fm||(Fm={}));var Hm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hm||(Hm={}));var zm;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(zm||(zm={}));var Om;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Om||(Om={}));var $m;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})($m||($m={}));var Ym;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Ym||(Ym={}));var Jm;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Jm||(Jm={}));var Km;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Km||(Km={}));var Wm;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Wm||(Wm={}));var Qm;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qm||(Qm={}));var La;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(La||(La={}));var Xm;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xm||(Xm={}));var Sc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Sc||(Sc={}));var Zm;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Zm||(Zm={}));var eh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(eh||(eh={}));var th;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(th||(th={}));var nh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(nh||(nh={}));var sh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sh||(sh={}));var ih;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ih||(ih={}));var lh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(lh||(lh={}));var ah;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ah||(ah={}));var oh;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(oh||(oh={}));var rh;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(rh||(rh={}));var ch;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ch||(ch={}));var uh;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(uh||(uh={}));var dh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dh||(dh={}));var fh;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(fh||(fh={}));var mh;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(mh||(mh={}));var hh;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(hh||(hh={}));var ph;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ph||(ph={}));var gh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(gh||(gh={}));var xh;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(xh||(xh={}));var yh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(yh||(yh={}));var vh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vh||(vh={}));var bh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(bh||(bh={}));var Nh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Nh||(Nh={}));var Th;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Th||(Th={}));var Sh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Sh||(Sh={}));var Ch;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ch||(Ch={}));var wh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wh||(wh={}));var ni;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ni||(ni={}));class Cc{constructor(e){const l={};for(const a of e.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class dl{get text(){var e,l,a,u,f,h,g,x;if(((u=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const b=[];for(const N of(x=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[j,A]of Object.entries(N))j!=="text"&&j!=="thought"&&(A!==null||A!==void 0)&&b.push(j);if(typeof N.text=="string"){if(typeof N.thought=="boolean"&&N.thought)continue;v=!0,p+=N.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,l,a,u,f,h,g,x;if(((u=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const b of(x=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[N,j]of Object.entries(b))N!=="inlineData"&&(j!==null||j!==void 0)&&v.push(N);b.inlineData&&typeof b.inlineData.data=="string"&&(p+=atob(b.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,l,a,u,f,h,g,x;if(((u=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(x=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,l,a,u,f,h,g,x,p;if(((u=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(x=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,l,a,u,f,h,g,x,p;if(((u=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(x=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class jh{}class Ah{}class _x{}class Dx{}class Ix{}class Lx{}class Eh{}class Mh{}class Rh{}class Ux{}class kh{}class Ua{_fromAPIResponse({apiResponse:e,isVertexAI:l}){const a=new Ua;if(a.name=e.name,a.metadata=e.metadata,a.done=e.done,a.error=e.error,l){const u=e.response;if(u){const f=new kh,h=u.videos;f.generatedVideos=h==null?void 0:h.map(g=>({video:{uri:g.gcsUri,videoBytes:g.bytesBase64Encoded?Tc(g.bytesBase64Encoded):void 0,mimeType:g.mimeType}})),f.raiMediaFilteredCount=u.raiMediaFilteredCount,f.raiMediaFilteredReasons=u.raiMediaFilteredReasons,a.response=f}}else{const u=e.response;if(u){const f=new kh,h=u.generateVideoResponse,g=h==null?void 0:h.generatedSamples;f.generatedVideos=g==null?void 0:g.map(x=>{const p=x.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?Tc(p==null?void 0:p.encodedVideo):void 0,mimeType:x.encoding}}}),f.raiMediaFilteredCount=h==null?void 0:h.raiMediaFilteredCount,f.raiMediaFilteredReasons=h==null?void 0:h.raiMediaFilteredReasons,a.response=f}}return a}}class _h{}class Dh{}class Ih{}class Px{}class Bx{}class Gx{}class Lh{}class Vx{get text(){var e,l,a;let u="",f=!1;const h=[];for(const g of(a=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[x,p]of Object.entries(g))x!=="text"&&x!=="thought"&&p!==null&&h.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?u:void 0}get data(){var e,l,a;let u="";const f=[];for(const h of(a=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,x]of Object.entries(h))g!=="inlineData"&&x!==null&&f.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class qx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function gp(t,e){const l=ke(t,e);return l?l.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${l}`:l.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${l}`:l:""}function xp(t){return Array.isArray(t)?t.map(e=>Pa(e)):[Pa(t)]}function Pa(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function yp(t){const e=Pa(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function vp(t){const e=Pa(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Uh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function bp(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Uh(e)):[Uh(t)]}function wc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ph(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Bh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ft(t){if(t==null)throw new Error("ContentUnion is required");return wc(t)?t:{role:"user",parts:bp(t)}}function Np(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const a=ft(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(t.isVertexAI()){const l=ft(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>ft(l)):[ft(e)]}function qt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ph(t)||Bh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ft(t)]}const e=[],l=[],a=wc(t[0]);for(const u of t){const f=wc(u);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(u);else{if(Ph(u)||Bh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(u)}}return a||e.push({role:"user",parts:bp(l)}),e}function Fx(t,e){t.includes("null")&&(e.nullable=!0);const l=t.filter(a=>a!=="null");if(l.length===1)e.type=Object.values(S).includes(l[0].toUpperCase())?l[0].toUpperCase():S.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of l)e.anyOf.push({type:Object.values(S).includes(a.toUpperCase())?a.toUpperCase():S.TYPE_UNSPECIFIED})}}function si(t){const e={},l=["items"],a=["anyOf"],u=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=t.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,t=f[1]):f[1].type==="null"&&(e.nullable=!0,t=f[0])),t.type instanceof Array&&Fx(t.type,e);for(const[h,g]of Object.entries(t))if(g!=null)if(h=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(S).includes(g.toUpperCase())?g.toUpperCase():S.TYPE_UNSPECIFIED}else if(l.includes(h))e[h]=si(g);else if(a.includes(h)){const x=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}x.push(si(p))}e[h]=x}else if(u.includes(h)){const x={};for(const[p,v]of Object.entries(g))x[p]=si(v);e[h]=x}else{if(h==="additionalProperties")continue;e[h]=g}return e}function Lc(t){return si(t)}function Uc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Pc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ai(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=si(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=si(e.response));return t}function oi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of t)e.push(l);return e}function Hx(t,e,l,a=1){const u=!e.startsWith(`${l}/`)&&e.split("/").length===a;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:u?`projects/${t.getProject()}/locations/${t.getLocation()}/${l}/${e}`:e:u?`${l}/${e}`:e}function xn(t,e){if(typeof e!="string")throw new Error("name must be a string");return Hx(t,e,"cachedContents")}function Tp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function hs(t){return Tc(t)}function zx(t){return t!=null&&typeof t=="object"&&"name"in t}function Ox(t){return t!=null&&typeof t=="object"&&"video"in t}function $x(t){return t!=null&&typeof t=="object"&&"uri"in t}function Sp(t){var e;let l;if(zx(t)&&(l=t.name),!($x(t)&&(l=t.uri,l===void 0))&&!(Ox(t)&&(l=(e=t.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof t=="string"&&(l=t),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const u=l.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${l}`);l=u[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Cp(t,e){let l;return t.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function wp(t){for(const e of["models","tunedModels","publisherModels"])if(Yx(t,e))return t[e];return[]}function Yx(t,e){return t!==null&&typeof t=="object"&&e in t}function Jx(t,e={}){const l=t,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function Kx(t,e={}){const l=[],a=new Set;for(const u of t){const f=u.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const h=Jx(u,e);h.functionDeclarations&&l.push(...h.functionDeclarations)}return{functionDeclarations:l}}function jp(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Wx(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ri(t,e){const l=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Ap(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qx(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function Xx(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(t,["data"]);l!=null&&c(e,["data"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function Zx(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(t,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function ey(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],Qx(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],Xx(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],Zx(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function Ep(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>ey(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function ty(t){const e={},l=r(t,["anyOf"]);l!=null&&c(e,["anyOf"],l);const a=r(t,["default"]);a!=null&&c(e,["default"],a);const u=r(t,["description"]);u!=null&&c(e,["description"],u);const f=r(t,["enum"]);f!=null&&c(e,["enum"],f);const h=r(t,["example"]);h!=null&&c(e,["example"],h);const g=r(t,["format"]);g!=null&&c(e,["format"],g);const x=r(t,["items"]);x!=null&&c(e,["items"],x);const p=r(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const v=r(t,["maxLength"]);v!=null&&c(e,["maxLength"],v);const b=r(t,["maxProperties"]);b!=null&&c(e,["maxProperties"],b);const N=r(t,["maximum"]);N!=null&&c(e,["maximum"],N);const j=r(t,["minItems"]);j!=null&&c(e,["minItems"],j);const A=r(t,["minLength"]);A!=null&&c(e,["minLength"],A);const M=r(t,["minProperties"]);M!=null&&c(e,["minProperties"],M);const I=r(t,["minimum"]);I!=null&&c(e,["minimum"],I);const R=r(t,["nullable"]);R!=null&&c(e,["nullable"],R);const U=r(t,["pattern"]);U!=null&&c(e,["pattern"],U);const B=r(t,["properties"]);B!=null&&c(e,["properties"],B);const D=r(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const q=r(t,["required"]);q!=null&&c(e,["required"],q);const Q=r(t,["title"]);Q!=null&&c(e,["title"],Q);const ue=r(t,["type"]);return ue!=null&&c(e,["type"],ue),e}function ny(t){const e={};if(r(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=r(t,["category"]);l!=null&&c(e,["category"],l);const a=r(t,["threshold"]);return a!=null&&c(e,["threshold"],a),e}function sy(t){const e={},l=r(t,["behavior"]);l!=null&&c(e,["behavior"],l);const a=r(t,["description"]);a!=null&&c(e,["description"],a);const u=r(t,["name"]);u!=null&&c(e,["name"],u);const f=r(t,["parameters"]);f!=null&&c(e,["parameters"],f);const h=r(t,["parametersJsonSchema"]);h!=null&&c(e,["parametersJsonSchema"],h);const g=r(t,["response"]);g!=null&&c(e,["response"],g);const x=r(t,["responseJsonSchema"]);return x!=null&&c(e,["responseJsonSchema"],x),e}function iy(t){const e={},l=r(t,["startTime"]);l!=null&&c(e,["startTime"],l);const a=r(t,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function ly(t){const e={},l=r(t,["timeRangeFilter"]);if(l!=null&&c(e,["timeRangeFilter"],iy(l)),r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function ay(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function oy(t){const e={},l=r(t,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],ay(l)),e}function ry(){return{}}function cy(t){const e={},l=r(t,["environment"]);return l!=null&&c(e,["environment"],l),e}function uy(t){const e={},l=r(t,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(p=>sy(p))),c(e,["functionDeclarations"],x)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(t,["googleSearch"]);a!=null&&c(e,["googleSearch"],ly(a));const u=r(t,["googleSearchRetrieval"]);if(u!=null&&c(e,["googleSearchRetrieval"],oy(u)),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(t,["urlContext"])!=null&&c(e,["urlContext"],ry());const h=r(t,["computerUse"]);h!=null&&c(e,["computerUse"],cy(h));const g=r(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function dy(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["allowedFunctionNames"]);return a!=null&&c(e,["allowedFunctionNames"],a),e}function fy(t){const e={},l=r(t,["latitude"]);l!=null&&c(e,["latitude"],l);const a=r(t,["longitude"]);return a!=null&&c(e,["longitude"],a),e}function my(t){const e={},l=r(t,["latLng"]);l!=null&&c(e,["latLng"],fy(l));const a=r(t,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function hy(t){const e={},l=r(t,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],dy(l));const a=r(t,["retrievalConfig"]);return a!=null&&c(e,["retrievalConfig"],my(a)),e}function py(t){const e={},l=r(t,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function Mp(t){const e={},l=r(t,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],py(l)),e}function gy(t){const e={},l=r(t,["speaker"]);l!=null&&c(e,["speaker"],l);const a=r(t,["voiceConfig"]);return a!=null&&c(e,["voiceConfig"],Mp(a)),e}function xy(t){const e={},l=r(t,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>gy(u))),c(e,["speakerVoiceConfigs"],a)}return e}function yy(t){const e={},l=r(t,["voiceConfig"]);l!=null&&c(e,["voiceConfig"],Mp(l));const a=r(t,["multiSpeakerVoiceConfig"]);a!=null&&c(e,["multiSpeakerVoiceConfig"],xy(a));const u=r(t,["languageCode"]);return u!=null&&c(e,["languageCode"],u),e}function vy(t){const e={},l=r(t,["includeThoughts"]);l!=null&&c(e,["includeThoughts"],l);const a=r(t,["thinkingBudget"]);return a!=null&&c(e,["thinkingBudget"],a),e}function by(t,e,l){const a={},u=r(e,["systemInstruction"]);l!==void 0&&u!=null&&c(l,["systemInstruction"],Ep(ft(u)));const f=r(e,["temperature"]);f!=null&&c(a,["temperature"],f);const h=r(e,["topP"]);h!=null&&c(a,["topP"],h);const g=r(e,["topK"]);g!=null&&c(a,["topK"],g);const x=r(e,["candidateCount"]);x!=null&&c(a,["candidateCount"],x);const p=r(e,["maxOutputTokens"]);p!=null&&c(a,["maxOutputTokens"],p);const v=r(e,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const b=r(e,["responseLogprobs"]);b!=null&&c(a,["responseLogprobs"],b);const N=r(e,["logprobs"]);N!=null&&c(a,["logprobs"],N);const j=r(e,["presencePenalty"]);j!=null&&c(a,["presencePenalty"],j);const A=r(e,["frequencyPenalty"]);A!=null&&c(a,["frequencyPenalty"],A);const M=r(e,["seed"]);M!=null&&c(a,["seed"],M);const I=r(e,["responseMimeType"]);I!=null&&c(a,["responseMimeType"],I);const R=r(e,["responseSchema"]);R!=null&&c(a,["responseSchema"],ty(Lc(R)));const U=r(e,["responseJsonSchema"]);if(U!=null&&c(a,["responseJsonSchema"],U),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=r(e,["safetySettings"]);if(l!==void 0&&B!=null){let re=B;Array.isArray(re)&&(re=re.map(ae=>ny(ae))),c(l,["safetySettings"],re)}const D=r(e,["tools"]);if(l!==void 0&&D!=null){let re=oi(D);Array.isArray(re)&&(re=re.map(ae=>uy(ai(ae)))),c(l,["tools"],re)}const q=r(e,["toolConfig"]);if(l!==void 0&&q!=null&&c(l,["toolConfig"],hy(q)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=r(e,["cachedContent"]);l!==void 0&&Q!=null&&c(l,["cachedContent"],xn(t,Q));const ue=r(e,["responseModalities"]);ue!=null&&c(a,["responseModalities"],ue);const ie=r(e,["mediaResolution"]);ie!=null&&c(a,["mediaResolution"],ie);const X=r(e,["speechConfig"]);if(X!=null&&c(a,["speechConfig"],yy(Uc(X))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=r(e,["thinkingConfig"]);return te!=null&&c(a,["thinkingConfig"],vy(te)),a}function Ny(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["request","model"],ke(t,a));const u=r(e,["contents"]);if(u!=null){let h=qt(u);Array.isArray(h)&&(h=h.map(g=>Ep(g))),c(l,["request","contents"],h)}const f=r(e,["config"]);return f!=null&&c(l,["request","generationConfig"],by(t,f,l)),l}function Ty(t,e){const l={};if(r(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=r(e,["fileName"]);a!=null&&c(l,["fileName"],a);const u=r(e,["inlinedRequests"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Ny(t,h))),c(l,["requests","requests"],f)}return l}function Sy(t,e){const l={},a=r(t,["displayName"]);if(e!==void 0&&a!=null&&c(e,["batch","displayName"],a),r(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Gh(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["src"]);u!=null&&c(l,["batch","inputConfig"],Ty(t,jp(t,u)));const f=r(e,["config"]);return f!=null&&c(l,["config"],Sy(f,l)),l}function Cy(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],ri(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function wy(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],ri(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function jy(t,e){const l={},a=r(t,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const u=r(t,["pageToken"]);if(e!==void 0&&u!=null&&c(e,["_query","pageToken"],u),r(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function Ay(t){const e={},l=r(t,["config"]);return l!=null&&c(e,["config"],jy(l,e)),e}function Ey(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],ri(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function My(t){const e={},l=r(t,["format"]);l!=null&&c(e,["instancesFormat"],l);const a=r(t,["gcsUri"]);a!=null&&c(e,["gcsSource","uris"],a);const u=r(t,["bigqueryUri"]);if(u!=null&&c(e,["bigquerySource","inputUri"],u),r(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ry(t){const e={},l=r(t,["format"]);l!=null&&c(e,["predictionsFormat"],l);const a=r(t,["gcsUri"]);a!=null&&c(e,["gcsDestination","outputUriPrefix"],a);const u=r(t,["bigqueryUri"]);if(u!=null&&c(e,["bigqueryDestination","outputUri"],u),r(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function ky(t,e){const l={},a=r(t,["displayName"]);e!==void 0&&a!=null&&c(e,["displayName"],a);const u=r(t,["dest"]);return e!==void 0&&u!=null&&c(e,["outputConfig"],Ry(Wx(u))),l}function _y(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["model"],ke(t,a));const u=r(e,["src"]);u!=null&&c(l,["inputConfig"],My(jp(t,u)));const f=r(e,["config"]);return f!=null&&c(l,["config"],ky(f,l)),l}function Dy(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],ri(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function Iy(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],ri(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function Ly(t,e){const l={},a=r(t,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const u=r(t,["pageToken"]);e!==void 0&&u!=null&&c(e,["_query","pageToken"],u);const f=r(t,["filter"]);return e!==void 0&&f!=null&&c(e,["_query","filter"],f),l}function Uy(t){const e={},l=r(t,["config"]);return l!=null&&c(e,["config"],Ly(l,e)),e}function Py(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],ri(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function By(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function Gy(t){const e={},l=r(t,["data"]);l!=null&&c(e,["data"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function Vy(t){const e={},l=r(t,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function qy(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],By(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],Gy(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],Vy(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function Fy(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>qy(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function Hy(t){const e={},l=r(t,["citationSources"]);return l!=null&&c(e,["citations"],l),e}function zy(t){const e={},l=r(t,["retrievedUrl"]);l!=null&&c(e,["retrievedUrl"],l);const a=r(t,["urlRetrievalStatus"]);return a!=null&&c(e,["urlRetrievalStatus"],a),e}function Oy(t){const e={},l=r(t,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>zy(u))),c(e,["urlMetadata"],a)}return e}function $y(t){const e={},l=r(t,["content"]);l!=null&&c(e,["content"],Fy(l));const a=r(t,["citationMetadata"]);a!=null&&c(e,["citationMetadata"],Hy(a));const u=r(t,["tokenCount"]);u!=null&&c(e,["tokenCount"],u);const f=r(t,["finishReason"]);f!=null&&c(e,["finishReason"],f);const h=r(t,["urlContextMetadata"]);h!=null&&c(e,["urlContextMetadata"],Oy(h));const g=r(t,["avgLogprobs"]);g!=null&&c(e,["avgLogprobs"],g);const x=r(t,["groundingMetadata"]);x!=null&&c(e,["groundingMetadata"],x);const p=r(t,["index"]);p!=null&&c(e,["index"],p);const v=r(t,["logprobsResult"]);v!=null&&c(e,["logprobsResult"],v);const b=r(t,["safetyRatings"]);return b!=null&&c(e,["safetyRatings"],b),e}function Yy(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["candidates"]);if(a!=null){let x=a;Array.isArray(x)&&(x=x.map(p=>$y(p))),c(e,["candidates"],x)}const u=r(t,["modelVersion"]);u!=null&&c(e,["modelVersion"],u);const f=r(t,["promptFeedback"]);f!=null&&c(e,["promptFeedback"],f);const h=r(t,["responseId"]);h!=null&&c(e,["responseId"],h);const g=r(t,["usageMetadata"]);return g!=null&&c(e,["usageMetadata"],g),e}function Rp(t){const e={},l=r(t,["details"]);l!=null&&c(e,["details"],l);const a=r(t,["code"]);a!=null&&c(e,["code"],a);const u=r(t,["message"]);return u!=null&&c(e,["message"],u),e}function Jy(t){const e={},l=r(t,["response"]);l!=null&&c(e,["response"],Yy(l));const a=r(t,["error"]);return a!=null&&c(e,["error"],Rp(a)),e}function Ky(t){const e={},l=r(t,["responsesFile"]);l!=null&&c(e,["fileName"],l);const a=r(t,["inlinedResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Jy(f))),c(e,["inlinedResponses"],u)}return e}function ka(t){const e={},l=r(t,["name"]);l!=null&&c(e,["name"],l);const a=r(t,["metadata","displayName"]);a!=null&&c(e,["displayName"],a);const u=r(t,["metadata","state"]);u!=null&&c(e,["state"],Ap(u));const f=r(t,["metadata","createTime"]);f!=null&&c(e,["createTime"],f);const h=r(t,["metadata","endTime"]);h!=null&&c(e,["endTime"],h);const g=r(t,["metadata","updateTime"]);g!=null&&c(e,["updateTime"],g);const x=r(t,["metadata","model"]);x!=null&&c(e,["model"],x);const p=r(t,["metadata","output"]);return p!=null&&c(e,["dest"],Ky(p)),e}function Wy(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["nextPageToken"]);a!=null&&c(e,["nextPageToken"],a);const u=r(t,["operations"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>ka(h))),c(e,["batchJobs"],f)}return e}function Qy(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["name"]);a!=null&&c(e,["name"],a);const u=r(t,["done"]);u!=null&&c(e,["done"],u);const f=r(t,["error"]);return f!=null&&c(e,["error"],Rp(f)),e}function kp(t){const e={},l=r(t,["details"]);l!=null&&c(e,["details"],l);const a=r(t,["code"]);a!=null&&c(e,["code"],a);const u=r(t,["message"]);return u!=null&&c(e,["message"],u),e}function Xy(t){const e={},l=r(t,["instancesFormat"]);l!=null&&c(e,["format"],l);const a=r(t,["gcsSource","uris"]);a!=null&&c(e,["gcsUri"],a);const u=r(t,["bigquerySource","inputUri"]);return u!=null&&c(e,["bigqueryUri"],u),e}function Zy(t){const e={},l=r(t,["predictionsFormat"]);l!=null&&c(e,["format"],l);const a=r(t,["gcsDestination","outputUriPrefix"]);a!=null&&c(e,["gcsUri"],a);const u=r(t,["bigqueryDestination","outputUri"]);return u!=null&&c(e,["bigqueryUri"],u),e}function jc(t){const e={},l=r(t,["name"]);l!=null&&c(e,["name"],l);const a=r(t,["displayName"]);a!=null&&c(e,["displayName"],a);const u=r(t,["state"]);u!=null&&c(e,["state"],Ap(u));const f=r(t,["error"]);f!=null&&c(e,["error"],kp(f));const h=r(t,["createTime"]);h!=null&&c(e,["createTime"],h);const g=r(t,["startTime"]);g!=null&&c(e,["startTime"],g);const x=r(t,["endTime"]);x!=null&&c(e,["endTime"],x);const p=r(t,["updateTime"]);p!=null&&c(e,["updateTime"],p);const v=r(t,["model"]);v!=null&&c(e,["model"],v);const b=r(t,["inputConfig"]);b!=null&&c(e,["src"],Xy(b));const N=r(t,["outputConfig"]);return N!=null&&c(e,["dest"],Zy(N)),e}function ev(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["nextPageToken"]);a!=null&&c(e,["nextPageToken"],a);const u=r(t,["batchPredictionJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>jc(h))),c(e,["batchJobs"],f)}return e}function tv(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["name"]);a!=null&&c(e,["name"],a);const u=r(t,["done"]);u!=null&&c(e,["done"],u);const f=r(t,["error"]);return f!=null&&c(e,["error"],kp(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(fs||(fs={}));class ml{constructor(e,l,a,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,a,u)}init(e,l,a){var u,f;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!a||Object.keys(a).length===0?h={config:{}}:typeof a=="object"?h=Object.assign({},a):h=a,h.config&&(h.config.pageToken=l.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(f=(u=h.config)===null||u===void 0?void 0:u.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nv extends ms{constructor(e){super(),this.apiClient=e,this.create=async l=>{var a,u;if(this.apiClient.isVertexAI()){const h=Date.now().toString();if(Array.isArray(l.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(l.config=l.config||{},l.config.displayName===void 0&&(l.config.displayName="genaiBatchJob_${timestampStr}"),l.config.dest===void 0&&typeof l.src=="string")if(l.src.startsWith("gs://")&&l.src.endsWith(".jsonl"))l.config.dest=`${l.src.slice(0,-6)}/dest`;else if(l.src.startsWith("bq://"))l.config.dest=`${l.src}_dest_${h}`;else throw new Error("Unsupported source:"+l.src)}else if(Array.isArray(l.src)||typeof l.src!="string"&&l.src.inlinedRequests){let f="",h={};const g=Gh(this.apiClient,l);f=fe("{model}:batchGenerateContent",g._url),h=g._query;const v=g.batch.inputConfig.requests,b=v.requests,N=[];for(const A of b){const M=A;if(M.systemInstruction){const I=M.systemInstruction;delete M.systemInstruction;const R=M.request;R.systemInstruction=I,M.request=R}N.push(M)}return v.requests=N,delete g.config,delete g._url,delete g._query,this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=l.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=l.config)===null||u===void 0?void 0:u.abortSignal}).then(A=>A.json()).then(A=>ka(A))}return await this.createInternal(l)},this.list=async(l={})=>new ml(fs.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l)}async createInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=_y(this.apiClient,e);return g=fe("batchPredictionJobs",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>jc(v))}else{const p=Gh(this.apiClient,e);return g=fe("{model}:batchGenerateContent",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>ka(v))}}async get(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Dy(this.apiClient,e);return g=fe("batchPredictionJobs/{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>jc(v))}else{const p=Cy(this.apiClient,e);return g=fe("batches/{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>ka(v))}}async cancel(e){var l,a,u,f;let h="",g={};if(this.apiClient.isVertexAI()){const x=Iy(this.apiClient,e);h=fe("batchPredictionJobs/{name}:cancel",x._url),g=x._query,delete x.config,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const x=wy(this.apiClient,e);h=fe("batches/{name}:cancel",x._url),g=x._query,delete x.config,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Uy(e);return g=fe("batchPredictionJobs",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=ev(v),N=new Lh;return Object.assign(N,b),N})}else{const p=Ay(e);return g=fe("batches",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=Wy(v),N=new Lh;return Object.assign(N,b),N})}}async delete(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Py(this.apiClient,e);return g=fe("batchPredictionJobs/{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>tv(v))}else{const p=Ey(this.apiClient,e);return g=fe("batches/{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>Qy(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sv(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function iv(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(t,["data"]);l!=null&&c(e,["data"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function lv(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(t,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function av(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],sv(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],iv(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],lv(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function Vh(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>av(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function ov(t){const e={},l=r(t,["behavior"]);l!=null&&c(e,["behavior"],l);const a=r(t,["description"]);a!=null&&c(e,["description"],a);const u=r(t,["name"]);u!=null&&c(e,["name"],u);const f=r(t,["parameters"]);f!=null&&c(e,["parameters"],f);const h=r(t,["parametersJsonSchema"]);h!=null&&c(e,["parametersJsonSchema"],h);const g=r(t,["response"]);g!=null&&c(e,["response"],g);const x=r(t,["responseJsonSchema"]);return x!=null&&c(e,["responseJsonSchema"],x),e}function rv(t){const e={},l=r(t,["startTime"]);l!=null&&c(e,["startTime"],l);const a=r(t,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function cv(t){const e={},l=r(t,["timeRangeFilter"]);if(l!=null&&c(e,["timeRangeFilter"],rv(l)),r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function uv(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function dv(t){const e={},l=r(t,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],uv(l)),e}function fv(){return{}}function mv(t){const e={},l=r(t,["environment"]);return l!=null&&c(e,["environment"],l),e}function hv(t){const e={},l=r(t,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(p=>ov(p))),c(e,["functionDeclarations"],x)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(t,["googleSearch"]);a!=null&&c(e,["googleSearch"],cv(a));const u=r(t,["googleSearchRetrieval"]);if(u!=null&&c(e,["googleSearchRetrieval"],dv(u)),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(t,["urlContext"])!=null&&c(e,["urlContext"],fv());const h=r(t,["computerUse"]);h!=null&&c(e,["computerUse"],mv(h));const g=r(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function pv(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["allowedFunctionNames"]);return a!=null&&c(e,["allowedFunctionNames"],a),e}function gv(t){const e={},l=r(t,["latitude"]);l!=null&&c(e,["latitude"],l);const a=r(t,["longitude"]);return a!=null&&c(e,["longitude"],a),e}function xv(t){const e={},l=r(t,["latLng"]);l!=null&&c(e,["latLng"],gv(l));const a=r(t,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function yv(t){const e={},l=r(t,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],pv(l));const a=r(t,["retrievalConfig"]);return a!=null&&c(e,["retrievalConfig"],xv(a)),e}function vv(t,e){const l={},a=r(t,["ttl"]);e!==void 0&&a!=null&&c(e,["ttl"],a);const u=r(t,["expireTime"]);e!==void 0&&u!=null&&c(e,["expireTime"],u);const f=r(t,["displayName"]);e!==void 0&&f!=null&&c(e,["displayName"],f);const h=r(t,["contents"]);if(e!==void 0&&h!=null){let v=qt(h);Array.isArray(v)&&(v=v.map(b=>Vh(b))),c(e,["contents"],v)}const g=r(t,["systemInstruction"]);e!==void 0&&g!=null&&c(e,["systemInstruction"],Vh(ft(g)));const x=r(t,["tools"]);if(e!==void 0&&x!=null){let v=x;Array.isArray(v)&&(v=v.map(b=>hv(b))),c(e,["tools"],v)}const p=r(t,["toolConfig"]);if(e!==void 0&&p!=null&&c(e,["toolConfig"],yv(p)),r(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function bv(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["model"],gp(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],vv(u,l)),l}function Nv(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],xn(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function Tv(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],xn(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function Sv(t,e){const l={},a=r(t,["ttl"]);e!==void 0&&a!=null&&c(e,["ttl"],a);const u=r(t,["expireTime"]);return e!==void 0&&u!=null&&c(e,["expireTime"],u),l}function Cv(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],xn(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],Sv(u,l)),l}function wv(t,e){const l={},a=r(t,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const u=r(t,["pageToken"]);return e!==void 0&&u!=null&&c(e,["_query","pageToken"],u),l}function jv(t){const e={},l=r(t,["config"]);return l!=null&&c(e,["config"],wv(l,e)),e}function Av(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function Ev(t){const e={},l=r(t,["displayName"]);l!=null&&c(e,["displayName"],l);const a=r(t,["data"]);a!=null&&c(e,["data"],a);const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function Mv(t){const e={},l=r(t,["displayName"]);l!=null&&c(e,["displayName"],l);const a=r(t,["fileUri"]);a!=null&&c(e,["fileUri"],a);const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function Rv(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],Av(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],Ev(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],Mv(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function qh(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Rv(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function kv(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(t,["description"]);l!=null&&c(e,["description"],l);const a=r(t,["name"]);a!=null&&c(e,["name"],a);const u=r(t,["parameters"]);u!=null&&c(e,["parameters"],u);const f=r(t,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const h=r(t,["response"]);h!=null&&c(e,["response"],h);const g=r(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function _v(t){const e={},l=r(t,["startTime"]);l!=null&&c(e,["startTime"],l);const a=r(t,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function Dv(t){const e={},l=r(t,["timeRangeFilter"]);l!=null&&c(e,["timeRangeFilter"],_v(l));const a=r(t,["excludeDomains"]);return a!=null&&c(e,["excludeDomains"],a),e}function Iv(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function Lv(t){const e={},l=r(t,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],Iv(l)),e}function Uv(t){const e={},l=r(t,["excludeDomains"]);return l!=null&&c(e,["excludeDomains"],l),e}function Pv(t){const e={},l=r(t,["apiKeyString"]);return l!=null&&c(e,["apiKeyString"],l),e}function Bv(t){const e={},l=r(t,["apiKeyConfig"]);l!=null&&c(e,["apiKeyConfig"],Pv(l));const a=r(t,["authType"]);a!=null&&c(e,["authType"],a);const u=r(t,["googleServiceAccountConfig"]);u!=null&&c(e,["googleServiceAccountConfig"],u);const f=r(t,["httpBasicAuthConfig"]);f!=null&&c(e,["httpBasicAuthConfig"],f);const h=r(t,["oauthConfig"]);h!=null&&c(e,["oauthConfig"],h);const g=r(t,["oidcConfig"]);return g!=null&&c(e,["oidcConfig"],g),e}function Gv(t){const e={},l=r(t,["authConfig"]);return l!=null&&c(e,["authConfig"],Bv(l)),e}function Vv(){return{}}function qv(t){const e={},l=r(t,["environment"]);return l!=null&&c(e,["environment"],l),e}function Fv(t){const e={},l=r(t,["functionDeclarations"]);if(l!=null){let b=l;Array.isArray(b)&&(b=b.map(N=>kv(N))),c(e,["functionDeclarations"],b)}const a=r(t,["retrieval"]);a!=null&&c(e,["retrieval"],a);const u=r(t,["googleSearch"]);u!=null&&c(e,["googleSearch"],Dv(u));const f=r(t,["googleSearchRetrieval"]);f!=null&&c(e,["googleSearchRetrieval"],Lv(f));const h=r(t,["enterpriseWebSearch"]);h!=null&&c(e,["enterpriseWebSearch"],Uv(h));const g=r(t,["googleMaps"]);g!=null&&c(e,["googleMaps"],Gv(g)),r(t,["urlContext"])!=null&&c(e,["urlContext"],Vv());const p=r(t,["computerUse"]);p!=null&&c(e,["computerUse"],qv(p));const v=r(t,["codeExecution"]);return v!=null&&c(e,["codeExecution"],v),e}function Hv(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["allowedFunctionNames"]);return a!=null&&c(e,["allowedFunctionNames"],a),e}function zv(t){const e={},l=r(t,["latitude"]);l!=null&&c(e,["latitude"],l);const a=r(t,["longitude"]);return a!=null&&c(e,["longitude"],a),e}function Ov(t){const e={},l=r(t,["latLng"]);l!=null&&c(e,["latLng"],zv(l));const a=r(t,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function $v(t){const e={},l=r(t,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],Hv(l));const a=r(t,["retrievalConfig"]);return a!=null&&c(e,["retrievalConfig"],Ov(a)),e}function Yv(t,e){const l={},a=r(t,["ttl"]);e!==void 0&&a!=null&&c(e,["ttl"],a);const u=r(t,["expireTime"]);e!==void 0&&u!=null&&c(e,["expireTime"],u);const f=r(t,["displayName"]);e!==void 0&&f!=null&&c(e,["displayName"],f);const h=r(t,["contents"]);if(e!==void 0&&h!=null){let b=qt(h);Array.isArray(b)&&(b=b.map(N=>qh(N))),c(e,["contents"],b)}const g=r(t,["systemInstruction"]);e!==void 0&&g!=null&&c(e,["systemInstruction"],qh(ft(g)));const x=r(t,["tools"]);if(e!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(N=>Fv(N))),c(e,["tools"],b)}const p=r(t,["toolConfig"]);e!==void 0&&p!=null&&c(e,["toolConfig"],$v(p));const v=r(t,["kmsKeyName"]);return e!==void 0&&v!=null&&c(e,["encryption_spec","kmsKeyName"],v),l}function Jv(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["model"],gp(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],Yv(u,l)),l}function Kv(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],xn(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function Wv(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],xn(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function Qv(t,e){const l={},a=r(t,["ttl"]);e!==void 0&&a!=null&&c(e,["ttl"],a);const u=r(t,["expireTime"]);return e!==void 0&&u!=null&&c(e,["expireTime"],u),l}function Xv(t,e){const l={},a=r(e,["name"]);a!=null&&c(l,["_url","name"],xn(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],Qv(u,l)),l}function Zv(t,e){const l={},a=r(t,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const u=r(t,["pageToken"]);return e!==void 0&&u!=null&&c(e,["_query","pageToken"],u),l}function eb(t){const e={},l=r(t,["config"]);return l!=null&&c(e,["config"],Zv(l,e)),e}function _a(t){const e={},l=r(t,["name"]);l!=null&&c(e,["name"],l);const a=r(t,["displayName"]);a!=null&&c(e,["displayName"],a);const u=r(t,["model"]);u!=null&&c(e,["model"],u);const f=r(t,["createTime"]);f!=null&&c(e,["createTime"],f);const h=r(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const g=r(t,["expireTime"]);g!=null&&c(e,["expireTime"],g);const x=r(t,["usageMetadata"]);return x!=null&&c(e,["usageMetadata"],x),e}function tb(t){const e={},l=r(t,["sdkHttpResponse"]);return l!=null&&c(e,["sdkHttpResponse"],l),e}function nb(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["nextPageToken"]);a!=null&&c(e,["nextPageToken"],a);const u=r(t,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>_a(h))),c(e,["cachedContents"],f)}return e}function Da(t){const e={},l=r(t,["name"]);l!=null&&c(e,["name"],l);const a=r(t,["displayName"]);a!=null&&c(e,["displayName"],a);const u=r(t,["model"]);u!=null&&c(e,["model"],u);const f=r(t,["createTime"]);f!=null&&c(e,["createTime"],f);const h=r(t,["updateTime"]);h!=null&&c(e,["updateTime"],h);const g=r(t,["expireTime"]);g!=null&&c(e,["expireTime"],g);const x=r(t,["usageMetadata"]);return x!=null&&c(e,["usageMetadata"],x),e}function sb(t){const e={},l=r(t,["sdkHttpResponse"]);return l!=null&&c(e,["sdkHttpResponse"],l),e}function ib(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["nextPageToken"]);a!=null&&c(e,["nextPageToken"],a);const u=r(t,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Da(h))),c(e,["cachedContents"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lb extends ms{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new ml(fs.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Jv(this.apiClient,e);return g=fe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Da(v))}else{const p=bv(this.apiClient,e);return g=fe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>_a(v))}}async get(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Kv(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Da(v))}else{const p=Nv(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>_a(v))}}async delete(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Wv(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=sb(v),N=new Dh;return Object.assign(N,b),N})}else{const p=Tv(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=tb(v),N=new Dh;return Object.assign(N,b),N})}}async update(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Xv(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Da(v))}else{const p=Cv(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>_a(v))}}async listInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=eb(e);return g=fe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=ib(v),N=new Ih;return Object.assign(N,b),N})}else{const p=jv(e);return g=fe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=nb(v),N=new Ih;return Object.assign(N,b),N})}}}function Fh(t){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&t[e],a=0;if(l)return l.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(t){return this instanceof Ve?(this.v=t,this):new Ve(t)}function ii(t,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(t,e||[]),u,f=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(j){return function(A){return Promise.resolve(A).then(j,b)}}function g(j,A){a[j]&&(u[j]=function(M){return new Promise(function(I,R){f.push([j,M,I,R])>1||x(j,M)})},A&&(u[j]=A(u[j])))}function x(j,A){try{p(a[j](A))}catch(M){N(f[0][3],M)}}function p(j){j.value instanceof Ve?Promise.resolve(j.value.v).then(v,b):N(f[0][2],j)}function v(j){x("next",j)}function b(j){x("throw",j)}function N(j,A){j(A),f.shift(),f.length&&x(f[0][0],f[0][1])}}function fl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],l;return e?e.call(t):(t=typeof Fh=="function"?Fh(t):t[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=t[f]&&function(h){return new Promise(function(g,x){h=t[f](h),u(g,x,h.done,h.value)})}}function u(f,h,g,x){Promise.resolve(x).then(function(p){f({value:p,done:g})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ab(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const l=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:_p(l)}function _p(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ob(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Hh(t){if(t===void 0||t.length===0)return[];const e=[],l=t.length;let a=0;for(;a<l;)if(t[a].role==="user")e.push(t[a]),a++;else{const u=[];let f=!0;for(;a<l&&t[a].role==="model";)u.push(t[a]),f&&!_p(t[a])&&(f=!1),a++;f?e.push(...u):e.pop()}return e}class rb{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new cb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class cb{constructor(e,l,a,u={},f=[]){this.apiClient=e,this.modelsModule=l,this.model=a,this.config=u,this.history=f,this.sendPromise=Promise.resolve(),ob(f)}async sendMessage(e){var l;await this.sendPromise;const a=ft(e.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,h,g;const x=await u,p=(h=(f=x.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content,v=x.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let N=[];v!=null&&(N=(g=v.slice(b))!==null&&g!==void 0?g:[]);const j=p?[p]:[];this.recordHistory(a,j,N)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(e){var l;await this.sendPromise;const a=ft(e.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const f=await u;return this.processStreamResponse(f,a)}getHistory(e=!1){const l=e?Hh(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var a,u;return ii(this,arguments,function*(){var h,g,x,p;const v=[];try{for(var b=!0,N=fl(e),j;j=yield Ve(N.next()),h=j.done,!h;b=!0){p=j.value,b=!1;const A=p;if(ab(A)){const M=(u=(a=A.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content;M!==void 0&&v.push(M)}yield yield Ve(A)}}catch(A){g={error:A}}finally{try{!b&&!h&&(x=N.return)&&(yield Ve(x.call(N)))}finally{if(g)throw g.error}}this.recordHistory(l,v)})}recordHistory(e,l,a){let u=[];l.length>0&&l.every(f=>f.role!==void 0)?u=l:u.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Hh(a)):this.history.push(e),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ba extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ba.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ub(t,e){const l={},a=r(t,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const u=r(t,["pageToken"]);return e!==void 0&&u!=null&&c(e,["_query","pageToken"],u),l}function db(t){const e={},l=r(t,["config"]);return l!=null&&c(e,["config"],ub(l,e)),e}function fb(t){const e={},l=r(t,["details"]);l!=null&&c(e,["details"],l);const a=r(t,["message"]);a!=null&&c(e,["message"],a);const u=r(t,["code"]);return u!=null&&c(e,["code"],u),e}function mb(t){const e={},l=r(t,["name"]);l!=null&&c(e,["name"],l);const a=r(t,["displayName"]);a!=null&&c(e,["displayName"],a);const u=r(t,["mimeType"]);u!=null&&c(e,["mimeType"],u);const f=r(t,["sizeBytes"]);f!=null&&c(e,["sizeBytes"],f);const h=r(t,["createTime"]);h!=null&&c(e,["createTime"],h);const g=r(t,["expirationTime"]);g!=null&&c(e,["expirationTime"],g);const x=r(t,["updateTime"]);x!=null&&c(e,["updateTime"],x);const p=r(t,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const v=r(t,["uri"]);v!=null&&c(e,["uri"],v);const b=r(t,["downloadUri"]);b!=null&&c(e,["downloadUri"],b);const N=r(t,["state"]);N!=null&&c(e,["state"],N);const j=r(t,["source"]);j!=null&&c(e,["source"],j);const A=r(t,["videoMetadata"]);A!=null&&c(e,["videoMetadata"],A);const M=r(t,["error"]);return M!=null&&c(e,["error"],fb(M)),e}function hb(t){const e={},l=r(t,["file"]);l!=null&&c(e,["file"],mb(l));const a=r(t,["config"]);return a!=null&&c(e,["config"],a),e}function pb(t){const e={},l=r(t,["name"]);l!=null&&c(e,["_url","file"],Sp(l));const a=r(t,["config"]);return a!=null&&c(e,["config"],a),e}function gb(t){const e={},l=r(t,["name"]);l!=null&&c(e,["_url","file"],Sp(l));const a=r(t,["config"]);return a!=null&&c(e,["config"],a),e}function xb(t){const e={},l=r(t,["details"]);l!=null&&c(e,["details"],l);const a=r(t,["message"]);a!=null&&c(e,["message"],a);const u=r(t,["code"]);return u!=null&&c(e,["code"],u),e}function Ac(t){const e={},l=r(t,["name"]);l!=null&&c(e,["name"],l);const a=r(t,["displayName"]);a!=null&&c(e,["displayName"],a);const u=r(t,["mimeType"]);u!=null&&c(e,["mimeType"],u);const f=r(t,["sizeBytes"]);f!=null&&c(e,["sizeBytes"],f);const h=r(t,["createTime"]);h!=null&&c(e,["createTime"],h);const g=r(t,["expirationTime"]);g!=null&&c(e,["expirationTime"],g);const x=r(t,["updateTime"]);x!=null&&c(e,["updateTime"],x);const p=r(t,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const v=r(t,["uri"]);v!=null&&c(e,["uri"],v);const b=r(t,["downloadUri"]);b!=null&&c(e,["downloadUri"],b);const N=r(t,["state"]);N!=null&&c(e,["state"],N);const j=r(t,["source"]);j!=null&&c(e,["source"],j);const A=r(t,["videoMetadata"]);A!=null&&c(e,["videoMetadata"],A);const M=r(t,["error"]);return M!=null&&c(e,["error"],xb(M)),e}function yb(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["nextPageToken"]);a!=null&&c(e,["nextPageToken"],a);const u=r(t,["files"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Ac(h))),c(e,["files"],f)}return e}function vb(t){const e={},l=r(t,["sdkHttpResponse"]);return l!=null&&c(e,["sdkHttpResponse"],l),e}function bb(t){const e={},l=r(t,["sdkHttpResponse"]);return l!=null&&c(e,["sdkHttpResponse"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nb extends ms{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new ml(fs.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>Ac(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=db(e);return f=fe("files",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>{const p=yb(x),v=new Px;return Object.assign(v,p),v})}}async createInternal(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hb(e);return f=fe("upload/v1beta/files",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),u.then(x=>{const p=vb(x),v=new Bx;return Object.assign(v,p),v})}}async get(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=pb(e);return f=fe("files/{file}",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),u.then(x=>Ac(x))}}async delete(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gb(e);return f=fe("files/{file}",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>{const p=bb(x),v=new Gx;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tb(t){const e={},l=r(t,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function Dp(t){const e={},l=r(t,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],Tb(l)),e}function Sb(t){const e={},l=r(t,["speaker"]);l!=null&&c(e,["speaker"],l);const a=r(t,["voiceConfig"]);return a!=null&&c(e,["voiceConfig"],Dp(a)),e}function Cb(t){const e={},l=r(t,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Sb(u))),c(e,["speakerVoiceConfigs"],a)}return e}function wb(t){const e={},l=r(t,["voiceConfig"]);l!=null&&c(e,["voiceConfig"],Dp(l));const a=r(t,["multiSpeakerVoiceConfig"]);a!=null&&c(e,["multiSpeakerVoiceConfig"],Cb(a));const u=r(t,["languageCode"]);return u!=null&&c(e,["languageCode"],u),e}function jb(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function Ab(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(t,["data"]);l!=null&&c(e,["data"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function Eb(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(t,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function Mb(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],jb(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],Ab(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],Eb(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function Rb(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Mb(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function kb(t){const e={},l=r(t,["behavior"]);l!=null&&c(e,["behavior"],l);const a=r(t,["description"]);a!=null&&c(e,["description"],a);const u=r(t,["name"]);u!=null&&c(e,["name"],u);const f=r(t,["parameters"]);f!=null&&c(e,["parameters"],f);const h=r(t,["parametersJsonSchema"]);h!=null&&c(e,["parametersJsonSchema"],h);const g=r(t,["response"]);g!=null&&c(e,["response"],g);const x=r(t,["responseJsonSchema"]);return x!=null&&c(e,["responseJsonSchema"],x),e}function _b(t){const e={},l=r(t,["startTime"]);l!=null&&c(e,["startTime"],l);const a=r(t,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function Db(t){const e={},l=r(t,["timeRangeFilter"]);if(l!=null&&c(e,["timeRangeFilter"],_b(l)),r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Ib(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function Lb(t){const e={},l=r(t,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],Ib(l)),e}function Ub(){return{}}function Pb(t){const e={},l=r(t,["environment"]);return l!=null&&c(e,["environment"],l),e}function Bb(t){const e={},l=r(t,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(p=>kb(p))),c(e,["functionDeclarations"],x)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(t,["googleSearch"]);a!=null&&c(e,["googleSearch"],Db(a));const u=r(t,["googleSearchRetrieval"]);if(u!=null&&c(e,["googleSearchRetrieval"],Lb(u)),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(t,["urlContext"])!=null&&c(e,["urlContext"],Ub());const h=r(t,["computerUse"]);h!=null&&c(e,["computerUse"],Pb(h));const g=r(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function Gb(t){const e={},l=r(t,["handle"]);if(l!=null&&c(e,["handle"],l),r(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zh(){return{}}function Vb(t){const e={},l=r(t,["disabled"]);l!=null&&c(e,["disabled"],l);const a=r(t,["startOfSpeechSensitivity"]);a!=null&&c(e,["startOfSpeechSensitivity"],a);const u=r(t,["endOfSpeechSensitivity"]);u!=null&&c(e,["endOfSpeechSensitivity"],u);const f=r(t,["prefixPaddingMs"]);f!=null&&c(e,["prefixPaddingMs"],f);const h=r(t,["silenceDurationMs"]);return h!=null&&c(e,["silenceDurationMs"],h),e}function qb(t){const e={},l=r(t,["automaticActivityDetection"]);l!=null&&c(e,["automaticActivityDetection"],Vb(l));const a=r(t,["activityHandling"]);a!=null&&c(e,["activityHandling"],a);const u=r(t,["turnCoverage"]);return u!=null&&c(e,["turnCoverage"],u),e}function Fb(t){const e={},l=r(t,["targetTokens"]);return l!=null&&c(e,["targetTokens"],l),e}function Hb(t){const e={},l=r(t,["triggerTokens"]);l!=null&&c(e,["triggerTokens"],l);const a=r(t,["slidingWindow"]);return a!=null&&c(e,["slidingWindow"],Fb(a)),e}function zb(t){const e={},l=r(t,["proactiveAudio"]);return l!=null&&c(e,["proactiveAudio"],l),e}function Ob(t,e){const l={},a=r(t,["generationConfig"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig"],a);const u=r(t,["responseModalities"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","responseModalities"],u);const f=r(t,["temperature"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","temperature"],f);const h=r(t,["topP"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topP"],h);const g=r(t,["topK"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","topK"],g);const x=r(t,["maxOutputTokens"]);e!==void 0&&x!=null&&c(e,["setup","generationConfig","maxOutputTokens"],x);const p=r(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const v=r(t,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const b=r(t,["speechConfig"]);e!==void 0&&b!=null&&c(e,["setup","generationConfig","speechConfig"],wb(Pc(b)));const N=r(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],N);const j=r(t,["systemInstruction"]);e!==void 0&&j!=null&&c(e,["setup","systemInstruction"],Rb(ft(j)));const A=r(t,["tools"]);if(e!==void 0&&A!=null){let q=oi(A);Array.isArray(q)&&(q=q.map(Q=>Bb(ai(Q)))),c(e,["setup","tools"],q)}const M=r(t,["sessionResumption"]);e!==void 0&&M!=null&&c(e,["setup","sessionResumption"],Gb(M));const I=r(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&c(e,["setup","inputAudioTranscription"],zh());const R=r(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&c(e,["setup","outputAudioTranscription"],zh());const U=r(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&c(e,["setup","realtimeInputConfig"],qb(U));const B=r(t,["contextWindowCompression"]);e!==void 0&&B!=null&&c(e,["setup","contextWindowCompression"],Hb(B));const D=r(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],zb(D)),l}function $b(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["setup","model"],ke(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],Ob(u,l)),l}function Yb(){return{}}function Jb(){return{}}function Kb(t){const e={},l=r(t,["media"]);l!=null&&c(e,["mediaChunks"],xp(l));const a=r(t,["audio"]);a!=null&&c(e,["audio"],vp(a));const u=r(t,["audioStreamEnd"]);u!=null&&c(e,["audioStreamEnd"],u);const f=r(t,["video"]);f!=null&&c(e,["video"],yp(f));const h=r(t,["text"]);return h!=null&&c(e,["text"],h),r(t,["activityStart"])!=null&&c(e,["activityStart"],Yb()),r(t,["activityEnd"])!=null&&c(e,["activityEnd"],Jb()),e}function Ip(t){const e={},l=r(t,["text"]);l!=null&&c(e,["text"],l);const a=r(t,["weight"]);return a!=null&&c(e,["weight"],a),e}function Wb(t){const e={},l=r(t,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Ip(u))),c(e,["weightedPrompts"],a)}return e}function Lp(t){const e={},l=r(t,["temperature"]);l!=null&&c(e,["temperature"],l);const a=r(t,["topK"]);a!=null&&c(e,["topK"],a);const u=r(t,["seed"]);u!=null&&c(e,["seed"],u);const f=r(t,["guidance"]);f!=null&&c(e,["guidance"],f);const h=r(t,["bpm"]);h!=null&&c(e,["bpm"],h);const g=r(t,["density"]);g!=null&&c(e,["density"],g);const x=r(t,["brightness"]);x!=null&&c(e,["brightness"],x);const p=r(t,["scale"]);p!=null&&c(e,["scale"],p);const v=r(t,["muteBass"]);v!=null&&c(e,["muteBass"],v);const b=r(t,["muteDrums"]);b!=null&&c(e,["muteDrums"],b);const N=r(t,["onlyBassAndDrums"]);N!=null&&c(e,["onlyBassAndDrums"],N);const j=r(t,["musicGenerationMode"]);return j!=null&&c(e,["musicGenerationMode"],j),e}function Qb(t){const e={},l=r(t,["musicGenerationConfig"]);return l!=null&&c(e,["musicGenerationConfig"],Lp(l)),e}function Up(t){const e={},l=r(t,["model"]);return l!=null&&c(e,["model"],l),e}function Pp(t){const e={},l=r(t,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Ip(u))),c(e,["weightedPrompts"],a)}return e}function Ec(t){const e={},l=r(t,["setup"]);l!=null&&c(e,["setup"],Up(l));const a=r(t,["clientContent"]);a!=null&&c(e,["clientContent"],Pp(a));const u=r(t,["musicGenerationConfig"]);u!=null&&c(e,["musicGenerationConfig"],Lp(u));const f=r(t,["playbackControl"]);return f!=null&&c(e,["playbackControl"],f),e}function Xb(t){const e={},l=r(t,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function Zb(t){const e={},l=r(t,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],Xb(l)),e}function e2(t){const e={},l=r(t,["voiceConfig"]);if(l!=null&&c(e,["voiceConfig"],Zb(l)),r(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=r(t,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function t2(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function n2(t){const e={},l=r(t,["displayName"]);l!=null&&c(e,["displayName"],l);const a=r(t,["data"]);a!=null&&c(e,["data"],a);const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function s2(t){const e={},l=r(t,["displayName"]);l!=null&&c(e,["displayName"],l);const a=r(t,["fileUri"]);a!=null&&c(e,["fileUri"],a);const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function i2(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],t2(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],n2(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],s2(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function l2(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>i2(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function a2(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(t,["description"]);l!=null&&c(e,["description"],l);const a=r(t,["name"]);a!=null&&c(e,["name"],a);const u=r(t,["parameters"]);u!=null&&c(e,["parameters"],u);const f=r(t,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const h=r(t,["response"]);h!=null&&c(e,["response"],h);const g=r(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function o2(t){const e={},l=r(t,["startTime"]);l!=null&&c(e,["startTime"],l);const a=r(t,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function r2(t){const e={},l=r(t,["timeRangeFilter"]);l!=null&&c(e,["timeRangeFilter"],o2(l));const a=r(t,["excludeDomains"]);return a!=null&&c(e,["excludeDomains"],a),e}function c2(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function u2(t){const e={},l=r(t,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],c2(l)),e}function d2(t){const e={},l=r(t,["excludeDomains"]);return l!=null&&c(e,["excludeDomains"],l),e}function f2(t){const e={},l=r(t,["apiKeyString"]);return l!=null&&c(e,["apiKeyString"],l),e}function m2(t){const e={},l=r(t,["apiKeyConfig"]);l!=null&&c(e,["apiKeyConfig"],f2(l));const a=r(t,["authType"]);a!=null&&c(e,["authType"],a);const u=r(t,["googleServiceAccountConfig"]);u!=null&&c(e,["googleServiceAccountConfig"],u);const f=r(t,["httpBasicAuthConfig"]);f!=null&&c(e,["httpBasicAuthConfig"],f);const h=r(t,["oauthConfig"]);h!=null&&c(e,["oauthConfig"],h);const g=r(t,["oidcConfig"]);return g!=null&&c(e,["oidcConfig"],g),e}function h2(t){const e={},l=r(t,["authConfig"]);return l!=null&&c(e,["authConfig"],m2(l)),e}function p2(){return{}}function g2(t){const e={},l=r(t,["environment"]);return l!=null&&c(e,["environment"],l),e}function x2(t){const e={},l=r(t,["functionDeclarations"]);if(l!=null){let b=l;Array.isArray(b)&&(b=b.map(N=>a2(N))),c(e,["functionDeclarations"],b)}const a=r(t,["retrieval"]);a!=null&&c(e,["retrieval"],a);const u=r(t,["googleSearch"]);u!=null&&c(e,["googleSearch"],r2(u));const f=r(t,["googleSearchRetrieval"]);f!=null&&c(e,["googleSearchRetrieval"],u2(f));const h=r(t,["enterpriseWebSearch"]);h!=null&&c(e,["enterpriseWebSearch"],d2(h));const g=r(t,["googleMaps"]);g!=null&&c(e,["googleMaps"],h2(g)),r(t,["urlContext"])!=null&&c(e,["urlContext"],p2());const p=r(t,["computerUse"]);p!=null&&c(e,["computerUse"],g2(p));const v=r(t,["codeExecution"]);return v!=null&&c(e,["codeExecution"],v),e}function y2(t){const e={},l=r(t,["handle"]);l!=null&&c(e,["handle"],l);const a=r(t,["transparent"]);return a!=null&&c(e,["transparent"],a),e}function Oh(){return{}}function v2(t){const e={},l=r(t,["disabled"]);l!=null&&c(e,["disabled"],l);const a=r(t,["startOfSpeechSensitivity"]);a!=null&&c(e,["startOfSpeechSensitivity"],a);const u=r(t,["endOfSpeechSensitivity"]);u!=null&&c(e,["endOfSpeechSensitivity"],u);const f=r(t,["prefixPaddingMs"]);f!=null&&c(e,["prefixPaddingMs"],f);const h=r(t,["silenceDurationMs"]);return h!=null&&c(e,["silenceDurationMs"],h),e}function b2(t){const e={},l=r(t,["automaticActivityDetection"]);l!=null&&c(e,["automaticActivityDetection"],v2(l));const a=r(t,["activityHandling"]);a!=null&&c(e,["activityHandling"],a);const u=r(t,["turnCoverage"]);return u!=null&&c(e,["turnCoverage"],u),e}function N2(t){const e={},l=r(t,["targetTokens"]);return l!=null&&c(e,["targetTokens"],l),e}function T2(t){const e={},l=r(t,["triggerTokens"]);l!=null&&c(e,["triggerTokens"],l);const a=r(t,["slidingWindow"]);return a!=null&&c(e,["slidingWindow"],N2(a)),e}function S2(t){const e={},l=r(t,["proactiveAudio"]);return l!=null&&c(e,["proactiveAudio"],l),e}function C2(t,e){const l={},a=r(t,["generationConfig"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig"],a);const u=r(t,["responseModalities"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","responseModalities"],u);const f=r(t,["temperature"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","temperature"],f);const h=r(t,["topP"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topP"],h);const g=r(t,["topK"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","topK"],g);const x=r(t,["maxOutputTokens"]);e!==void 0&&x!=null&&c(e,["setup","generationConfig","maxOutputTokens"],x);const p=r(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const v=r(t,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const b=r(t,["speechConfig"]);e!==void 0&&b!=null&&c(e,["setup","generationConfig","speechConfig"],e2(Pc(b)));const N=r(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],N);const j=r(t,["systemInstruction"]);e!==void 0&&j!=null&&c(e,["setup","systemInstruction"],l2(ft(j)));const A=r(t,["tools"]);if(e!==void 0&&A!=null){let q=oi(A);Array.isArray(q)&&(q=q.map(Q=>x2(ai(Q)))),c(e,["setup","tools"],q)}const M=r(t,["sessionResumption"]);e!==void 0&&M!=null&&c(e,["setup","sessionResumption"],y2(M));const I=r(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&c(e,["setup","inputAudioTranscription"],Oh());const R=r(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&c(e,["setup","outputAudioTranscription"],Oh());const U=r(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&c(e,["setup","realtimeInputConfig"],b2(U));const B=r(t,["contextWindowCompression"]);e!==void 0&&B!=null&&c(e,["setup","contextWindowCompression"],T2(B));const D=r(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],S2(D)),l}function w2(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["setup","model"],ke(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],C2(u,l)),l}function j2(){return{}}function A2(){return{}}function E2(t){const e={},l=r(t,["media"]);l!=null&&c(e,["mediaChunks"],xp(l));const a=r(t,["audio"]);a!=null&&c(e,["audio"],vp(a));const u=r(t,["audioStreamEnd"]);u!=null&&c(e,["audioStreamEnd"],u);const f=r(t,["video"]);f!=null&&c(e,["video"],yp(f));const h=r(t,["text"]);return h!=null&&c(e,["text"],h),r(t,["activityStart"])!=null&&c(e,["activityStart"],j2()),r(t,["activityEnd"])!=null&&c(e,["activityEnd"],A2()),e}function M2(){return{}}function R2(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function k2(t){const e={},l=r(t,["data"]);l!=null&&c(e,["data"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function _2(t){const e={},l=r(t,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function D2(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],R2(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],k2(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],_2(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function I2(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>D2(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function $h(t){const e={},l=r(t,["text"]);l!=null&&c(e,["text"],l);const a=r(t,["finished"]);return a!=null&&c(e,["finished"],a),e}function L2(t){const e={},l=r(t,["retrievedUrl"]);l!=null&&c(e,["retrievedUrl"],l);const a=r(t,["urlRetrievalStatus"]);return a!=null&&c(e,["urlRetrievalStatus"],a),e}function U2(t){const e={},l=r(t,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>L2(u))),c(e,["urlMetadata"],a)}return e}function P2(t){const e={},l=r(t,["modelTurn"]);l!=null&&c(e,["modelTurn"],I2(l));const a=r(t,["turnComplete"]);a!=null&&c(e,["turnComplete"],a);const u=r(t,["interrupted"]);u!=null&&c(e,["interrupted"],u);const f=r(t,["groundingMetadata"]);f!=null&&c(e,["groundingMetadata"],f);const h=r(t,["generationComplete"]);h!=null&&c(e,["generationComplete"],h);const g=r(t,["inputTranscription"]);g!=null&&c(e,["inputTranscription"],$h(g));const x=r(t,["outputTranscription"]);x!=null&&c(e,["outputTranscription"],$h(x));const p=r(t,["urlContextMetadata"]);return p!=null&&c(e,["urlContextMetadata"],U2(p)),e}function B2(t){const e={},l=r(t,["id"]);l!=null&&c(e,["id"],l);const a=r(t,["args"]);a!=null&&c(e,["args"],a);const u=r(t,["name"]);return u!=null&&c(e,["name"],u),e}function G2(t){const e={},l=r(t,["functionCalls"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>B2(u))),c(e,["functionCalls"],a)}return e}function V2(t){const e={},l=r(t,["ids"]);return l!=null&&c(e,["ids"],l),e}function ja(t){const e={},l=r(t,["modality"]);l!=null&&c(e,["modality"],l);const a=r(t,["tokenCount"]);return a!=null&&c(e,["tokenCount"],a),e}function q2(t){const e={},l=r(t,["promptTokenCount"]);l!=null&&c(e,["promptTokenCount"],l);const a=r(t,["cachedContentTokenCount"]);a!=null&&c(e,["cachedContentTokenCount"],a);const u=r(t,["responseTokenCount"]);u!=null&&c(e,["responseTokenCount"],u);const f=r(t,["toolUsePromptTokenCount"]);f!=null&&c(e,["toolUsePromptTokenCount"],f);const h=r(t,["thoughtsTokenCount"]);h!=null&&c(e,["thoughtsTokenCount"],h);const g=r(t,["totalTokenCount"]);g!=null&&c(e,["totalTokenCount"],g);const x=r(t,["promptTokensDetails"]);if(x!=null){let N=x;Array.isArray(N)&&(N=N.map(j=>ja(j))),c(e,["promptTokensDetails"],N)}const p=r(t,["cacheTokensDetails"]);if(p!=null){let N=p;Array.isArray(N)&&(N=N.map(j=>ja(j))),c(e,["cacheTokensDetails"],N)}const v=r(t,["responseTokensDetails"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(j=>ja(j))),c(e,["responseTokensDetails"],N)}const b=r(t,["toolUsePromptTokensDetails"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(j=>ja(j))),c(e,["toolUsePromptTokensDetails"],N)}return e}function F2(t){const e={},l=r(t,["timeLeft"]);return l!=null&&c(e,["timeLeft"],l),e}function H2(t){const e={},l=r(t,["newHandle"]);l!=null&&c(e,["newHandle"],l);const a=r(t,["resumable"]);a!=null&&c(e,["resumable"],a);const u=r(t,["lastConsumedClientMessageIndex"]);return u!=null&&c(e,["lastConsumedClientMessageIndex"],u),e}function z2(t){const e={};r(t,["setupComplete"])!=null&&c(e,["setupComplete"],M2());const a=r(t,["serverContent"]);a!=null&&c(e,["serverContent"],P2(a));const u=r(t,["toolCall"]);u!=null&&c(e,["toolCall"],G2(u));const f=r(t,["toolCallCancellation"]);f!=null&&c(e,["toolCallCancellation"],V2(f));const h=r(t,["usageMetadata"]);h!=null&&c(e,["usageMetadata"],q2(h));const g=r(t,["goAway"]);g!=null&&c(e,["goAway"],F2(g));const x=r(t,["sessionResumptionUpdate"]);return x!=null&&c(e,["sessionResumptionUpdate"],H2(x)),e}function O2(){return{}}function $2(t){const e={},l=r(t,["text"]);l!=null&&c(e,["text"],l);const a=r(t,["weight"]);return a!=null&&c(e,["weight"],a),e}function Y2(t){const e={},l=r(t,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>$2(u))),c(e,["weightedPrompts"],a)}return e}function J2(t){const e={},l=r(t,["temperature"]);l!=null&&c(e,["temperature"],l);const a=r(t,["topK"]);a!=null&&c(e,["topK"],a);const u=r(t,["seed"]);u!=null&&c(e,["seed"],u);const f=r(t,["guidance"]);f!=null&&c(e,["guidance"],f);const h=r(t,["bpm"]);h!=null&&c(e,["bpm"],h);const g=r(t,["density"]);g!=null&&c(e,["density"],g);const x=r(t,["brightness"]);x!=null&&c(e,["brightness"],x);const p=r(t,["scale"]);p!=null&&c(e,["scale"],p);const v=r(t,["muteBass"]);v!=null&&c(e,["muteBass"],v);const b=r(t,["muteDrums"]);b!=null&&c(e,["muteDrums"],b);const N=r(t,["onlyBassAndDrums"]);N!=null&&c(e,["onlyBassAndDrums"],N);const j=r(t,["musicGenerationMode"]);return j!=null&&c(e,["musicGenerationMode"],j),e}function K2(t){const e={},l=r(t,["clientContent"]);l!=null&&c(e,["clientContent"],Y2(l));const a=r(t,["musicGenerationConfig"]);return a!=null&&c(e,["musicGenerationConfig"],J2(a)),e}function W2(t){const e={},l=r(t,["data"]);l!=null&&c(e,["data"],l);const a=r(t,["mimeType"]);a!=null&&c(e,["mimeType"],a);const u=r(t,["sourceMetadata"]);return u!=null&&c(e,["sourceMetadata"],K2(u)),e}function Q2(t){const e={},l=r(t,["audioChunks"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>W2(u))),c(e,["audioChunks"],a)}return e}function X2(t){const e={},l=r(t,["text"]);l!=null&&c(e,["text"],l);const a=r(t,["filteredReason"]);return a!=null&&c(e,["filteredReason"],a),e}function Z2(t){const e={};r(t,["setupComplete"])!=null&&c(e,["setupComplete"],O2());const a=r(t,["serverContent"]);a!=null&&c(e,["serverContent"],Q2(a));const u=r(t,["filteredPrompt"]);return u!=null&&c(e,["filteredPrompt"],X2(u)),e}function e1(t){const e={},l=r(t,["sessionId"]);return l!=null&&c(e,["sessionId"],l),e}function t1(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function n1(t){const e={},l=r(t,["displayName"]);l!=null&&c(e,["displayName"],l);const a=r(t,["data"]);a!=null&&c(e,["data"],a);const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function s1(t){const e={},l=r(t,["displayName"]);l!=null&&c(e,["displayName"],l);const a=r(t,["fileUri"]);a!=null&&c(e,["fileUri"],a);const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function i1(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],t1(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],n1(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],s1(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function l1(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>i1(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function Yh(t){const e={},l=r(t,["text"]);l!=null&&c(e,["text"],l);const a=r(t,["finished"]);return a!=null&&c(e,["finished"],a),e}function a1(t){const e={},l=r(t,["modelTurn"]);l!=null&&c(e,["modelTurn"],l1(l));const a=r(t,["turnComplete"]);a!=null&&c(e,["turnComplete"],a);const u=r(t,["interrupted"]);u!=null&&c(e,["interrupted"],u);const f=r(t,["groundingMetadata"]);f!=null&&c(e,["groundingMetadata"],f);const h=r(t,["generationComplete"]);h!=null&&c(e,["generationComplete"],h);const g=r(t,["inputTranscription"]);g!=null&&c(e,["inputTranscription"],Yh(g));const x=r(t,["outputTranscription"]);return x!=null&&c(e,["outputTranscription"],Yh(x)),e}function o1(t){const e={},l=r(t,["args"]);l!=null&&c(e,["args"],l);const a=r(t,["name"]);return a!=null&&c(e,["name"],a),e}function r1(t){const e={},l=r(t,["functionCalls"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>o1(u))),c(e,["functionCalls"],a)}return e}function c1(t){const e={},l=r(t,["ids"]);return l!=null&&c(e,["ids"],l),e}function Aa(t){const e={},l=r(t,["modality"]);l!=null&&c(e,["modality"],l);const a=r(t,["tokenCount"]);return a!=null&&c(e,["tokenCount"],a),e}function u1(t){const e={},l=r(t,["promptTokenCount"]);l!=null&&c(e,["promptTokenCount"],l);const a=r(t,["cachedContentTokenCount"]);a!=null&&c(e,["cachedContentTokenCount"],a);const u=r(t,["candidatesTokenCount"]);u!=null&&c(e,["responseTokenCount"],u);const f=r(t,["toolUsePromptTokenCount"]);f!=null&&c(e,["toolUsePromptTokenCount"],f);const h=r(t,["thoughtsTokenCount"]);h!=null&&c(e,["thoughtsTokenCount"],h);const g=r(t,["totalTokenCount"]);g!=null&&c(e,["totalTokenCount"],g);const x=r(t,["promptTokensDetails"]);if(x!=null){let j=x;Array.isArray(j)&&(j=j.map(A=>Aa(A))),c(e,["promptTokensDetails"],j)}const p=r(t,["cacheTokensDetails"]);if(p!=null){let j=p;Array.isArray(j)&&(j=j.map(A=>Aa(A))),c(e,["cacheTokensDetails"],j)}const v=r(t,["candidatesTokensDetails"]);if(v!=null){let j=v;Array.isArray(j)&&(j=j.map(A=>Aa(A))),c(e,["responseTokensDetails"],j)}const b=r(t,["toolUsePromptTokensDetails"]);if(b!=null){let j=b;Array.isArray(j)&&(j=j.map(A=>Aa(A))),c(e,["toolUsePromptTokensDetails"],j)}const N=r(t,["trafficType"]);return N!=null&&c(e,["trafficType"],N),e}function d1(t){const e={},l=r(t,["timeLeft"]);return l!=null&&c(e,["timeLeft"],l),e}function f1(t){const e={},l=r(t,["newHandle"]);l!=null&&c(e,["newHandle"],l);const a=r(t,["resumable"]);a!=null&&c(e,["resumable"],a);const u=r(t,["lastConsumedClientMessageIndex"]);return u!=null&&c(e,["lastConsumedClientMessageIndex"],u),e}function m1(t){const e={},l=r(t,["setupComplete"]);l!=null&&c(e,["setupComplete"],e1(l));const a=r(t,["serverContent"]);a!=null&&c(e,["serverContent"],a1(a));const u=r(t,["toolCall"]);u!=null&&c(e,["toolCall"],r1(u));const f=r(t,["toolCallCancellation"]);f!=null&&c(e,["toolCallCancellation"],c1(f));const h=r(t,["usageMetadata"]);h!=null&&c(e,["usageMetadata"],u1(h));const g=r(t,["goAway"]);g!=null&&c(e,["goAway"],d1(g));const x=r(t,["sessionResumptionUpdate"]);return x!=null&&c(e,["sessionResumptionUpdate"],f1(x)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h1(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function p1(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(t,["data"]);l!=null&&c(e,["data"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function g1(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(t,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function x1(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],h1(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],p1(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],g1(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function Ga(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>x1(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function y1(t){const e={},l=r(t,["anyOf"]);l!=null&&c(e,["anyOf"],l);const a=r(t,["default"]);a!=null&&c(e,["default"],a);const u=r(t,["description"]);u!=null&&c(e,["description"],u);const f=r(t,["enum"]);f!=null&&c(e,["enum"],f);const h=r(t,["example"]);h!=null&&c(e,["example"],h);const g=r(t,["format"]);g!=null&&c(e,["format"],g);const x=r(t,["items"]);x!=null&&c(e,["items"],x);const p=r(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const v=r(t,["maxLength"]);v!=null&&c(e,["maxLength"],v);const b=r(t,["maxProperties"]);b!=null&&c(e,["maxProperties"],b);const N=r(t,["maximum"]);N!=null&&c(e,["maximum"],N);const j=r(t,["minItems"]);j!=null&&c(e,["minItems"],j);const A=r(t,["minLength"]);A!=null&&c(e,["minLength"],A);const M=r(t,["minProperties"]);M!=null&&c(e,["minProperties"],M);const I=r(t,["minimum"]);I!=null&&c(e,["minimum"],I);const R=r(t,["nullable"]);R!=null&&c(e,["nullable"],R);const U=r(t,["pattern"]);U!=null&&c(e,["pattern"],U);const B=r(t,["properties"]);B!=null&&c(e,["properties"],B);const D=r(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const q=r(t,["required"]);q!=null&&c(e,["required"],q);const Q=r(t,["title"]);Q!=null&&c(e,["title"],Q);const ue=r(t,["type"]);return ue!=null&&c(e,["type"],ue),e}function v1(t){const e={};if(r(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=r(t,["category"]);l!=null&&c(e,["category"],l);const a=r(t,["threshold"]);return a!=null&&c(e,["threshold"],a),e}function b1(t){const e={},l=r(t,["behavior"]);l!=null&&c(e,["behavior"],l);const a=r(t,["description"]);a!=null&&c(e,["description"],a);const u=r(t,["name"]);u!=null&&c(e,["name"],u);const f=r(t,["parameters"]);f!=null&&c(e,["parameters"],f);const h=r(t,["parametersJsonSchema"]);h!=null&&c(e,["parametersJsonSchema"],h);const g=r(t,["response"]);g!=null&&c(e,["response"],g);const x=r(t,["responseJsonSchema"]);return x!=null&&c(e,["responseJsonSchema"],x),e}function N1(t){const e={},l=r(t,["startTime"]);l!=null&&c(e,["startTime"],l);const a=r(t,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function T1(t){const e={},l=r(t,["timeRangeFilter"]);if(l!=null&&c(e,["timeRangeFilter"],N1(l)),r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function S1(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function C1(t){const e={},l=r(t,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],S1(l)),e}function w1(){return{}}function j1(t){const e={},l=r(t,["environment"]);return l!=null&&c(e,["environment"],l),e}function A1(t){const e={},l=r(t,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(p=>b1(p))),c(e,["functionDeclarations"],x)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(t,["googleSearch"]);a!=null&&c(e,["googleSearch"],T1(a));const u=r(t,["googleSearchRetrieval"]);if(u!=null&&c(e,["googleSearchRetrieval"],C1(u)),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(t,["urlContext"])!=null&&c(e,["urlContext"],w1());const h=r(t,["computerUse"]);h!=null&&c(e,["computerUse"],j1(h));const g=r(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function E1(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["allowedFunctionNames"]);return a!=null&&c(e,["allowedFunctionNames"],a),e}function M1(t){const e={},l=r(t,["latitude"]);l!=null&&c(e,["latitude"],l);const a=r(t,["longitude"]);return a!=null&&c(e,["longitude"],a),e}function R1(t){const e={},l=r(t,["latLng"]);l!=null&&c(e,["latLng"],M1(l));const a=r(t,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function k1(t){const e={},l=r(t,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],E1(l));const a=r(t,["retrievalConfig"]);return a!=null&&c(e,["retrievalConfig"],R1(a)),e}function _1(t){const e={},l=r(t,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function Bp(t){const e={},l=r(t,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],_1(l)),e}function D1(t){const e={},l=r(t,["speaker"]);l!=null&&c(e,["speaker"],l);const a=r(t,["voiceConfig"]);return a!=null&&c(e,["voiceConfig"],Bp(a)),e}function I1(t){const e={},l=r(t,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>D1(u))),c(e,["speakerVoiceConfigs"],a)}return e}function L1(t){const e={},l=r(t,["voiceConfig"]);l!=null&&c(e,["voiceConfig"],Bp(l));const a=r(t,["multiSpeakerVoiceConfig"]);a!=null&&c(e,["multiSpeakerVoiceConfig"],I1(a));const u=r(t,["languageCode"]);return u!=null&&c(e,["languageCode"],u),e}function U1(t){const e={},l=r(t,["includeThoughts"]);l!=null&&c(e,["includeThoughts"],l);const a=r(t,["thinkingBudget"]);return a!=null&&c(e,["thinkingBudget"],a),e}function P1(t,e,l){const a={},u=r(e,["systemInstruction"]);l!==void 0&&u!=null&&c(l,["systemInstruction"],Ga(ft(u)));const f=r(e,["temperature"]);f!=null&&c(a,["temperature"],f);const h=r(e,["topP"]);h!=null&&c(a,["topP"],h);const g=r(e,["topK"]);g!=null&&c(a,["topK"],g);const x=r(e,["candidateCount"]);x!=null&&c(a,["candidateCount"],x);const p=r(e,["maxOutputTokens"]);p!=null&&c(a,["maxOutputTokens"],p);const v=r(e,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const b=r(e,["responseLogprobs"]);b!=null&&c(a,["responseLogprobs"],b);const N=r(e,["logprobs"]);N!=null&&c(a,["logprobs"],N);const j=r(e,["presencePenalty"]);j!=null&&c(a,["presencePenalty"],j);const A=r(e,["frequencyPenalty"]);A!=null&&c(a,["frequencyPenalty"],A);const M=r(e,["seed"]);M!=null&&c(a,["seed"],M);const I=r(e,["responseMimeType"]);I!=null&&c(a,["responseMimeType"],I);const R=r(e,["responseSchema"]);R!=null&&c(a,["responseSchema"],y1(Lc(R)));const U=r(e,["responseJsonSchema"]);if(U!=null&&c(a,["responseJsonSchema"],U),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=r(e,["safetySettings"]);if(l!==void 0&&B!=null){let re=B;Array.isArray(re)&&(re=re.map(ae=>v1(ae))),c(l,["safetySettings"],re)}const D=r(e,["tools"]);if(l!==void 0&&D!=null){let re=oi(D);Array.isArray(re)&&(re=re.map(ae=>A1(ai(ae)))),c(l,["tools"],re)}const q=r(e,["toolConfig"]);if(l!==void 0&&q!=null&&c(l,["toolConfig"],k1(q)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=r(e,["cachedContent"]);l!==void 0&&Q!=null&&c(l,["cachedContent"],xn(t,Q));const ue=r(e,["responseModalities"]);ue!=null&&c(a,["responseModalities"],ue);const ie=r(e,["mediaResolution"]);ie!=null&&c(a,["mediaResolution"],ie);const X=r(e,["speechConfig"]);if(X!=null&&c(a,["speechConfig"],L1(Uc(X))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=r(e,["thinkingConfig"]);return te!=null&&c(a,["thinkingConfig"],U1(te)),a}function Jh(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["contents"]);if(u!=null){let h=qt(u);Array.isArray(h)&&(h=h.map(g=>Ga(g))),c(l,["contents"],h)}const f=r(e,["config"]);return f!=null&&c(l,["generationConfig"],P1(t,f,l)),l}function B1(t,e){const l={},a=r(t,["taskType"]);e!==void 0&&a!=null&&c(e,["requests[]","taskType"],a);const u=r(t,["title"]);e!==void 0&&u!=null&&c(e,["requests[]","title"],u);const f=r(t,["outputDimensionality"]);if(e!==void 0&&f!=null&&c(e,["requests[]","outputDimensionality"],f),r(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function G1(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["contents"]);u!=null&&c(l,["requests[]","content"],Np(t,u));const f=r(e,["config"]);f!=null&&c(l,["config"],B1(f,l));const h=r(e,["model"]);return h!==void 0&&c(l,["requests[]","model"],ke(t,h)),l}function V1(t,e){const l={};if(r(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=r(t,["numberOfImages"]);e!==void 0&&a!=null&&c(e,["parameters","sampleCount"],a);const u=r(t,["aspectRatio"]);e!==void 0&&u!=null&&c(e,["parameters","aspectRatio"],u);const f=r(t,["guidanceScale"]);if(e!==void 0&&f!=null&&c(e,["parameters","guidanceScale"],f),r(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=r(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&c(e,["parameters","safetySetting"],h);const g=r(t,["personGeneration"]);e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g);const x=r(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&c(e,["parameters","includeSafetyAttributes"],x);const p=r(t,["includeRaiReason"]);e!==void 0&&p!=null&&c(e,["parameters","includeRaiReason"],p);const v=r(t,["language"]);e!==void 0&&v!=null&&c(e,["parameters","language"],v);const b=r(t,["outputMimeType"]);e!==void 0&&b!=null&&c(e,["parameters","outputOptions","mimeType"],b);const N=r(t,["outputCompressionQuality"]);if(e!==void 0&&N!=null&&c(e,["parameters","outputOptions","compressionQuality"],N),r(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const j=r(t,["imageSize"]);if(e!==void 0&&j!=null&&c(e,["parameters","sampleImageSize"],j),r(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function q1(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const f=r(e,["config"]);return f!=null&&c(l,["config"],V1(f,l)),l}function F1(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","name"],ke(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function H1(t,e,l){const a={},u=r(e,["pageSize"]);l!==void 0&&u!=null&&c(l,["_query","pageSize"],u);const f=r(e,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const h=r(e,["filter"]);l!==void 0&&h!=null&&c(l,["_query","filter"],h);const g=r(e,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],Cp(t,g)),a}function z1(t,e){const l={},a=r(e,["config"]);return a!=null&&c(l,["config"],H1(t,a,l)),l}function O1(t,e){const l={},a=r(t,["displayName"]);e!==void 0&&a!=null&&c(e,["displayName"],a);const u=r(t,["description"]);e!==void 0&&u!=null&&c(e,["description"],u);const f=r(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&c(e,["defaultCheckpointId"],f),l}function $1(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","name"],ke(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],O1(u,l)),l}function Y1(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","name"],ke(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function J1(t){const e={};if(r(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function K1(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["contents"]);if(u!=null){let h=qt(u);Array.isArray(h)&&(h=h.map(g=>Ga(g))),c(l,["contents"],h)}const f=r(e,["config"]);return f!=null&&c(l,["config"],J1(f)),l}function Gp(t){const e={};if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=r(t,["imageBytes"]);l!=null&&c(e,["bytesBase64Encoded"],hs(l));const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function W1(t,e){const l={},a=r(t,["prompt"]);e!==void 0&&a!=null&&c(e,["instances[0]","prompt"],a);const u=r(t,["image"]);if(e!==void 0&&u!=null&&c(e,["instances[0]","image"],Gp(u)),r(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return l}function Q1(t,e){const l={},a=r(t,["numberOfVideos"]);if(e!==void 0&&a!=null&&c(e,["parameters","sampleCount"],a),r(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(t,["durationSeconds"]);if(e!==void 0&&u!=null&&c(e,["parameters","durationSeconds"],u),r(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=r(t,["aspectRatio"]);e!==void 0&&f!=null&&c(e,["parameters","aspectRatio"],f);const h=r(t,["resolution"]);e!==void 0&&h!=null&&c(e,["parameters","resolution"],h);const g=r(t,["personGeneration"]);if(e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g),r(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=r(t,["negativePrompt"]);e!==void 0&&x!=null&&c(e,["parameters","negativePrompt"],x);const p=r(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&c(e,["parameters","enhancePrompt"],p),r(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(r(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(r(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(r(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function X1(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const f=r(e,["image"]);if(f!=null&&c(l,["instances[0]","image"],Gp(f)),r(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const h=r(e,["source"]);h!=null&&c(l,["config"],W1(h,l));const g=r(e,["config"]);return g!=null&&c(l,["config"],Q1(g,l)),l}function Z1(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function eN(t){const e={},l=r(t,["displayName"]);l!=null&&c(e,["displayName"],l);const a=r(t,["data"]);a!=null&&c(e,["data"],a);const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function tN(t){const e={},l=r(t,["displayName"]);l!=null&&c(e,["displayName"],l);const a=r(t,["fileUri"]);a!=null&&c(e,["fileUri"],a);const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function nN(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],Z1(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],eN(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],tN(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function ci(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>nN(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function sN(t){const e={},l=r(t,["anyOf"]);l!=null&&c(e,["anyOf"],l);const a=r(t,["default"]);a!=null&&c(e,["default"],a);const u=r(t,["description"]);u!=null&&c(e,["description"],u);const f=r(t,["enum"]);f!=null&&c(e,["enum"],f);const h=r(t,["example"]);h!=null&&c(e,["example"],h);const g=r(t,["format"]);g!=null&&c(e,["format"],g);const x=r(t,["items"]);x!=null&&c(e,["items"],x);const p=r(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const v=r(t,["maxLength"]);v!=null&&c(e,["maxLength"],v);const b=r(t,["maxProperties"]);b!=null&&c(e,["maxProperties"],b);const N=r(t,["maximum"]);N!=null&&c(e,["maximum"],N);const j=r(t,["minItems"]);j!=null&&c(e,["minItems"],j);const A=r(t,["minLength"]);A!=null&&c(e,["minLength"],A);const M=r(t,["minProperties"]);M!=null&&c(e,["minProperties"],M);const I=r(t,["minimum"]);I!=null&&c(e,["minimum"],I);const R=r(t,["nullable"]);R!=null&&c(e,["nullable"],R);const U=r(t,["pattern"]);U!=null&&c(e,["pattern"],U);const B=r(t,["properties"]);B!=null&&c(e,["properties"],B);const D=r(t,["propertyOrdering"]);D!=null&&c(e,["propertyOrdering"],D);const q=r(t,["required"]);q!=null&&c(e,["required"],q);const Q=r(t,["title"]);Q!=null&&c(e,["title"],Q);const ue=r(t,["type"]);return ue!=null&&c(e,["type"],ue),e}function iN(t){const e={},l=r(t,["featureSelectionPreference"]);return l!=null&&c(e,["featureSelectionPreference"],l),e}function lN(t){const e={},l=r(t,["method"]);l!=null&&c(e,["method"],l);const a=r(t,["category"]);a!=null&&c(e,["category"],a);const u=r(t,["threshold"]);return u!=null&&c(e,["threshold"],u),e}function aN(t){const e={};if(r(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(t,["description"]);l!=null&&c(e,["description"],l);const a=r(t,["name"]);a!=null&&c(e,["name"],a);const u=r(t,["parameters"]);u!=null&&c(e,["parameters"],u);const f=r(t,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const h=r(t,["response"]);h!=null&&c(e,["response"],h);const g=r(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function oN(t){const e={},l=r(t,["startTime"]);l!=null&&c(e,["startTime"],l);const a=r(t,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function rN(t){const e={},l=r(t,["timeRangeFilter"]);l!=null&&c(e,["timeRangeFilter"],oN(l));const a=r(t,["excludeDomains"]);return a!=null&&c(e,["excludeDomains"],a),e}function cN(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function uN(t){const e={},l=r(t,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],cN(l)),e}function dN(t){const e={},l=r(t,["excludeDomains"]);return l!=null&&c(e,["excludeDomains"],l),e}function fN(t){const e={},l=r(t,["apiKeyString"]);return l!=null&&c(e,["apiKeyString"],l),e}function mN(t){const e={},l=r(t,["apiKeyConfig"]);l!=null&&c(e,["apiKeyConfig"],fN(l));const a=r(t,["authType"]);a!=null&&c(e,["authType"],a);const u=r(t,["googleServiceAccountConfig"]);u!=null&&c(e,["googleServiceAccountConfig"],u);const f=r(t,["httpBasicAuthConfig"]);f!=null&&c(e,["httpBasicAuthConfig"],f);const h=r(t,["oauthConfig"]);h!=null&&c(e,["oauthConfig"],h);const g=r(t,["oidcConfig"]);return g!=null&&c(e,["oidcConfig"],g),e}function hN(t){const e={},l=r(t,["authConfig"]);return l!=null&&c(e,["authConfig"],mN(l)),e}function pN(){return{}}function gN(t){const e={},l=r(t,["environment"]);return l!=null&&c(e,["environment"],l),e}function Vp(t){const e={},l=r(t,["functionDeclarations"]);if(l!=null){let b=l;Array.isArray(b)&&(b=b.map(N=>aN(N))),c(e,["functionDeclarations"],b)}const a=r(t,["retrieval"]);a!=null&&c(e,["retrieval"],a);const u=r(t,["googleSearch"]);u!=null&&c(e,["googleSearch"],rN(u));const f=r(t,["googleSearchRetrieval"]);f!=null&&c(e,["googleSearchRetrieval"],uN(f));const h=r(t,["enterpriseWebSearch"]);h!=null&&c(e,["enterpriseWebSearch"],dN(h));const g=r(t,["googleMaps"]);g!=null&&c(e,["googleMaps"],hN(g)),r(t,["urlContext"])!=null&&c(e,["urlContext"],pN());const p=r(t,["computerUse"]);p!=null&&c(e,["computerUse"],gN(p));const v=r(t,["codeExecution"]);return v!=null&&c(e,["codeExecution"],v),e}function xN(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["allowedFunctionNames"]);return a!=null&&c(e,["allowedFunctionNames"],a),e}function yN(t){const e={},l=r(t,["latitude"]);l!=null&&c(e,["latitude"],l);const a=r(t,["longitude"]);return a!=null&&c(e,["longitude"],a),e}function vN(t){const e={},l=r(t,["latLng"]);l!=null&&c(e,["latLng"],yN(l));const a=r(t,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function bN(t){const e={},l=r(t,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],xN(l));const a=r(t,["retrievalConfig"]);return a!=null&&c(e,["retrievalConfig"],vN(a)),e}function NN(t){const e={},l=r(t,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function TN(t){const e={},l=r(t,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],NN(l)),e}function SN(t){const e={},l=r(t,["voiceConfig"]);if(l!=null&&c(e,["voiceConfig"],TN(l)),r(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=r(t,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function CN(t){const e={},l=r(t,["includeThoughts"]);l!=null&&c(e,["includeThoughts"],l);const a=r(t,["thinkingBudget"]);return a!=null&&c(e,["thinkingBudget"],a),e}function wN(t,e,l){const a={},u=r(e,["systemInstruction"]);l!==void 0&&u!=null&&c(l,["systemInstruction"],ci(ft(u)));const f=r(e,["temperature"]);f!=null&&c(a,["temperature"],f);const h=r(e,["topP"]);h!=null&&c(a,["topP"],h);const g=r(e,["topK"]);g!=null&&c(a,["topK"],g);const x=r(e,["candidateCount"]);x!=null&&c(a,["candidateCount"],x);const p=r(e,["maxOutputTokens"]);p!=null&&c(a,["maxOutputTokens"],p);const v=r(e,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const b=r(e,["responseLogprobs"]);b!=null&&c(a,["responseLogprobs"],b);const N=r(e,["logprobs"]);N!=null&&c(a,["logprobs"],N);const j=r(e,["presencePenalty"]);j!=null&&c(a,["presencePenalty"],j);const A=r(e,["frequencyPenalty"]);A!=null&&c(a,["frequencyPenalty"],A);const M=r(e,["seed"]);M!=null&&c(a,["seed"],M);const I=r(e,["responseMimeType"]);I!=null&&c(a,["responseMimeType"],I);const R=r(e,["responseSchema"]);R!=null&&c(a,["responseSchema"],sN(Lc(R)));const U=r(e,["responseJsonSchema"]);U!=null&&c(a,["responseJsonSchema"],U);const B=r(e,["routingConfig"]);B!=null&&c(a,["routingConfig"],B);const D=r(e,["modelSelectionConfig"]);D!=null&&c(a,["modelConfig"],iN(D));const q=r(e,["safetySettings"]);if(l!==void 0&&q!=null){let se=q;Array.isArray(se)&&(se=se.map(F=>lN(F))),c(l,["safetySettings"],se)}const Q=r(e,["tools"]);if(l!==void 0&&Q!=null){let se=oi(Q);Array.isArray(se)&&(se=se.map(F=>Vp(ai(F)))),c(l,["tools"],se)}const ue=r(e,["toolConfig"]);l!==void 0&&ue!=null&&c(l,["toolConfig"],bN(ue));const ie=r(e,["labels"]);l!==void 0&&ie!=null&&c(l,["labels"],ie);const X=r(e,["cachedContent"]);l!==void 0&&X!=null&&c(l,["cachedContent"],xn(t,X));const te=r(e,["responseModalities"]);te!=null&&c(a,["responseModalities"],te);const re=r(e,["mediaResolution"]);re!=null&&c(a,["mediaResolution"],re);const ae=r(e,["speechConfig"]);ae!=null&&c(a,["speechConfig"],SN(Uc(ae)));const ye=r(e,["audioTimestamp"]);ye!=null&&c(a,["audioTimestamp"],ye);const Ne=r(e,["thinkingConfig"]);return Ne!=null&&c(a,["thinkingConfig"],CN(Ne)),a}function Kh(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["contents"]);if(u!=null){let h=qt(u);Array.isArray(h)&&(h=h.map(g=>ci(g))),c(l,["contents"],h)}const f=r(e,["config"]);return f!=null&&c(l,["generationConfig"],wN(t,f,l)),l}function jN(t,e){const l={},a=r(t,["taskType"]);e!==void 0&&a!=null&&c(e,["instances[]","task_type"],a);const u=r(t,["title"]);e!==void 0&&u!=null&&c(e,["instances[]","title"],u);const f=r(t,["outputDimensionality"]);e!==void 0&&f!=null&&c(e,["parameters","outputDimensionality"],f);const h=r(t,["mimeType"]);e!==void 0&&h!=null&&c(e,["instances[]","mimeType"],h);const g=r(t,["autoTruncate"]);return e!==void 0&&g!=null&&c(e,["parameters","autoTruncate"],g),l}function AN(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["contents"]);u!=null&&c(l,["instances[]","content"],Np(t,u));const f=r(e,["config"]);return f!=null&&c(l,["config"],jN(f,l)),l}function EN(t,e){const l={},a=r(t,["outputGcsUri"]);e!==void 0&&a!=null&&c(e,["parameters","storageUri"],a);const u=r(t,["negativePrompt"]);e!==void 0&&u!=null&&c(e,["parameters","negativePrompt"],u);const f=r(t,["numberOfImages"]);e!==void 0&&f!=null&&c(e,["parameters","sampleCount"],f);const h=r(t,["aspectRatio"]);e!==void 0&&h!=null&&c(e,["parameters","aspectRatio"],h);const g=r(t,["guidanceScale"]);e!==void 0&&g!=null&&c(e,["parameters","guidanceScale"],g);const x=r(t,["seed"]);e!==void 0&&x!=null&&c(e,["parameters","seed"],x);const p=r(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const v=r(t,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const b=r(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&c(e,["parameters","includeSafetyAttributes"],b);const N=r(t,["includeRaiReason"]);e!==void 0&&N!=null&&c(e,["parameters","includeRaiReason"],N);const j=r(t,["language"]);e!==void 0&&j!=null&&c(e,["parameters","language"],j);const A=r(t,["outputMimeType"]);e!==void 0&&A!=null&&c(e,["parameters","outputOptions","mimeType"],A);const M=r(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&c(e,["parameters","outputOptions","compressionQuality"],M);const I=r(t,["addWatermark"]);e!==void 0&&I!=null&&c(e,["parameters","addWatermark"],I);const R=r(t,["imageSize"]);e!==void 0&&R!=null&&c(e,["parameters","sampleImageSize"],R);const U=r(t,["enhancePrompt"]);return e!==void 0&&U!=null&&c(e,["parameters","enhancePrompt"],U),l}function MN(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const f=r(e,["config"]);return f!=null&&c(l,["config"],EN(f,l)),l}function Xt(t){const e={},l=r(t,["gcsUri"]);l!=null&&c(e,["gcsUri"],l);const a=r(t,["imageBytes"]);a!=null&&c(e,["bytesBase64Encoded"],hs(a));const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function RN(t){const e={},l=r(t,["maskMode"]);l!=null&&c(e,["maskMode"],l);const a=r(t,["segmentationClasses"]);a!=null&&c(e,["maskClasses"],a);const u=r(t,["maskDilation"]);return u!=null&&c(e,["dilation"],u),e}function kN(t){const e={},l=r(t,["controlType"]);l!=null&&c(e,["controlType"],l);const a=r(t,["enableControlImageComputation"]);return a!=null&&c(e,["computeControl"],a),e}function _N(t){const e={},l=r(t,["styleDescription"]);return l!=null&&c(e,["styleDescription"],l),e}function DN(t){const e={},l=r(t,["subjectType"]);l!=null&&c(e,["subjectType"],l);const a=r(t,["subjectDescription"]);return a!=null&&c(e,["subjectDescription"],a),e}function IN(t){const e={},l=r(t,["referenceImage"]);l!=null&&c(e,["referenceImage"],Xt(l));const a=r(t,["referenceId"]);a!=null&&c(e,["referenceId"],a);const u=r(t,["referenceType"]);u!=null&&c(e,["referenceType"],u);const f=r(t,["maskImageConfig"]);f!=null&&c(e,["maskImageConfig"],RN(f));const h=r(t,["controlImageConfig"]);h!=null&&c(e,["controlImageConfig"],kN(h));const g=r(t,["styleImageConfig"]);g!=null&&c(e,["styleImageConfig"],_N(g));const x=r(t,["subjectImageConfig"]);return x!=null&&c(e,["subjectImageConfig"],DN(x)),e}function LN(t,e){const l={},a=r(t,["outputGcsUri"]);e!==void 0&&a!=null&&c(e,["parameters","storageUri"],a);const u=r(t,["negativePrompt"]);e!==void 0&&u!=null&&c(e,["parameters","negativePrompt"],u);const f=r(t,["numberOfImages"]);e!==void 0&&f!=null&&c(e,["parameters","sampleCount"],f);const h=r(t,["aspectRatio"]);e!==void 0&&h!=null&&c(e,["parameters","aspectRatio"],h);const g=r(t,["guidanceScale"]);e!==void 0&&g!=null&&c(e,["parameters","guidanceScale"],g);const x=r(t,["seed"]);e!==void 0&&x!=null&&c(e,["parameters","seed"],x);const p=r(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const v=r(t,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const b=r(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&c(e,["parameters","includeSafetyAttributes"],b);const N=r(t,["includeRaiReason"]);e!==void 0&&N!=null&&c(e,["parameters","includeRaiReason"],N);const j=r(t,["language"]);e!==void 0&&j!=null&&c(e,["parameters","language"],j);const A=r(t,["outputMimeType"]);e!==void 0&&A!=null&&c(e,["parameters","outputOptions","mimeType"],A);const M=r(t,["outputCompressionQuality"]);e!==void 0&&M!=null&&c(e,["parameters","outputOptions","compressionQuality"],M);const I=r(t,["addWatermark"]);e!==void 0&&I!=null&&c(e,["parameters","addWatermark"],I);const R=r(t,["editMode"]);e!==void 0&&R!=null&&c(e,["parameters","editMode"],R);const U=r(t,["baseSteps"]);return e!==void 0&&U!=null&&c(e,["parameters","editConfig","baseSteps"],U),l}function UN(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const f=r(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(x=>IN(x))),c(l,["instances[0]","referenceImages"],g)}const h=r(e,["config"]);return h!=null&&c(l,["config"],LN(h,l)),l}function PN(t,e){const l={},a=r(t,["outputGcsUri"]);e!==void 0&&a!=null&&c(e,["parameters","storageUri"],a);const u=r(t,["includeRaiReason"]);e!==void 0&&u!=null&&c(e,["parameters","includeRaiReason"],u);const f=r(t,["outputMimeType"]);e!==void 0&&f!=null&&c(e,["parameters","outputOptions","mimeType"],f);const h=r(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&c(e,["parameters","outputOptions","compressionQuality"],h);const g=r(t,["enhanceInputImage"]);e!==void 0&&g!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],g);const x=r(t,["imagePreservationFactor"]);e!==void 0&&x!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const p=r(t,["numberOfImages"]);e!==void 0&&p!=null&&c(e,["parameters","sampleCount"],p);const v=r(t,["mode"]);return e!==void 0&&v!=null&&c(e,["parameters","mode"],v),l}function BN(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["image"]);u!=null&&c(l,["instances[0]","image"],Xt(u));const f=r(e,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const h=r(e,["config"]);return h!=null&&c(l,["config"],PN(h,l)),l}function GN(t){const e={},l=r(t,["productImage"]);return l!=null&&c(e,["image"],Xt(l)),e}function VN(t,e){const l={},a=r(t,["prompt"]);e!==void 0&&a!=null&&c(e,["instances[0]","prompt"],a);const u=r(t,["personImage"]);e!==void 0&&u!=null&&c(e,["instances[0]","personImage","image"],Xt(u));const f=r(t,["productImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>GN(g))),c(e,["instances[0]","productImages"],h)}return l}function qN(t,e){const l={},a=r(t,["numberOfImages"]);e!==void 0&&a!=null&&c(e,["parameters","sampleCount"],a);const u=r(t,["baseSteps"]);e!==void 0&&u!=null&&c(e,["parameters","editConfig","baseSteps"],u);const f=r(t,["outputGcsUri"]);e!==void 0&&f!=null&&c(e,["parameters","storageUri"],f);const h=r(t,["seed"]);e!==void 0&&h!=null&&c(e,["parameters","seed"],h);const g=r(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&c(e,["parameters","safetySetting"],g);const x=r(t,["personGeneration"]);e!==void 0&&x!=null&&c(e,["parameters","personGeneration"],x);const p=r(t,["addWatermark"]);e!==void 0&&p!=null&&c(e,["parameters","addWatermark"],p);const v=r(t,["outputMimeType"]);e!==void 0&&v!=null&&c(e,["parameters","outputOptions","mimeType"],v);const b=r(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&c(e,["parameters","outputOptions","compressionQuality"],b);const N=r(t,["enhancePrompt"]);return e!==void 0&&N!=null&&c(e,["parameters","enhancePrompt"],N),l}function FN(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["source"]);u!=null&&c(l,["config"],VN(u,l));const f=r(e,["config"]);return f!=null&&c(l,["config"],qN(f,l)),l}function HN(t){const e={},l=r(t,["image"]);return l!=null&&c(e,["image"],Xt(l)),e}function zN(t,e){const l={},a=r(t,["prompt"]);e!==void 0&&a!=null&&c(e,["instances[0]","prompt"],a);const u=r(t,["image"]);e!==void 0&&u!=null&&c(e,["instances[0]","image"],Xt(u));const f=r(t,["scribbleImage"]);return e!==void 0&&f!=null&&c(e,["instances[0]","scribble"],HN(f)),l}function ON(t,e){const l={},a=r(t,["mode"]);e!==void 0&&a!=null&&c(e,["parameters","mode"],a);const u=r(t,["maxPredictions"]);e!==void 0&&u!=null&&c(e,["parameters","maxPredictions"],u);const f=r(t,["confidenceThreshold"]);e!==void 0&&f!=null&&c(e,["parameters","confidenceThreshold"],f);const h=r(t,["maskDilation"]);e!==void 0&&h!=null&&c(e,["parameters","maskDilation"],h);const g=r(t,["binaryColorThreshold"]);return e!==void 0&&g!=null&&c(e,["parameters","binaryColorThreshold"],g),l}function $N(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["source"]);u!=null&&c(l,["config"],zN(u,l));const f=r(e,["config"]);return f!=null&&c(l,["config"],ON(f,l)),l}function YN(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","name"],ke(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function JN(t,e,l){const a={},u=r(e,["pageSize"]);l!==void 0&&u!=null&&c(l,["_query","pageSize"],u);const f=r(e,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const h=r(e,["filter"]);l!==void 0&&h!=null&&c(l,["_query","filter"],h);const g=r(e,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],Cp(t,g)),a}function KN(t,e){const l={},a=r(e,["config"]);return a!=null&&c(l,["config"],JN(t,a,l)),l}function WN(t,e){const l={},a=r(t,["displayName"]);e!==void 0&&a!=null&&c(e,["displayName"],a);const u=r(t,["description"]);e!==void 0&&u!=null&&c(e,["description"],u);const f=r(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&c(e,["defaultCheckpointId"],f),l}function QN(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],WN(u,l)),l}function XN(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","name"],ke(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],u),l}function ZN(t,e){const l={},a=r(t,["systemInstruction"]);e!==void 0&&a!=null&&c(e,["systemInstruction"],ci(ft(a)));const u=r(t,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>Vp(g))),c(e,["tools"],h)}const f=r(t,["generationConfig"]);return e!==void 0&&f!=null&&c(e,["generationConfig"],f),l}function eT(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["contents"]);if(u!=null){let h=qt(u);Array.isArray(h)&&(h=h.map(g=>ci(g))),c(l,["contents"],h)}const f=r(e,["config"]);return f!=null&&c(l,["config"],ZN(f,l)),l}function tT(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["contents"]);if(u!=null){let h=qt(u);Array.isArray(h)&&(h=h.map(g=>ci(g))),c(l,["contents"],h)}const f=r(e,["config"]);return f!=null&&c(l,["config"],f),l}function qp(t){const e={},l=r(t,["uri"]);l!=null&&c(e,["gcsUri"],l);const a=r(t,["videoBytes"]);a!=null&&c(e,["bytesBase64Encoded"],hs(a));const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function nT(t,e){const l={},a=r(t,["prompt"]);e!==void 0&&a!=null&&c(e,["instances[0]","prompt"],a);const u=r(t,["image"]);e!==void 0&&u!=null&&c(e,["instances[0]","image"],Xt(u));const f=r(t,["video"]);return e!==void 0&&f!=null&&c(e,["instances[0]","video"],qp(f)),l}function sT(t){const e={},l=r(t,["image"]);l!=null&&c(e,["image"],Xt(l));const a=r(t,["referenceType"]);return a!=null&&c(e,["referenceType"],a),e}function iT(t,e){const l={},a=r(t,["numberOfVideos"]);e!==void 0&&a!=null&&c(e,["parameters","sampleCount"],a);const u=r(t,["outputGcsUri"]);e!==void 0&&u!=null&&c(e,["parameters","storageUri"],u);const f=r(t,["fps"]);e!==void 0&&f!=null&&c(e,["parameters","fps"],f);const h=r(t,["durationSeconds"]);e!==void 0&&h!=null&&c(e,["parameters","durationSeconds"],h);const g=r(t,["seed"]);e!==void 0&&g!=null&&c(e,["parameters","seed"],g);const x=r(t,["aspectRatio"]);e!==void 0&&x!=null&&c(e,["parameters","aspectRatio"],x);const p=r(t,["resolution"]);e!==void 0&&p!=null&&c(e,["parameters","resolution"],p);const v=r(t,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const b=r(t,["pubsubTopic"]);e!==void 0&&b!=null&&c(e,["parameters","pubsubTopic"],b);const N=r(t,["negativePrompt"]);e!==void 0&&N!=null&&c(e,["parameters","negativePrompt"],N);const j=r(t,["enhancePrompt"]);e!==void 0&&j!=null&&c(e,["parameters","enhancePrompt"],j);const A=r(t,["generateAudio"]);e!==void 0&&A!=null&&c(e,["parameters","generateAudio"],A);const M=r(t,["lastFrame"]);e!==void 0&&M!=null&&c(e,["instances[0]","lastFrame"],Xt(M));const I=r(t,["referenceImages"]);if(e!==void 0&&I!=null){let U=I;Array.isArray(U)&&(U=U.map(B=>sT(B))),c(e,["instances[0]","referenceImages"],U)}const R=r(t,["compressionQuality"]);return e!==void 0&&R!=null&&c(e,["parameters","compressionQuality"],R),l}function lT(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["_url","model"],ke(t,a));const u=r(e,["prompt"]);u!=null&&c(l,["instances[0]","prompt"],u);const f=r(e,["image"]);f!=null&&c(l,["instances[0]","image"],Xt(f));const h=r(e,["video"]);h!=null&&c(l,["instances[0]","video"],qp(h));const g=r(e,["source"]);g!=null&&c(l,["config"],nT(g,l));const x=r(e,["config"]);return x!=null&&c(l,["config"],iT(x,l)),l}function aT(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function oT(t){const e={},l=r(t,["data"]);l!=null&&c(e,["data"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function rT(t){const e={},l=r(t,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function cT(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],aT(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],oT(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],rT(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function uT(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>cT(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function dT(t){const e={},l=r(t,["citationSources"]);return l!=null&&c(e,["citations"],l),e}function fT(t){const e={},l=r(t,["retrievedUrl"]);l!=null&&c(e,["retrievedUrl"],l);const a=r(t,["urlRetrievalStatus"]);return a!=null&&c(e,["urlRetrievalStatus"],a),e}function mT(t){const e={},l=r(t,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>fT(u))),c(e,["urlMetadata"],a)}return e}function hT(t){const e={},l=r(t,["content"]);l!=null&&c(e,["content"],uT(l));const a=r(t,["citationMetadata"]);a!=null&&c(e,["citationMetadata"],dT(a));const u=r(t,["tokenCount"]);u!=null&&c(e,["tokenCount"],u);const f=r(t,["finishReason"]);f!=null&&c(e,["finishReason"],f);const h=r(t,["urlContextMetadata"]);h!=null&&c(e,["urlContextMetadata"],mT(h));const g=r(t,["avgLogprobs"]);g!=null&&c(e,["avgLogprobs"],g);const x=r(t,["groundingMetadata"]);x!=null&&c(e,["groundingMetadata"],x);const p=r(t,["index"]);p!=null&&c(e,["index"],p);const v=r(t,["logprobsResult"]);v!=null&&c(e,["logprobsResult"],v);const b=r(t,["safetyRatings"]);return b!=null&&c(e,["safetyRatings"],b),e}function Wh(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["candidates"]);if(a!=null){let x=a;Array.isArray(x)&&(x=x.map(p=>hT(p))),c(e,["candidates"],x)}const u=r(t,["modelVersion"]);u!=null&&c(e,["modelVersion"],u);const f=r(t,["promptFeedback"]);f!=null&&c(e,["promptFeedback"],f);const h=r(t,["responseId"]);h!=null&&c(e,["responseId"],h);const g=r(t,["usageMetadata"]);return g!=null&&c(e,["usageMetadata"],g),e}function pT(t){const e={},l=r(t,["values"]);return l!=null&&c(e,["values"],l),e}function gT(){return{}}function xT(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>pT(h))),c(e,["embeddings"],f)}return r(t,["metadata"])!=null&&c(e,["metadata"],gT()),e}function yT(t){const e={},l=r(t,["bytesBase64Encoded"]);l!=null&&c(e,["imageBytes"],hs(l));const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function Fp(t){const e={},l=r(t,["safetyAttributes","categories"]);l!=null&&c(e,["categories"],l);const a=r(t,["safetyAttributes","scores"]);a!=null&&c(e,["scores"],a);const u=r(t,["contentType"]);return u!=null&&c(e,["contentType"],u),e}function vT(t){const e={},l=r(t,["_self"]);l!=null&&c(e,["image"],yT(l));const a=r(t,["raiFilteredReason"]);a!=null&&c(e,["raiFilteredReason"],a);const u=r(t,["_self"]);return u!=null&&c(e,["safetyAttributes"],Fp(u)),e}function bT(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>vT(h))),c(e,["generatedImages"],f)}const u=r(t,["positivePromptSafetyAttributes"]);return u!=null&&c(e,["positivePromptSafetyAttributes"],Fp(u)),e}function NT(t){const e={},l=r(t,["baseModel"]);l!=null&&c(e,["baseModel"],l);const a=r(t,["createTime"]);a!=null&&c(e,["createTime"],a);const u=r(t,["updateTime"]);return u!=null&&c(e,["updateTime"],u),e}function Mc(t){const e={},l=r(t,["name"]);l!=null&&c(e,["name"],l);const a=r(t,["displayName"]);a!=null&&c(e,["displayName"],a);const u=r(t,["description"]);u!=null&&c(e,["description"],u);const f=r(t,["version"]);f!=null&&c(e,["version"],f);const h=r(t,["_self"]);h!=null&&c(e,["tunedModelInfo"],NT(h));const g=r(t,["inputTokenLimit"]);g!=null&&c(e,["inputTokenLimit"],g);const x=r(t,["outputTokenLimit"]);x!=null&&c(e,["outputTokenLimit"],x);const p=r(t,["supportedGenerationMethods"]);return p!=null&&c(e,["supportedActions"],p),e}function TT(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["nextPageToken"]);a!=null&&c(e,["nextPageToken"],a);const u=r(t,["_self"]);if(u!=null){let f=wp(u);Array.isArray(f)&&(f=f.map(h=>Mc(h))),c(e,["models"],f)}return e}function ST(t){const e={},l=r(t,["sdkHttpResponse"]);return l!=null&&c(e,["sdkHttpResponse"],l),e}function CT(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["totalTokens"]);a!=null&&c(e,["totalTokens"],a);const u=r(t,["cachedContentTokenCount"]);return u!=null&&c(e,["cachedContentTokenCount"],u),e}function wT(t){const e={},l=r(t,["video","uri"]);l!=null&&c(e,["uri"],l);const a=r(t,["video","encodedVideo"]);a!=null&&c(e,["videoBytes"],hs(a));const u=r(t,["encoding"]);return u!=null&&c(e,["mimeType"],u),e}function jT(t){const e={},l=r(t,["_self"]);return l!=null&&c(e,["video"],wT(l)),e}function AT(t){const e={},l=r(t,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>jT(h))),c(e,["generatedVideos"],f)}const a=r(t,["raiMediaFilteredCount"]);a!=null&&c(e,["raiMediaFilteredCount"],a);const u=r(t,["raiMediaFilteredReasons"]);return u!=null&&c(e,["raiMediaFilteredReasons"],u),e}function ET(t){const e={},l=r(t,["name"]);l!=null&&c(e,["name"],l);const a=r(t,["metadata"]);a!=null&&c(e,["metadata"],a);const u=r(t,["done"]);u!=null&&c(e,["done"],u);const f=r(t,["error"]);f!=null&&c(e,["error"],f);const h=r(t,["response","generateVideoResponse"]);return h!=null&&c(e,["response"],AT(h)),e}function MT(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function RT(t){const e={},l=r(t,["displayName"]);l!=null&&c(e,["displayName"],l);const a=r(t,["data"]);a!=null&&c(e,["data"],a);const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function kT(t){const e={},l=r(t,["displayName"]);l!=null&&c(e,["displayName"],l);const a=r(t,["fileUri"]);a!=null&&c(e,["fileUri"],a);const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function _T(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],MT(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],RT(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],kT(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function DT(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>_T(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function IT(t){const e={},l=r(t,["citations"]);return l!=null&&c(e,["citations"],l),e}function LT(t){const e={},l=r(t,["retrievedUrl"]);l!=null&&c(e,["retrievedUrl"],l);const a=r(t,["urlRetrievalStatus"]);return a!=null&&c(e,["urlRetrievalStatus"],a),e}function UT(t){const e={},l=r(t,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>LT(u))),c(e,["urlMetadata"],a)}return e}function PT(t){const e={},l=r(t,["content"]);l!=null&&c(e,["content"],DT(l));const a=r(t,["citationMetadata"]);a!=null&&c(e,["citationMetadata"],IT(a));const u=r(t,["finishMessage"]);u!=null&&c(e,["finishMessage"],u);const f=r(t,["finishReason"]);f!=null&&c(e,["finishReason"],f);const h=r(t,["urlContextMetadata"]);h!=null&&c(e,["urlContextMetadata"],UT(h));const g=r(t,["avgLogprobs"]);g!=null&&c(e,["avgLogprobs"],g);const x=r(t,["groundingMetadata"]);x!=null&&c(e,["groundingMetadata"],x);const p=r(t,["index"]);p!=null&&c(e,["index"],p);const v=r(t,["logprobsResult"]);v!=null&&c(e,["logprobsResult"],v);const b=r(t,["safetyRatings"]);return b!=null&&c(e,["safetyRatings"],b),e}function Qh(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>PT(v))),c(e,["candidates"],p)}const u=r(t,["createTime"]);u!=null&&c(e,["createTime"],u);const f=r(t,["modelVersion"]);f!=null&&c(e,["modelVersion"],f);const h=r(t,["promptFeedback"]);h!=null&&c(e,["promptFeedback"],h);const g=r(t,["responseId"]);g!=null&&c(e,["responseId"],g);const x=r(t,["usageMetadata"]);return x!=null&&c(e,["usageMetadata"],x),e}function BT(t){const e={},l=r(t,["truncated"]);l!=null&&c(e,["truncated"],l);const a=r(t,["token_count"]);return a!=null&&c(e,["tokenCount"],a),e}function GT(t){const e={},l=r(t,["values"]);l!=null&&c(e,["values"],l);const a=r(t,["statistics"]);return a!=null&&c(e,["statistics"],BT(a)),e}function VT(t){const e={},l=r(t,["billableCharacterCount"]);return l!=null&&c(e,["billableCharacterCount"],l),e}function qT(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>GT(h))),c(e,["embeddings"],f)}const u=r(t,["metadata"]);return u!=null&&c(e,["metadata"],VT(u)),e}function Hp(t){const e={},l=r(t,["gcsUri"]);l!=null&&c(e,["gcsUri"],l);const a=r(t,["bytesBase64Encoded"]);a!=null&&c(e,["imageBytes"],hs(a));const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function zp(t){const e={},l=r(t,["safetyAttributes","categories"]);l!=null&&c(e,["categories"],l);const a=r(t,["safetyAttributes","scores"]);a!=null&&c(e,["scores"],a);const u=r(t,["contentType"]);return u!=null&&c(e,["contentType"],u),e}function Va(t){const e={},l=r(t,["_self"]);l!=null&&c(e,["image"],Hp(l));const a=r(t,["raiFilteredReason"]);a!=null&&c(e,["raiFilteredReason"],a);const u=r(t,["_self"]);u!=null&&c(e,["safetyAttributes"],zp(u));const f=r(t,["prompt"]);return f!=null&&c(e,["enhancedPrompt"],f),e}function FT(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>Va(h))),c(e,["generatedImages"],f)}const u=r(t,["positivePromptSafetyAttributes"]);return u!=null&&c(e,["positivePromptSafetyAttributes"],zp(u)),e}function HT(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Va(f))),c(e,["generatedImages"],u)}return e}function zT(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Va(f))),c(e,["generatedImages"],u)}return e}function OT(t){const e={},l=r(t,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Va(u))),c(e,["generatedImages"],a)}return e}function $T(t){const e={},l=r(t,["label"]);l!=null&&c(e,["label"],l);const a=r(t,["score"]);return a!=null&&c(e,["score"],a),e}function YT(t){const e={},l=r(t,["_self"]);l!=null&&c(e,["mask"],Hp(l));const a=r(t,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>$T(f))),c(e,["labels"],u)}return e}function JT(t){const e={},l=r(t,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>YT(u))),c(e,["generatedMasks"],a)}return e}function KT(t){const e={},l=r(t,["endpoint"]);l!=null&&c(e,["name"],l);const a=r(t,["deployedModelId"]);return a!=null&&c(e,["deployedModelId"],a),e}function WT(t){const e={},l=r(t,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(e,["baseModel"],l);const a=r(t,["createTime"]);a!=null&&c(e,["createTime"],a);const u=r(t,["updateTime"]);return u!=null&&c(e,["updateTime"],u),e}function QT(t){const e={},l=r(t,["checkpointId"]);l!=null&&c(e,["checkpointId"],l);const a=r(t,["epoch"]);a!=null&&c(e,["epoch"],a);const u=r(t,["step"]);return u!=null&&c(e,["step"],u),e}function Rc(t){const e={},l=r(t,["name"]);l!=null&&c(e,["name"],l);const a=r(t,["displayName"]);a!=null&&c(e,["displayName"],a);const u=r(t,["description"]);u!=null&&c(e,["description"],u);const f=r(t,["versionId"]);f!=null&&c(e,["version"],f);const h=r(t,["deployedModels"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(N=>KT(N))),c(e,["endpoints"],b)}const g=r(t,["labels"]);g!=null&&c(e,["labels"],g);const x=r(t,["_self"]);x!=null&&c(e,["tunedModelInfo"],WT(x));const p=r(t,["defaultCheckpointId"]);p!=null&&c(e,["defaultCheckpointId"],p);const v=r(t,["checkpoints"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(N=>QT(N))),c(e,["checkpoints"],b)}return e}function XT(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["nextPageToken"]);a!=null&&c(e,["nextPageToken"],a);const u=r(t,["_self"]);if(u!=null){let f=wp(u);Array.isArray(f)&&(f=f.map(h=>Rc(h))),c(e,["models"],f)}return e}function ZT(t){const e={},l=r(t,["sdkHttpResponse"]);return l!=null&&c(e,["sdkHttpResponse"],l),e}function eS(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["totalTokens"]);return a!=null&&c(e,["totalTokens"],a),e}function tS(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["tokensInfo"]);return a!=null&&c(e,["tokensInfo"],a),e}function nS(t){const e={},l=r(t,["gcsUri"]);l!=null&&c(e,["uri"],l);const a=r(t,["bytesBase64Encoded"]);a!=null&&c(e,["videoBytes"],hs(a));const u=r(t,["mimeType"]);return u!=null&&c(e,["mimeType"],u),e}function sS(t){const e={},l=r(t,["_self"]);return l!=null&&c(e,["video"],nS(l)),e}function iS(t){const e={},l=r(t,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>sS(h))),c(e,["generatedVideos"],f)}const a=r(t,["raiMediaFilteredCount"]);a!=null&&c(e,["raiMediaFilteredCount"],a);const u=r(t,["raiMediaFilteredReasons"]);return u!=null&&c(e,["raiMediaFilteredReasons"],u),e}function lS(t){const e={},l=r(t,["name"]);l!=null&&c(e,["name"],l);const a=r(t,["metadata"]);a!=null&&c(e,["metadata"],a);const u=r(t,["done"]);u!=null&&c(e,["done"],u);const f=r(t,["error"]);f!=null&&c(e,["error"],f);const h=r(t,["response"]);return h!=null&&c(e,["response"],iS(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aS="Content-Type",oS="X-Server-Timeout",rS="User-Agent",kc="x-goog-api-client",cS="1.17.0",uS=`google-genai-sdk/${cS}`,dS="v1beta1",fS="v1beta",Xh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class mS{constructor(e){var l,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:dS,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:fS,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,a){const u=[this.getRequestUrlInternal(l)];return a&&u.push(this.getBaseResourcePath()),e!==""&&u.push(e),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,l,a);if(e.queryParams)for(const[h,g]of Object.entries(e.queryParams))u.searchParams.append(h,String(g));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.unaryApiCall(u,f,e.httpMethod)}patchHttpOptions(e,l){const a=JSON.parse(JSON.stringify(e));for(const[u,f]of Object.entries(l))typeof f=="object"?a[u]=Object.assign(Object.assign({},a[u]),f):f!==void 0&&(a[u]=f);return a}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,l,a);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.streamApiCall(u,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,a){if(l&&l.timeout||a){const u=new AbortController,f=u.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const h=setTimeout(()=>u.abort(),l.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),e.signal=f}return l&&l.extraBody!==null&&hS(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:a})).then(async u=>(await Zh(u),new Cc(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(e,l,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:a})).then(async u=>(await Zh(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(e){var l;return ii(this,arguments,function*(){const u=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),f=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let h="";for(;;){const{done:g,value:x}=yield Ve(u.read());if(g){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=f.decode(x,{stream:!0});try{const b=JSON.parse(p);if("error"in b){const N=JSON.parse(JSON.stringify(b.error)),j=N.status,A=N.code,M=`got status: ${j}. ${JSON.stringify(b)}`;if(A>=400&&A<600)throw new Ba({message:M,status:A})}}catch(b){if(b.name==="ApiError")throw b}h+=p;let v=h.match(Xh);for(;v;){const b=v[1];try{const N=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ve(new Cc(N)),h=h.slice(v[0].length),v=h.match(Xh)}catch(N){throw new Error(`exception parsing stream chunk ${b}. ${N}`)}}}}finally{u.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},l=uS+" "+this.clientOptions.userAgentExtra;return e[rS]=l,e[kc]=l,e[aS]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[a,u]of Object.entries(e.headers))l.append(a,u);e.timeout&&e.timeout>0&&l.append(oS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var a;const u={};l!=null&&(u.mimeType=l.mimeType,u.name=l.name,u.displayName=l.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const f=this.clientOptions.uploader,h=await f.stat(e);u.sizeBytes=String(h.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:h.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=g;const x=await this.fetchUploadUrl(u,l);return f.upload(e,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var a;let u={};l!=null&&l.httpOptions?u=l.httpOptions:u={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},h=await this.request({path:fe("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:u});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(a=h==null?void 0:h.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Zh(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const l=t.status;let a;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await t.json():a={error:{message:await t.text(),code:t.status,status:t.statusText}};const u=JSON.stringify(a);throw l>=400&&l<600?new Ba({message:u,status:l}):new Error(u)}}function hS(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof t.body=="string"&&t.body.length>0)try{const f=JSON.parse(t.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,h){const g=Object.assign({},f);for(const x in h)if(Object.prototype.hasOwnProperty.call(h,x)){const p=h[x],v=g[x];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?g[x]=a(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${x}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),g[x]=p)}return g}const u=a(l,e);t.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pS="mcp_used/unknown";let gS=!1;function Op(t){for(const e of t)if(xS(e)||typeof e=="object"&&"inputSchema"in e)return!0;return gS}function $p(t){var e;const l=(e=t[kc])!==null&&e!==void 0?e:"";t[kc]=(l+` ${pS}`).trimStart()}function xS(t){return t!==null&&typeof t=="object"&&t instanceof Bc}function yS(t,e=100){return ii(this,arguments,function*(){let a,u=0;for(;u<e;){const f=yield Ve(t.listTools({cursor:a}));for(const h of f.tools)yield yield Ve(h),u++;if(!f.nextCursor)break;a=f.nextCursor}})}class Bc{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new Bc(e,l)}async initialize(){var e,l,a,u;if(this.mcpTools.length>0)return;const f={},h=[];for(const v of this.mcpClients)try{for(var g=!0,x=(l=void 0,fl(yS(v))),p;p=await x.next(),e=p.done,!e;g=!0){u=p.value,g=!1;const b=u;h.push(b);const N=b.name;if(f[N])throw new Error(`Duplicate function name ${N} found in MCP tools. Please ensure function names are unique.`);f[N]=v}}catch(b){l={error:b}}finally{try{!g&&!e&&(a=x.return)&&await a.call(x)}finally{if(l)throw l.error}}this.mcpTools=h,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),Kx(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const h=await u.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:h.isError?{error:h}:h}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vS(t,e,l){const a=new qx;let u;l.data instanceof Blob?u=JSON.parse(await l.data.text()):u=JSON.parse(l.data);const f=Z2(u);Object.assign(a,f),e(a)}class bS{constructor(e,l,a){this.apiClient=e,this.auth=l,this.webSocketFactory=a}async connect(e){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),h=SS(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),x=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(B=>{p=B}),b=e.callbacks,N=function(){p({})},j=this.apiClient,A={onopen:N,onmessage:B=>{vS(j,b.onmessage,B)},onerror:(l=b==null?void 0:b.onerror)!==null&&l!==void 0?l:function(B){},onclose:(a=b==null?void 0:b.onclose)!==null&&a!==void 0?a:function(B){}},M=this.webSocketFactory.create(x,TS(h),A);M.connect(),await v;const I=ke(this.apiClient,e.model),R=Up({model:I}),U=Ec({setup:R});return M.send(JSON.stringify(U)),new NS(M,this.apiClient)}}class NS{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=Wb(e),a=Pp(l);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=Qb(e),a=Ec(l);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const l=Ec({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(ni.PLAY)}pause(){this.sendPlaybackControl(ni.PAUSE)}stop(){this.sendPlaybackControl(ni.STOP)}resetContext(){this.sendPlaybackControl(ni.RESET_CONTEXT)}close(){this.conn.close()}}function TS(t){const e={};return t.forEach((l,a)=>{e[a]=l}),e}function SS(t){const e=new Headers;for(const[l,a]of Object.entries(t))e.append(l,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wS(t,e,l){const a=new Vx;let u;l.data instanceof Blob?u=await l.data.text():l.data instanceof ArrayBuffer?u=new TextDecoder().decode(l.data):u=l.data;const f=JSON.parse(u);if(t.isVertexAI()){const h=m1(f);Object.assign(a,h)}else{const h=z2(f);Object.assign(a,h)}e(a)}class jS{constructor(e,l,a){this.apiClient=e,this.auth=l,this.webSocketFactory=a,this.music=new bS(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,a,u,f,h,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const x=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&Op(e.config.tools)&&$p(b);const N=RS(b);if(this.apiClient.isVertexAI())v=`${x}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(N);else{const X=this.apiClient.getApiKey();let te="BidiGenerateContent",re="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",re="access_token"),v=`${x}/ws/google.ai.generativelanguage.${p}.GenerativeService.${te}?${re}=${X}`}let j=()=>{};const A=new Promise(X=>{j=X}),M=e.callbacks,I=function(){var X;(X=M==null?void 0:M.onopen)===null||X===void 0||X.call(M),j({})},R=this.apiClient,U={onopen:I,onmessage:X=>{wS(R,M.onmessage,X)},onerror:(l=M==null?void 0:M.onerror)!==null&&l!==void 0?l:function(X){},onclose:(a=M==null?void 0:M.onclose)!==null&&a!==void 0?a:function(X){}},B=this.webSocketFactory.create(v,MS(N),U);B.connect(),await A;let D=ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const X=this.apiClient.getProject(),te=this.apiClient.getLocation();D=`projects/${X}/locations/${te}/`+D}let q={};this.apiClient.isVertexAI()&&((u=e.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[La.AUDIO]}:e.config.responseModalities=[La.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(g=(h=e.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[],ue=[];for(const X of Q)if(this.isCallableTool(X)){const te=X;ue.push(await te.tool())}else ue.push(X);ue.length>0&&(e.config.tools=ue);const ie={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=w2(this.apiClient,ie):q=$b(this.apiClient,ie),delete q.config,B.send(JSON.stringify(q)),new ES(B,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const AS={turnComplete:!0};class ES{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=qt(l.turns),e.isVertexAI()?a=a.map(u=>ci(u)):a=a.map(u=>Ga(u))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(CS)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},AS),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:E2(e)}:l={realtimeInput:Kb(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function MS(t){const e={};return t.forEach((l,a)=>{e[a]=l}),e}function RS(t){const e=new Headers;for(const[l,a]of Object.entries(t))e.append(l,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ep=10;function tp(t){var e,l,a;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let u=!1;for(const h of(l=t==null?void 0:t.tools)!==null&&l!==void 0?l:[])if(li(h)){u=!0;break}if(!u)return!0;const f=(a=t==null?void 0:t.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function li(t){return"callTool"in t&&typeof t.callTool=="function"}function kS(t){var e,l,a;return(a=(l=(e=t.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(u=>li(u)))!==null&&a!==void 0?a:!1}function _S(t){var e,l,a;return(a=(l=(e=t.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(u=>!li(u)))!==null&&a!==void 0?a:!1}function np(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DS extends ms{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var a,u,f,h,g;const x=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!kS(l)||tp(l.config))return await this.generateContentInternal(x);if(_S(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const b=qt(x.contents),N=(f=(u=(a=x.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&f!==void 0?f:ep;let j=0;for(;j<N&&(p=await this.generateContentInternal(x),!(!p.functionCalls||p.functionCalls.length===0));){const A=p.candidates[0].content,M=[];for(const I of(g=(h=l.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[])if(li(I)){const U=await I.callTool(p.functionCalls);M.push(...U)}j++,v={role:"user",parts:M},x.contents=qt(x.contents),x.contents.push(A),x.contents.push(v),np(x.config)&&(b.push(A),b.push(v))}return np(x.config)&&(p.automaticFunctionCallingHistory=b),p},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),tp(l.config)){const a=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var u;let f;const h=[];if(a!=null&&a.generatedImages)for(const x of a.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((u=x==null?void 0:x.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?f=x==null?void 0:x.safetyAttributes:h.push(x);let g;return f?g={generatedImages:h,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:h,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const h={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((a=h.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new ml(fs.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(h),h)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const u={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(u)},this.generateVideos=async l=>{if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var l,a,u;const f=(l=e.config)===null||l===void 0?void 0:l.tools;if(!f)return e;const h=await Promise.all(f.map(async x=>li(x)?await x.tool():x)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:h})};if(g.config.tools=h,e.config&&e.config.tools&&Op(e.config.tools)){const x=(u=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&u!==void 0?u:{};let p=Object.assign({},x);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),$p(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var l,a,u;const f=new Map;for(const h of(a=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(li(h)){const g=h,x=await g.tool();for(const p of(u=x.functionDeclarations)!==null&&u!==void 0?u:[]){if(!p.name)throw new Error("Function declaration name is required.");if(f.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);f.set(p.name,g)}}return f}async processAfcStream(e){var l,a,u;const f=(u=(a=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:ep;let h=!1,g=0;const x=await this.initAfcToolsMap(e);return(function(p,v,b){var N,j;return ii(this,arguments,function*(){for(var A,M,I,R;g<f;){h&&(g++,h=!1);const q=yield Ve(p.processParamsMaybeAddMcpUsage(b)),Q=yield Ve(p.generateContentStreamInternal(q)),ue=[],ie=[];try{for(var U=!0,B=(M=void 0,fl(Q)),D;D=yield Ve(B.next()),A=D.done,!A;U=!0){R=D.value,U=!1;const X=R;if(yield yield Ve(X),X.candidates&&(!((N=X.candidates[0])===null||N===void 0)&&N.content)){ie.push(X.candidates[0].content);for(const te of(j=X.candidates[0].content.parts)!==null&&j!==void 0?j:[])if(g<f&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(te.functionCall.name)){const re=yield Ve(v.get(te.functionCall.name).callTool([te.functionCall]));ue.push(...re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(X){M={error:X}}finally{try{!U&&!A&&(I=B.return)&&(yield Ve(I.call(B)))}finally{if(M)throw M.error}}if(ue.length>0){h=!0;const X=new dl;X.candidates=[{content:{role:"user",parts:ue}}],yield yield Ve(X);const te=[];te.push(...ie),te.push({role:"user",parts:ue});const re=qt(b.contents).concat(te);b.contents=re}else break}})})(this,x,e)}async generateContentInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Kh(this.apiClient,e);return g=fe("{model}:generateContent",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=Qh(v),N=new dl;return Object.assign(N,b),N})}else{const p=Jh(this.apiClient,e);return g=fe("{model}:generateContent",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=Wh(v),N=new dl;return Object.assign(N,b),N})}}async generateContentStreamInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Kh(this.apiClient,e);return g=fe("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.requestStream({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),h.then(function(b){return ii(this,arguments,function*(){var N,j,A,M;try{for(var I=!0,R=fl(b),U;U=yield Ve(R.next()),N=U.done,!N;I=!0){M=U.value,I=!1;const B=M,D=Qh(yield Ve(B.json()));D.sdkHttpResponse={headers:B.headers};const q=new dl;Object.assign(q,D),yield yield Ve(q)}}catch(B){j={error:B}}finally{try{!I&&!N&&(A=R.return)&&(yield Ve(A.call(R)))}finally{if(j)throw j.error}}})})}else{const p=Jh(this.apiClient,e);return g=fe("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.requestStream({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),h.then(function(b){return ii(this,arguments,function*(){var N,j,A,M;try{for(var I=!0,R=fl(b),U;U=yield Ve(R.next()),N=U.done,!N;I=!0){M=U.value,I=!1;const B=M,D=Wh(yield Ve(B.json()));D.sdkHttpResponse={headers:B.headers};const q=new dl;Object.assign(q,D),yield yield Ve(q)}}catch(B){j={error:B}}finally{try{!I&&!N&&(A=R.return)&&(yield Ve(A.call(R)))}finally{if(j)throw j.error}}})})}}async embedContent(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=AN(this.apiClient,e);return g=fe("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=qT(v),N=new jh;return Object.assign(N,b),N})}else{const p=G1(this.apiClient,e);return g=fe("{model}:batchEmbedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=xT(v),N=new jh;return Object.assign(N,b),N})}}async generateImagesInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=MN(this.apiClient,e);return g=fe("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=FT(v),N=new Ah;return Object.assign(N,b),N})}else{const p=q1(this.apiClient,e);return g=fe("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=bT(v),N=new Ah;return Object.assign(N,b),N})}}async editImageInternal(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI()){const g=UN(this.apiClient,e);return f=fe("{model}:predict",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>{const p=HT(x),v=new _x;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI()){const g=BN(this.apiClient,e);return f=fe("{model}:predict",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>{const p=zT(x),v=new Dx;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI()){const g=FN(this.apiClient,e);return f=fe("{model}:predict",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),u.then(x=>{const p=OT(x),v=new Ix;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI()){const g=$N(this.apiClient,e);return f=fe("{model}:predict",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),u.then(x=>{const p=JT(x),v=new Lx;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=YN(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Rc(v))}else{const p=F1(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>Mc(v))}}async listInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=KN(this.apiClient,e);return g=fe("{models_url}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=XT(v),N=new Eh;return Object.assign(N,b),N})}else{const p=z1(this.apiClient,e);return g=fe("{models_url}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=TT(v),N=new Eh;return Object.assign(N,b),N})}}async update(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=QN(this.apiClient,e);return g=fe("{model}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Rc(v))}else{const p=$1(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>Mc(v))}}async delete(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=XN(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=ZT(v),N=new Mh;return Object.assign(N,b),N})}else{const p=Y1(this.apiClient,e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=ST(v),N=new Mh;return Object.assign(N,b),N})}}async countTokens(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=eT(this.apiClient,e);return g=fe("{model}:countTokens",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=eS(v),N=new Rh;return Object.assign(N,b),N})}else{const p=K1(this.apiClient,e);return g=fe("{model}:countTokens",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=CT(v),N=new Rh;return Object.assign(N,b),N})}}async computeTokens(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI()){const g=tT(this.apiClient,e);return f=fe("{model}:computeTokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>{const p=tS(x),v=new Ux;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=lT(this.apiClient,e);return g=fe("{model}:predictLongRunning",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const b=lS(v),N=new Ua;return Object.assign(N,b),N})}else{const p=X1(this.apiClient,e);return g=fe("{model}:predictLongRunning",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const b=ET(v),N=new Ua;return Object.assign(N,b),N})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(t){const e={},l=r(t,["operationName"]);l!=null&&c(e,["_url","operationName"],l);const a=r(t,["config"]);return a!=null&&c(e,["config"],a),e}function LS(t){const e={},l=r(t,["operationName"]);l!=null&&c(e,["operationName"],l);const a=r(t,["resourceName"]);a!=null&&c(e,["_url","resourceName"],a);const u=r(t,["config"]);return u!=null&&c(e,["config"],u),e}function US(t){const e={},l=r(t,["operationName"]);l!=null&&c(e,["_url","operationName"],l);const a=r(t,["config"]);return a!=null&&c(e,["config"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PS extends ms{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,a=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:h,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(e){const l=e.operation,a=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:h,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=US(e);return g=fe("{operationName}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h}else{const p=IS(e);return g=fe("{operationName}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h}}async fetchPredictVideosOperationInternal(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI()){const g=LS(e);return f=fe("{resourceName}:fetchPredictOperation",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BS(t){const e={},l=r(t,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function Yp(t){const e={},l=r(t,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],BS(l)),e}function GS(t){const e={},l=r(t,["speaker"]);l!=null&&c(e,["speaker"],l);const a=r(t,["voiceConfig"]);return a!=null&&c(e,["voiceConfig"],Yp(a)),e}function VS(t){const e={},l=r(t,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>GS(u))),c(e,["speakerVoiceConfigs"],a)}return e}function qS(t){const e={},l=r(t,["voiceConfig"]);l!=null&&c(e,["voiceConfig"],Yp(l));const a=r(t,["multiSpeakerVoiceConfig"]);a!=null&&c(e,["multiSpeakerVoiceConfig"],VS(a));const u=r(t,["languageCode"]);return u!=null&&c(e,["languageCode"],u),e}function FS(t){const e={},l=r(t,["fps"]);l!=null&&c(e,["fps"],l);const a=r(t,["endOffset"]);a!=null&&c(e,["endOffset"],a);const u=r(t,["startOffset"]);return u!=null&&c(e,["startOffset"],u),e}function HS(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(t,["data"]);l!=null&&c(e,["data"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function zS(t){const e={};if(r(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(t,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=r(t,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function OS(t){const e={},l=r(t,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],FS(l));const a=r(t,["thought"]);a!=null&&c(e,["thought"],a);const u=r(t,["inlineData"]);u!=null&&c(e,["inlineData"],HS(u));const f=r(t,["fileData"]);f!=null&&c(e,["fileData"],zS(f));const h=r(t,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const g=r(t,["codeExecutionResult"]);g!=null&&c(e,["codeExecutionResult"],g);const x=r(t,["executableCode"]);x!=null&&c(e,["executableCode"],x);const p=r(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=r(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const b=r(t,["text"]);return b!=null&&c(e,["text"],b),e}function $S(t){const e={},l=r(t,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>OS(f))),c(e,["parts"],u)}const a=r(t,["role"]);return a!=null&&c(e,["role"],a),e}function YS(t){const e={},l=r(t,["behavior"]);l!=null&&c(e,["behavior"],l);const a=r(t,["description"]);a!=null&&c(e,["description"],a);const u=r(t,["name"]);u!=null&&c(e,["name"],u);const f=r(t,["parameters"]);f!=null&&c(e,["parameters"],f);const h=r(t,["parametersJsonSchema"]);h!=null&&c(e,["parametersJsonSchema"],h);const g=r(t,["response"]);g!=null&&c(e,["response"],g);const x=r(t,["responseJsonSchema"]);return x!=null&&c(e,["responseJsonSchema"],x),e}function JS(t){const e={},l=r(t,["startTime"]);l!=null&&c(e,["startTime"],l);const a=r(t,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function KS(t){const e={},l=r(t,["timeRangeFilter"]);if(l!=null&&c(e,["timeRangeFilter"],JS(l)),r(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function WS(t){const e={},l=r(t,["mode"]);l!=null&&c(e,["mode"],l);const a=r(t,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function QS(t){const e={},l=r(t,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],WS(l)),e}function XS(){return{}}function ZS(t){const e={},l=r(t,["environment"]);return l!=null&&c(e,["environment"],l),e}function eC(t){const e={},l=r(t,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(p=>YS(p))),c(e,["functionDeclarations"],x)}if(r(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(t,["googleSearch"]);a!=null&&c(e,["googleSearch"],KS(a));const u=r(t,["googleSearchRetrieval"]);if(u!=null&&c(e,["googleSearchRetrieval"],QS(u)),r(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(t,["urlContext"])!=null&&c(e,["urlContext"],XS());const h=r(t,["computerUse"]);h!=null&&c(e,["computerUse"],ZS(h));const g=r(t,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function tC(t){const e={},l=r(t,["handle"]);if(l!=null&&c(e,["handle"],l),r(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sp(){return{}}function nC(t){const e={},l=r(t,["disabled"]);l!=null&&c(e,["disabled"],l);const a=r(t,["startOfSpeechSensitivity"]);a!=null&&c(e,["startOfSpeechSensitivity"],a);const u=r(t,["endOfSpeechSensitivity"]);u!=null&&c(e,["endOfSpeechSensitivity"],u);const f=r(t,["prefixPaddingMs"]);f!=null&&c(e,["prefixPaddingMs"],f);const h=r(t,["silenceDurationMs"]);return h!=null&&c(e,["silenceDurationMs"],h),e}function sC(t){const e={},l=r(t,["automaticActivityDetection"]);l!=null&&c(e,["automaticActivityDetection"],nC(l));const a=r(t,["activityHandling"]);a!=null&&c(e,["activityHandling"],a);const u=r(t,["turnCoverage"]);return u!=null&&c(e,["turnCoverage"],u),e}function iC(t){const e={},l=r(t,["targetTokens"]);return l!=null&&c(e,["targetTokens"],l),e}function lC(t){const e={},l=r(t,["triggerTokens"]);l!=null&&c(e,["triggerTokens"],l);const a=r(t,["slidingWindow"]);return a!=null&&c(e,["slidingWindow"],iC(a)),e}function aC(t){const e={},l=r(t,["proactiveAudio"]);return l!=null&&c(e,["proactiveAudio"],l),e}function oC(t,e){const l={},a=r(t,["generationConfig"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig"],a);const u=r(t,["responseModalities"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","responseModalities"],u);const f=r(t,["temperature"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","temperature"],f);const h=r(t,["topP"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topP"],h);const g=r(t,["topK"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","topK"],g);const x=r(t,["maxOutputTokens"]);e!==void 0&&x!=null&&c(e,["setup","generationConfig","maxOutputTokens"],x);const p=r(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const v=r(t,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const b=r(t,["speechConfig"]);e!==void 0&&b!=null&&c(e,["setup","generationConfig","speechConfig"],qS(Pc(b)));const N=r(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],N);const j=r(t,["systemInstruction"]);e!==void 0&&j!=null&&c(e,["setup","systemInstruction"],$S(ft(j)));const A=r(t,["tools"]);if(e!==void 0&&A!=null){let q=oi(A);Array.isArray(q)&&(q=q.map(Q=>eC(ai(Q)))),c(e,["setup","tools"],q)}const M=r(t,["sessionResumption"]);e!==void 0&&M!=null&&c(e,["setup","sessionResumption"],tC(M));const I=r(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&c(e,["setup","inputAudioTranscription"],sp());const R=r(t,["outputAudioTranscription"]);e!==void 0&&R!=null&&c(e,["setup","outputAudioTranscription"],sp());const U=r(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&c(e,["setup","realtimeInputConfig"],sC(U));const B=r(t,["contextWindowCompression"]);e!==void 0&&B!=null&&c(e,["setup","contextWindowCompression"],lC(B));const D=r(t,["proactivity"]);return e!==void 0&&D!=null&&c(e,["setup","proactivity"],aC(D)),l}function rC(t,e){const l={},a=r(e,["model"]);a!=null&&c(l,["setup","model"],ke(t,a));const u=r(e,["config"]);return u!=null&&c(l,["config"],oC(u,l)),l}function cC(t,e,l){const a={},u=r(e,["expireTime"]);l!==void 0&&u!=null&&c(l,["expireTime"],u);const f=r(e,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const h=r(e,["uses"]);l!==void 0&&h!=null&&c(l,["uses"],h);const g=r(e,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],rC(t,g));const x=r(e,["lockAdditionalFields"]);return l!==void 0&&x!=null&&c(l,["fieldMask"],x),a}function uC(t,e){const l={},a=r(e,["config"]);return a!=null&&c(l,["config"],cC(t,a,l)),l}function dC(t){const e={},l=r(t,["name"]);return l!=null&&c(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(t){const e=[];for(const l in t)if(Object.prototype.hasOwnProperty.call(t,l)){const a=t[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const u=Object.keys(a).map(f=>`${l}.${f}`);e.push(...u)}else e.push(l)}return e.join(",")}function mC(t,e){let l=null;const a=t.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(t.bidiGenerateContentSetup=f,l=f):delete t.bidiGenerateContentSetup}else a!==void 0&&delete t.bidiGenerateContentSetup;const u=t.fieldMask;if(l){const f=fC(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?t.fieldMask=f:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];u.length>0&&(g=u.map(p=>h.includes(p)?`generationConfig.${p}`:p));const x=[];f&&x.push(f),g.length>0&&x.push(...g),x.length>0?t.fieldMask=x.join(","):delete t.fieldMask}else delete t.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?t.fieldMask=u.join(","):delete t.fieldMask;return t}class hC extends ms{constructor(e){super(),this.apiClient=e}async create(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=uC(this.apiClient,e);f=fe("auth_tokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query;const x=mC(g,e.config);return u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>dC(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pC(t){const e={},l=r(t,["name"]);l!=null&&c(e,["_url","name"],l);const a=r(t,["config"]);return a!=null&&c(e,["config"],a),e}function gC(t,e){const l={},a=r(t,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const u=r(t,["pageToken"]);e!==void 0&&u!=null&&c(e,["_query","pageToken"],u);const f=r(t,["filter"]);return e!==void 0&&f!=null&&c(e,["_query","filter"],f),l}function xC(t){const e={},l=r(t,["config"]);return l!=null&&c(e,["config"],gC(l,e)),e}function yC(t){const e={},l=r(t,["name"]);l!=null&&c(e,["_url","name"],l);const a=r(t,["config"]);return a!=null&&c(e,["config"],a),e}function vC(t){const e={},l=r(t,["textInput"]);l!=null&&c(e,["textInput"],l);const a=r(t,["output"]);return a!=null&&c(e,["output"],a),e}function bC(t){const e={};if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=r(t,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>vC(u))),c(e,["examples","examples"],a)}return e}function NC(t,e){const l={};if(r(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=r(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&c(e,["displayName"],a),r(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=r(t,["epochCount"]);e!==void 0&&u!=null&&c(e,["tuningTask","hyperparameters","epochCount"],u);const f=r(t,["learningRateMultiplier"]);if(f!=null&&c(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),r(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=r(t,["batchSize"]);e!==void 0&&h!=null&&c(e,["tuningTask","hyperparameters","batchSize"],h);const g=r(t,["learningRate"]);return e!==void 0&&g!=null&&c(e,["tuningTask","hyperparameters","learningRate"],g),l}function TC(t){const e={},l=r(t,["baseModel"]);l!=null&&c(e,["baseModel"],l);const a=r(t,["preTunedModel"]);a!=null&&c(e,["preTunedModel"],a);const u=r(t,["trainingDataset"]);u!=null&&c(e,["tuningTask","trainingData"],bC(u));const f=r(t,["config"]);return f!=null&&c(e,["config"],NC(f,e)),e}function SC(t){const e={},l=r(t,["name"]);l!=null&&c(e,["_url","name"],l);const a=r(t,["config"]);return a!=null&&c(e,["config"],a),e}function CC(t,e){const l={},a=r(t,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const u=r(t,["pageToken"]);e!==void 0&&u!=null&&c(e,["_query","pageToken"],u);const f=r(t,["filter"]);return e!==void 0&&f!=null&&c(e,["_query","filter"],f),l}function wC(t){const e={},l=r(t,["config"]);return l!=null&&c(e,["config"],CC(l,e)),e}function jC(t){const e={},l=r(t,["name"]);l!=null&&c(e,["_url","name"],l);const a=r(t,["config"]);return a!=null&&c(e,["config"],a),e}function AC(t,e){const l={},a=r(t,["gcsUri"]);e!==void 0&&a!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],a);const u=r(t,["vertexDatasetResource"]);if(e!==void 0&&u!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],u),r(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function EC(t,e){const l={},a=r(t,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const u=r(t,["vertexDatasetResource"]);return e!==void 0&&u!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],u),l}function MC(t,e){const l={},a=r(t,["validationDataset"]);e!==void 0&&a!=null&&c(e,["supervisedTuningSpec"],EC(a,l));const u=r(t,["tunedModelDisplayName"]);e!==void 0&&u!=null&&c(e,["tunedModelDisplayName"],u);const f=r(t,["description"]);e!==void 0&&f!=null&&c(e,["description"],f);const h=r(t,["epochCount"]);e!==void 0&&h!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],h);const g=r(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const x=r(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x);const p=r(t,["preTunedModelCheckpointId"]);p!=null&&c(l,["preTunedModel","checkpointId"],p);const v=r(t,["adapterSize"]);if(e!==void 0&&v!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v),r(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function RC(t){const e={},l=r(t,["baseModel"]);l!=null&&c(e,["baseModel"],l);const a=r(t,["preTunedModel"]);a!=null&&c(e,["preTunedModel"],a);const u=r(t,["trainingDataset"]);u!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],AC(u,e));const f=r(t,["config"]);return f!=null&&c(e,["config"],MC(f,e)),e}function kC(t){const e={},l=r(t,["name"]);l!=null&&c(e,["model"],l);const a=r(t,["name"]);return a!=null&&c(e,["endpoint"],a),e}function Jp(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["name"]);a!=null&&c(e,["name"],a);const u=r(t,["state"]);u!=null&&c(e,["state"],Tp(u));const f=r(t,["createTime"]);f!=null&&c(e,["createTime"],f);const h=r(t,["tuningTask","startTime"]);h!=null&&c(e,["startTime"],h);const g=r(t,["tuningTask","completeTime"]);g!=null&&c(e,["endTime"],g);const x=r(t,["updateTime"]);x!=null&&c(e,["updateTime"],x);const p=r(t,["description"]);p!=null&&c(e,["description"],p);const v=r(t,["baseModel"]);v!=null&&c(e,["baseModel"],v);const b=r(t,["_self"]);b!=null&&c(e,["tunedModel"],kC(b));const N=r(t,["customBaseModel"]);N!=null&&c(e,["customBaseModel"],N);const j=r(t,["experiment"]);j!=null&&c(e,["experiment"],j);const A=r(t,["labels"]);A!=null&&c(e,["labels"],A);const M=r(t,["outputUri"]);M!=null&&c(e,["outputUri"],M);const I=r(t,["pipelineJob"]);I!=null&&c(e,["pipelineJob"],I);const R=r(t,["serviceAccount"]);R!=null&&c(e,["serviceAccount"],R);const U=r(t,["tunedModelDisplayName"]);return U!=null&&c(e,["tunedModelDisplayName"],U),e}function _C(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["nextPageToken"]);a!=null&&c(e,["nextPageToken"],a);const u=r(t,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Jp(h))),c(e,["tuningJobs"],f)}return e}function DC(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["name"]);a!=null&&c(e,["name"],a);const u=r(t,["metadata"]);u!=null&&c(e,["metadata"],u);const f=r(t,["done"]);f!=null&&c(e,["done"],f);const h=r(t,["error"]);return h!=null&&c(e,["error"],h),e}function IC(t){const e={},l=r(t,["checkpointId"]);l!=null&&c(e,["checkpointId"],l);const a=r(t,["epoch"]);a!=null&&c(e,["epoch"],a);const u=r(t,["step"]);u!=null&&c(e,["step"],u);const f=r(t,["endpoint"]);return f!=null&&c(e,["endpoint"],f),e}function LC(t){const e={},l=r(t,["model"]);l!=null&&c(e,["model"],l);const a=r(t,["endpoint"]);a!=null&&c(e,["endpoint"],a);const u=r(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>IC(h))),c(e,["checkpoints"],f)}return e}function _c(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["name"]);a!=null&&c(e,["name"],a);const u=r(t,["state"]);u!=null&&c(e,["state"],Tp(u));const f=r(t,["createTime"]);f!=null&&c(e,["createTime"],f);const h=r(t,["startTime"]);h!=null&&c(e,["startTime"],h);const g=r(t,["endTime"]);g!=null&&c(e,["endTime"],g);const x=r(t,["updateTime"]);x!=null&&c(e,["updateTime"],x);const p=r(t,["error"]);p!=null&&c(e,["error"],p);const v=r(t,["description"]);v!=null&&c(e,["description"],v);const b=r(t,["baseModel"]);b!=null&&c(e,["baseModel"],b);const N=r(t,["tunedModel"]);N!=null&&c(e,["tunedModel"],LC(N));const j=r(t,["preTunedModel"]);j!=null&&c(e,["preTunedModel"],j);const A=r(t,["supervisedTuningSpec"]);A!=null&&c(e,["supervisedTuningSpec"],A);const M=r(t,["tuningDataStats"]);M!=null&&c(e,["tuningDataStats"],M);const I=r(t,["encryptionSpec"]);I!=null&&c(e,["encryptionSpec"],I);const R=r(t,["partnerModelTuningSpec"]);R!=null&&c(e,["partnerModelTuningSpec"],R);const U=r(t,["customBaseModel"]);U!=null&&c(e,["customBaseModel"],U);const B=r(t,["experiment"]);B!=null&&c(e,["experiment"],B);const D=r(t,["labels"]);D!=null&&c(e,["labels"],D);const q=r(t,["outputUri"]);q!=null&&c(e,["outputUri"],q);const Q=r(t,["pipelineJob"]);Q!=null&&c(e,["pipelineJob"],Q);const ue=r(t,["serviceAccount"]);ue!=null&&c(e,["serviceAccount"],ue);const ie=r(t,["tunedModelDisplayName"]);return ie!=null&&c(e,["tunedModelDisplayName"],ie),e}function UC(t){const e={},l=r(t,["sdkHttpResponse"]);l!=null&&c(e,["sdkHttpResponse"],l);const a=r(t,["nextPageToken"]);a!=null&&c(e,["nextPageToken"],a);const u=r(t,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>_c(h))),c(e,["tuningJobs"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PC extends ms{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new ml(fs.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const a={tunedModelName:l.baseModel},u=Object.assign(Object.assign({},l),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},l);return await this.tuneInternal(a)}else{const a=Object.assign({},l),u=await this.tuneMldevInternal(a);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:Sc.JOB_STATE_QUEUED}}}}async getInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=SC(e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>_c(v))}else{const p=pC(e);return g=fe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>Jp(v))}}async listInternal(e){var l,a,u,f;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=wC(e);return g=fe("tuningJobs",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=UC(v),N=new _h;return Object.assign(N,b),N})}else{const p=xC(e);return g=fe("tunedModels",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(b=>{const N=b;return N.sdkHttpResponse={headers:v.headers},N})),h.then(v=>{const b=_C(v),N=new _h;return Object.assign(N,b),N})}}async cancel(e){var l,a,u,f;let h="",g={};if(this.apiClient.isVertexAI()){const x=jC(e);h=fe("{name}:cancel",x._url),g=x._query,delete x.config,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const x=yC(e);h=fe("{name}:cancel",x._url),g=x._query,delete x.config,delete x._url,delete x._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async tuneInternal(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI()){const g=RC(e);return f=fe("tuningJobs",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>_c(x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,a;let u,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TC(e);return f=fe("tunedModels",g._url),h=g._query,delete g.config,delete g._url,delete g._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>DC(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const GC=1024*1024*8,VC=3,qC=1e3,FC=2,pc="x-goog-upload-status";async function HC(t,e,l){var a,u,f;let h=0,g=0,x=new Cc(new Response),p="upload";for(h=t.size;g<h;){const b=Math.min(GC,h-g),N=t.slice(g,g+b);g+b>=h&&(p+=", finalize");let j=0,A=qC;for(;j<VC&&(x=await l.request({path:"",body:N,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(b)}}}),!(!((a=x==null?void 0:x.headers)===null||a===void 0)&&a[pc]));)j++,await OC(A),A=A*FC;if(g+=b,((u=x==null?void 0:x.headers)===null||u===void 0?void 0:u[pc])!=="active")break;if(h<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(x==null?void 0:x.json());if(((f=x==null?void 0:x.headers)===null||f===void 0?void 0:f[pc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function zC(t){return{size:t.size,type:t.type}}function OC(t){return new Promise(e=>setTimeout(e,t))}class $C{async upload(e,l,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HC(e,l,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YC{create(e,l,a){return new JC(e,l,a)}}class JC{constructor(e,l,a){this.url=e,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ip="x-goog-api-key";class KC{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ip)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ip,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WC="gl-node/";class QC{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const a=kx(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const u=new KC(this.apiKey);this.apiClient=new mS({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:WC+"web",uploader:new $C,downloader:new BC}),this.models=new DS(this.apiClient),this.live=new jS(this.apiClient,u,new YC),this.batches=new nv(this.apiClient),this.chats=new rb(this.models,this.apiClient),this.caches=new lb(this.apiClient),this.files=new Nb(this.apiClient),this.operations=new PS(this.apiClient),this.authTokens=new hC(this.apiClient),this.tunings=new PC(this.apiClient)}}const Mt=new QC({apiKey:"AIzaSyDGd9WnVLOE5pB6RQu19dEdgHBUwNi0ul0"}),Rt=(t,e)=>{if(console.error("Gemini API Error:",t),typeof t=="object"&&t!==null&&"error"in t){const l=t.error;if(typeof l=="object"&&l!==null&&(l.code===429||l.status==="RESOURCE_EXHAUSTED"))return new Error("You've exceeded the request limit for today. Please check your API plan and billing details, then try again tomorrow.")}if(t instanceof Error){if(t.message.includes("429")||t.message.includes("RESOURCE_EXHAUSTED"))return new Error("You've exceeded the request limit for today. Please check your API plan and billing details, then try again tomorrow.");if(t.message.includes("API key not valid"))return new Error("Your API key is invalid or not configured correctly. Please check your setup.")}return new Error(e)},XC={type:S.OBJECT,properties:{analyzedQuery:{type:S.STRING,description:"A short, one-sentence summary of what you are searching for based on the user's prompt. For example: 'Searching for flights from Casablanca to Dubai and a 4-star hotel.'"},flight_search_params:{type:S.OBJECT,description:"Structured parameters for a flight API call, based on Amadeus API specs.",properties:{originLocationCode:{type:S.STRING,description:"Origin airport IATA code, e.g., CMN"},destinationLocationCode:{type:S.STRING,description:"Destination airport IATA code, e.g., DXB"},departureDate:{type:S.STRING,description:"Departure date in YYYY-MM-DD format"},adults:{type:S.INTEGER,description:"Number of adult passengers, default to 1 if not specified."}}},hotel_search_params:{type:S.OBJECT,description:"Structured parameters for a hotel API call, based on Booking.com API specs.",properties:{destination:{type:S.STRING,description:"The city or area for the hotel search."},checkin_date:{type:S.STRING,description:"Check-in date in YYYY-MM-DD format"},checkout_date:{type:S.STRING,description:"Check-out date in YYYY-MM-DD format"},adults_number:{type:S.INTEGER,description:"Number of adults, default to 1 if not specified."},stars:{type:S.INTEGER,description:"Minimum star rating for the hotel"},max_price_per_night:{type:S.NUMBER,description:"Maximum price per night in USD"}}},car_search_params:{type:S.OBJECT,description:"Structured parameters for a car rental API call.",properties:{location:{type:S.STRING,description:"The city or pickup location."},pickup_date:{type:S.STRING,description:"Pickup date in YYYY-MM-DD format"},dropoff_date:{type:S.STRING,description:"Drop-off date in YYYY-MM-DD format"},car_type:{type:S.STRING,enum:["Sedan","SUV","Luxury","Van","Electric"],description:"The type of car the user is interested in."},max_price_per_day:{type:S.NUMBER,description:"Maximum price per day in USD"}}},itinerary_request:{type:S.OBJECT,description:"Parameters for generating a mini-itinerary or activity suggestions ONLY if the user explicitly asks for them (e.g., 'suggest some activities', 'what is there to do there').",properties:{destination:{type:S.STRING,description:"The destination for the itinerary, inferred from the conversation."},duration:{type:S.INTEGER,description:"The duration of the trip in days, inferred from the hotel booking if available."},interests:{type:S.STRING,description:"A summary of any interests the user mentioned for the activities."}}}},required:["analyzedQuery"]},ZC={type:S.OBJECT,properties:{summary:{type:S.STRING,description:"A friendly, one-sentence summary of the deals found. e.g., 'I've found several flights and highly-rated hotels for your trip!'"},flights:{type:S.ARRAY,description:"An array of 8-12 fictional flight options.",items:{type:S.OBJECT,properties:{type:{type:S.STRING,description:"Should always be 'flight'"},airline:{type:S.STRING},flightNumber:{type:S.STRING},departureAirport:{type:S.STRING},arrivalAirport:{type:S.STRING},departureTime:{type:S.STRING,description:"e.g., '08:30 AM'"},arrivalTime:{type:S.STRING,description:"e.g., '05:45 PM'"},duration:{type:S.STRING},price:{type:S.NUMBER},stops:{type:S.INTEGER},provider:{type:S.STRING,description:"Simulate a real-world data provider, e.g., 'Kiwi', 'Skyscanner', 'Travelpayouts'."},pricePrediction:{type:S.OBJECT,description:"An AI-driven prediction on whether the price is likely to rise or fall.",properties:{recommendation:{type:S.STRING,enum:["Wait","Buy Now"],description:"Recommendation to the user."},reason:{type:S.STRING,description:"A brief, one-sentence explanation for the recommendation."}}},negotiationTip:{type:S.STRING,description:"A short, actionable tip for the user on how to get a better deal or save money on this flight. e.g., 'Booking on a Tuesday often yields lower prices.' or 'Check for deals on round-trip bookings.'"},affiliateLink:{type:S.STRING,description:"A realistic but fictional booking link, formatted like 'https://flywise.ai/deals/f/[random_id]'."},rankingScore:{type:S.NUMBER,description:"A score from 0-100 indicating how well this result matches the user's inferred criteria. Only for top ranked items."},rankingReason:{type:S.STRING,description:"A short, one-sentence explanation for why this item is highly ranked. Only for top ranked items."}},required:["type","airline","flightNumber","departureAirport","arrivalAirport","departureTime","arrivalTime","duration","price","stops","provider","affiliateLink"]}},stays:{type:S.ARRAY,description:"An array of 8-12 fictional hotel/stay options.",items:{type:S.OBJECT,properties:{type:{type:S.STRING,description:"Should always be 'stay'"},name:{type:S.STRING},stayType:{type:S.STRING,enum:["Hotel","Apartment","Guesthouse","Villa"]},location:{type:S.STRING},pricePerNight:{type:S.NUMBER},rating:{type:S.NUMBER,description:"A rating from 1 to 5, can include decimals."},amenities:{type:S.ARRAY,items:{type:S.STRING}},imageUrl:{type:S.STRING,description:"A URL to a relevant stock photo of a hotel or city."},numberOfNights:{type:S.INTEGER,description:"The total number of nights for the booking, inferred from the user's query. Default to 1 if not specified."},provider:{type:S.STRING,description:"Simulate a real-world data provider, e.g., 'Booking.com', 'Agoda', 'Expedia'."},negotiationTip:{type:S.STRING,description:"A short, actionable tip for the user on how to negotiate or get a better deal on this stay. e.g., 'Booking mid-week can be up to 20% cheaper.' or 'Ask for a corner room for more space at the same price.'"},reviews:{type:S.ARRAY,description:"An array of 2-3 fictional user reviews for the stay.",items:{type:S.OBJECT,properties:{user:{type:S.STRING,description:"A fictional user name, e.g., 'Jane D.'"},rating:{type:S.NUMBER,description:"A rating from 1 to 5."},comment:{type:S.STRING,description:"A short, one or two-sentence review comment."}},required:["user","rating","comment"]}},affiliateLink:{type:S.STRING,description:"A realistic but fictional booking link, formatted like 'https://flywise.ai/deals/s/[random_id]'."},rankingScore:{type:S.NUMBER,description:"A score from 0-100 indicating how well this result matches the user's inferred criteria. Only for top ranked items."},rankingReason:{type:S.STRING,description:"A short, one-sentence explanation for why this item is highly ranked. Only for top ranked items."}},required:["type","name","stayType","location","pricePerNight","rating","amenities","imageUrl","numberOfNights","reviews","provider","affiliateLink"]}},cars:{type:S.ARRAY,description:"An array of 5-8 fictional car rental options.",items:{type:S.OBJECT,properties:{type:{type:S.STRING,description:"Should always be 'car'"},make:{type:S.STRING},model:{type:S.STRING},carType:{type:S.STRING,enum:["Sedan","SUV","Luxury","Van","Electric"]},company:{type:S.STRING},location:{type:S.STRING},pricePerDay:{type:S.NUMBER},rating:{type:S.NUMBER,description:"A rating from 1 to 5, can include decimals."},passengers:{type:S.INTEGER},fuelType:{type:S.STRING,enum:["Gasoline","Diesel","Electric","Hybrid"]},imageUrl:{type:S.STRING,description:"A URL to a relevant stock photo of a car."},provider:{type:S.STRING,description:"Simulate a real-world data provider, e.g., 'Hertz', 'RentalCars.com', 'Avis'."},recommendation:{type:S.STRING,description:"A short, helpful AI recommendation, e.g., 'Best for city driving' or 'Great for families'."},negotiationTip:{type:S.STRING,description:"A short, actionable tip for the user on how to negotiate or save money on this car rental. e.g., 'Ask about weekly rates for potential discounts.' or 'Prepaying for fuel is often more expensive.'"},numberOfDays:{type:S.INTEGER,description:"The total number of days for the rental, inferred from the user's query. Default to 1 if not specified."},affiliateLink:{type:S.STRING,description:"A realistic but fictional booking link, formatted like 'https://flywise.ai/deals/c/[random_id]'."},rankingScore:{type:S.NUMBER,description:"A score from 0-100 indicating how well this result matches the user's inferred criteria. Only for top ranked items."},rankingReason:{type:S.STRING,description:"A short, one-sentence explanation for why this item is highly ranked. Only for top ranked items."}},required:["type","make","model","carType","company","location","pricePerDay","rating","passengers","fuelType","imageUrl","numberOfDays","provider","affiliateLink"]}},itinerary_snippet:{type:S.OBJECT,description:"A small itinerary snippet with 2-4 activity suggestions. ONLY generate this if an 'itinerary_request' was part of the input parameters.",properties:{destination:{type:S.STRING},suggestions:{type:S.ARRAY,description:"An array of 2-4 diverse activity suggestions.",items:{type:S.OBJECT,properties:{name:{type:S.STRING,description:"Name of the activity, landmark, or restaurant."},description:{type:S.STRING,description:"A compelling, one-sentence description of the suggestion."}},required:["name","description"]}}},required:["destination","suggestions"]}}},e5={type:S.OBJECT,properties:{destination:{type:S.STRING,description:"The destination city for the itinerary, as specified by the user."},itinerary:{type:S.ARRAY,description:"A day-by-day plan for the trip. For each activity, find a real-world location with a specific name and full address.",items:{type:S.OBJECT,properties:{day:{type:S.INTEGER},morning:{type:S.OBJECT,description:"A suggested activity for the morning at a specific, real-world location.",properties:{locationName:{type:S.STRING,description:"The specific name of the real-world location (e.g., 'The Louvre Museum', 'Caffè Florian')."},address:{type:S.STRING,description:"The full, real street address of the location."},description:{type:S.STRING,description:"A brief, one-sentence description of the activity at this location."}},required:["locationName","address","description"]},afternoon:{type:S.OBJECT,description:"A suggested activity for the afternoon at a specific, real-world location.",properties:{locationName:{type:S.STRING,description:"The specific name of the real-world location (e.g., 'Eiffel Tower', 'Katz's Delicatessen')."},address:{type:S.STRING,description:"The full, real street address of the location."},description:{type:S.STRING,description:"A brief, one-sentence description of the activity at this location."}},required:["locationName","address","description"]},evening:{type:S.OBJECT,description:"A suggested activity for the evening at a specific, real-world location.",properties:{locationName:{type:S.STRING,description:"The specific name of the real-world location (e.g., 'Le Jules Verne', 'Moulin Rouge')."},address:{type:S.STRING,description:"The full, real street address of the location."},description:{type:S.STRING,description:"A brief, one-sentence description of the activity at this location."}},required:["locationName","address","description"]}},required:["day","morning","afternoon","evening"]}},culturalTips:{type:S.ARRAY,description:"An array of 2-4 useful cultural tips or must-try local food recommendations for the destination.",items:{type:S.STRING}},totalBudget:{type:S.NUMBER,description:"The total estimated budget for the trip in USD, based on the user's input or a reasonable estimate if not provided."},budgetBreakdown:{type:S.OBJECT,description:"A breakdown of the estimated budget into major categories.",properties:{lodging:{type:S.OBJECT,properties:{estimate:{type:S.NUMBER,description:"Estimated cost for lodging in USD."},details:{type:S.STRING,description:"A brief one-sentence explanation for the lodging estimate."}}},food:{type:S.OBJECT,properties:{estimate:{type:S.NUMBER,description:"Estimated cost for food in USD."},details:{type:S.STRING,description:"A brief one-sentence explanation for the food estimate, e.g., 'Based on a mix of local eateries and one fine dining experience.'"}}},activities:{type:S.OBJECT,properties:{estimate:{type:S.NUMBER,description:"Estimated cost for activities in USD."},details:{type:S.STRING,description:"A brief one-sentence explanation for the activities estimate."}}},transport:{type:S.OBJECT,properties:{estimate:{type:S.NUMBER,description:"Estimated cost for local transport in USD."},details:{type:S.STRING,description:"A brief one-sentence explanation for the transport estimate."}}}}}},required:["destination","itinerary"]};S.OBJECT,S.ARRAY,S.OBJECT,S.STRING,S.NUMBER,S.OBJECT,S.OBJECT,S.NUMBER,S.STRING,S.OBJECT,S.NUMBER,S.STRING,S.OBJECT,S.NUMBER,S.STRING,S.STRING;S.OBJECT,S.ARRAY,S.OBJECT,S.STRING,S.STRING;S.OBJECT,S.ARRAY,S.OBJECT,S.STRING,S.NUMBER,S.NUMBER,S.STRING,S.STRING;S.OBJECT,S.STRING,S.STRING,S.ARRAY,S.STRING,S.STRING,S.STRING,S.STRING,S.INTEGER,S.NUMBER,S.STRING;const t5={type:S.OBJECT,properties:{suggestions:{type:S.ARRAY,description:"An array of up to 3 alternative airport or location suggestions based on the user's last search. For each suggestion, provide a compelling reason and estimates for savings.",items:{type:S.OBJECT,properties:{type:{type:S.STRING,enum:["flight","stay"],description:"The type of search this suggestion applies to."},originalLocation:{type:S.STRING,description:"The original location/airport code from the user's query."},alternativeLocationName:{type:S.STRING,description:"The name of the alternative location or airport (including its IATA code if applicable)."},reason:{type:S.STRING,description:"A short, compelling reason for choosing this alternative, e.g., 'Often has cheaper flights' or 'Closer to the city center'."},estimatedCostSaving:{type:S.STRING,description:"A realistic estimated cost saving, e.g., '$50 - $100' or 'Up to 20% cheaper'."},estimatedTimeDifference:{type:S.STRING,description:"Estimated difference in travel time to the main point of interest, e.g., '20 minutes shorter drive' or 'Adds 30 minutes by train'."}},required:["type","originalLocation","alternativeLocationName","reason"]}}},required:["suggestions"]};S.OBJECT,S.ARRAY,S.OBJECT,S.STRING,S.STRING,S.STRING,S.STRING,S.STRING;S.OBJECT,S.ARRAY,S.OBJECT,S.STRING,S.STRING;S.OBJECT,S.ARRAY,S.OBJECT,S.STRING,S.STRING,S.INTEGER,S.STRING,S.STRING,S.STRING,S.ARRAY,S.STRING,S.ARRAY,S.STRING,S.BOOLEAN,S.STRING,S.INTEGER,S.ARRAY,S.STRING,S.NUMBER,S.STRING,S.ARRAY,S.OBJECT,S.STRING,S.STRING,S.STRING,S.NUMBER,S.STRING,S.STRING,S.ARRAY,S.OBJECT,S.STRING,S.STRING,S.STRING,S.NUMBER,S.STRING;S.OBJECT,S.ARRAY,S.OBJECT,S.STRING,S.STRING,S.STRING,S.STRING,S.NUMBER;S.OBJECT,S.ARRAY,S.OBJECT,S.STRING,S.STRING,S.STRING,S.NUMBER,S.NUMBER,S.STRING,S.ARRAY,S.OBJECT,S.STRING,S.STRING,S.STRING;const n5={type:S.OBJECT,properties:{availableApps:{type:S.ARRAY,description:"An array of 2-4 of the most popular, REAL-WORLD food delivery and ride-hailing apps available in the specified city. For example, for Tokyo, you might list 'Uber Eats', 'Demae-can', 'Uber', 'JapanTaxi'.",items:{type:S.OBJECT,properties:{name:{type:S.STRING,description:"The official name of the app, e.g., 'Uber Eats', 'Careem', 'Glovo'."},category:{type:S.STRING,enum:["Food Delivery","Ride-Hailing"]},description:{type:S.STRING,description:"A brief, one-sentence description of the service and what it's known for in that region."}},required:["name","category","description"]}},restaurants:{type:S.ARRAY,description:"An array of 8-12 fictional but realistic restaurants available for delivery. CRITICAL: The `provider` for each restaurant MUST exactly match one of the food delivery app names listed in `availableApps`.",items:{type:S.OBJECT,properties:{id:{type:S.STRING},name:{type:S.STRING},cuisine:{type:S.ARRAY,items:{type:S.STRING}},rating:{type:S.NUMBER},priceRange:{type:S.STRING,enum:["$","$$","$$$","$$$$"]},deliveryTime:{type:S.STRING},deliveryFee:{type:S.NUMBER},imageUrl:{type:S.STRING,description:"URL to a relevant, license-free photo of food or a restaurant."},provider:{type:S.STRING,description:"The delivery service provider, must be from the `availableApps` list."},menu:{type:S.ARRAY,description:"An array of 3-5 popular menu items.",items:{type:S.OBJECT,properties:{name:{type:S.STRING},price:{type:S.STRING,description:"e.g., '$12.99'"},description:{type:S.STRING}},required:["name","price","description"]}}},required:["id","name","cuisine","rating","priceRange","deliveryTime","deliveryFee","imageUrl","provider","menu"]}},foodSuggestions:{type:S.ARRAY,description:"An array of 2-3 personalized restaurant suggestions based on user profile and context.",items:{type:S.OBJECT,properties:{restaurant:{type:S.OBJECT,properties:{id:{type:S.STRING},name:{type:S.STRING},cuisine:{type:S.ARRAY,items:{type:S.STRING}},rating:{type:S.NUMBER},priceRange:{type:S.STRING,enum:["$","$$","$$$","$$$$"]},deliveryTime:{type:S.STRING},deliveryFee:{type:S.NUMBER},imageUrl:{type:S.STRING},provider:{type:S.STRING},menu:{type:S.ARRAY,items:{type:S.OBJECT,properties:{name:{type:S.STRING},price:{type:S.STRING},description:{type:S.STRING}},required:["name","price","description"]}}},required:["id","name","cuisine","rating","priceRange","deliveryTime","deliveryFee","imageUrl","provider","menu"]},reason:{type:S.STRING}},required:["restaurant","reason"]}},rideSuggestion:{type:S.OBJECT,description:"A single, smart ride suggestion. CRITICAL: The `serviceName` for each ride option MUST exactly match one of the ride-hailing app names listed in `availableApps`. This can be null if no obvious suggestion exists.",properties:{destination:{type:S.STRING},reason:{type:S.STRING},options:{type:S.ARRAY,items:{type:S.OBJECT,properties:{id:{type:S.STRING},serviceName:{type:S.STRING,description:"The ride-hailing service name, must be from the `availableApps` list."},serviceLogoUrl:{type:S.STRING},vehicleType:{type:S.STRING},eta:{type:S.STRING},estimatedPrice:{type:S.NUMBER},passengerCapacity:{type:S.INTEGER}},required:["id","serviceName","serviceLogoUrl","vehicleType","eta","estimatedPrice","passengerCapacity"]}}},required:["destination","reason","options"]},smartCombo:{type:S.OBJECT,description:"A creative combo suggestion linking a food order and a ride. Can be null.",properties:{title:{type:S.STRING},description:{type:S.STRING},restaurant:{type:S.OBJECT,properties:{id:{type:S.STRING},name:{type:S.STRING},cuisine:{type:S.ARRAY,items:{type:S.STRING}},rating:{type:S.NUMBER},priceRange:{type:S.STRING,enum:["$","$$","$$$","$$$$"]},deliveryTime:{type:S.STRING},deliveryFee:{type:S.NUMBER},imageUrl:{type:S.STRING},provider:{type:S.STRING},menu:{type:S.ARRAY,items:{type:S.OBJECT,properties:{name:{type:S.STRING},price:{type:S.STRING},description:{type:S.STRING}},required:["name","price","description"]}}},required:["id","name","cuisine","rating","priceRange","deliveryTime","deliveryFee","imageUrl","provider","menu"]},ride:{type:S.OBJECT,properties:{id:{type:S.STRING},serviceName:{type:S.STRING},serviceLogoUrl:{type:S.STRING},vehicleType:{type:S.STRING},eta:{type:S.STRING},estimatedPrice:{type:S.NUMBER},passengerCapacity:{type:S.INTEGER}},required:["id","serviceName","serviceLogoUrl","vehicleType","eta","estimatedPrice","passengerCapacity"]}},required:["title","description","restaurant","ride"]}},required:["availableApps","restaurants","foodSuggestions"]};S.OBJECT,S.STRING,S.STRING,S.OBJECT,S.NUMBER,S.NUMBER,S.NUMBER,S.ARRAY,S.STRING,S.STRING,S.ARRAY,S.OBJECT,S.NUMBER,S.NUMBER;const s5={type:S.OBJECT,properties:{caption:{type:S.STRING,description:"A short, engaging, and friendly caption for a social media post, summarizing the trip. It should be written in a personal, first-person tone. Use emojis where appropriate."},hashtags:{type:S.STRING,description:"A string of 5-7 relevant hashtags, separated by spaces, e.g., '#travel #adventure #kyoto #japan #travelgram'."}},required:["caption","hashtags"]},i5={type:S.OBJECT,properties:{spaces:{type:S.ARRAY,description:"An array of 5-8 fictional but realistic coworking spaces.",items:{type:S.OBJECT,properties:{id:{type:S.STRING,description:"A unique ID for the space."},name:{type:S.STRING},location:{type:S.STRING,description:"Full, real-looking street address of the space."},imageUrl:{type:S.STRING,description:"A URL to a relevant, license-free photo of a modern office interior."},price:{type:S.OBJECT,properties:{perHour:{type:S.NUMBER},perDay:{type:S.NUMBER},perMonth:{type:S.NUMBER}},required:["perHour","perDay","perMonth"]},rating:{type:S.NUMBER,description:"A rating from 1 to 5."},amenities:{type:S.ARRAY,items:{type:S.STRING},description:"List of key amenities like 'High-speed WiFi', 'Free Coffee', 'Meeting Rooms', '24/7 Access'."},availability:{type:S.OBJECT,properties:{hotDesks:{type:S.NUMBER,description:"Number of available hot desks."},privateOffices:{type:S.NUMBER,description:"Number of available private offices."}},required:["hotDesks","privateOffices"]},aiInsight:{type:S.STRING,description:"A short, one-sentence AI-powered insight about the space, e.g., 'Best for creative professionals due to its vibrant atmosphere and natural light.'"},reviews:{type:S.ARRAY,description:"An array of 2-3 fictional user reviews.",items:{type:S.OBJECT,properties:{user:{type:S.STRING},rating:{type:S.NUMBER},comment:{type:S.STRING}},required:["user","rating","comment"]}},networkingOpportunity:{type:S.STRING,description:"A specific, engaging networking opportunity available at the space, e.g., 'Hosts a weekly tech meetup every Thursday evening.'"}},required:["id","name","location","imageUrl","price","rating","amenities","availability","aiInsight","reviews","networkingOpportunity"]}}},required:["spaces"]},l5={type:S.OBJECT,properties:{optimizations:{type:S.ARRAY,description:"An array of 2-4 actionable budget optimization suggestions.",items:{type:S.OBJECT,properties:{type:{type:S.STRING,enum:["Stay","Activity","Transport","Food"],description:"The category of the suggestion."},originalItem:{type:S.STRING,description:"The original item from the itinerary that can be optimized."},suggestedAlternative:{type:S.STRING,description:"A cheaper but still high-quality alternative."},reason:{type:S.STRING,description:"A compelling one-sentence reason for the suggestion."},estimatedSavings:{type:S.NUMBER,description:"The estimated savings in USD."}},required:["type","originalItem","suggestedAlternative","reason","estimatedSavings"]}}},required:["optimizations"]},a5={type:S.OBJECT,properties:{suggestions:{type:S.ARRAY,description:"An array of exactly 2 personalized 'next step' suggestions for the user.",items:{type:S.OBJECT,properties:{title:{type:S.STRING,description:"A catchy, short title for the suggestion card."},description:{type:S.STRING,description:"A concise, one-sentence description of the suggested action."},actionText:{type:S.STRING,description:"A short, actionable call-to-action text, e.g., 'Plan Your Trip' or 'Find Inspiration'."},actionTarget:{type:S.OBJECT,properties:{tab:{type:S.STRING,description:"The exact name of the tab the user should be directed to (e.g., 'Planner', 'Inspire', 'Chat')."},query:{type:S.STRING,description:"An optional pre-filled query for the chat or search bar."}},required:["tab"]}},required:["title","description","actionText","actionTarget"]}}},required:["suggestions"]},o5={type:S.OBJECT,properties:{flightNumber:{type:S.STRING},airline:{type:S.STRING},departure:{type:S.OBJECT,properties:{airport:{type:S.STRING},iata:{type:S.STRING},city:{type:S.STRING},scheduledTime:{type:S.STRING,description:"Full ISO 8601 date-time string"},actualTime:{type:S.STRING,description:"Full ISO 8601 date-time string, null if not departed"},terminal:{type:S.STRING},gate:{type:S.STRING},latitude:{type:S.NUMBER},longitude:{type:S.NUMBER}},required:["airport","iata","city","scheduledTime","latitude","longitude"]},arrival:{type:S.OBJECT,properties:{airport:{type:S.STRING},iata:{type:S.STRING},city:{type:S.STRING},scheduledTime:{type:S.STRING,description:"Full ISO 8601 date-time string"},actualTime:{type:S.STRING,description:"Full ISO 8601 date-time string, null if not landed"},terminal:{type:S.STRING},gate:{type:S.STRING},baggageClaim:{type:S.STRING},latitude:{type:S.NUMBER},longitude:{type:S.NUMBER}},required:["airport","iata","city","scheduledTime","latitude","longitude"]},status:{type:S.STRING,enum:["Scheduled","En Route","Landed","Delayed","Cancelled"]},aircraft:{type:S.OBJECT,properties:{type:{type:S.STRING,description:"e.g., 'Boeing 777-300ER'"},registration:{type:S.STRING,description:"e.g., 'A6-EPU'"}},required:["type"]},livePosition:{type:S.OBJECT,description:"Current coordinates of the aircraft. Null if not en route.",properties:{latitude:{type:S.NUMBER},longitude:{type:S.NUMBER},altitude:{type:S.NUMBER,description:"in feet"},speed:{type:S.NUMBER,description:"in knots"}}},progressPercent:{type:S.NUMBER,description:"Flight completion percentage, from 0 to 100."},aiSummary:{type:S.STRING,description:"A concise, helpful, one or two-sentence summary of the current flight status, mentioning any delays or important changes. e.g., 'Your flight is currently on time and cruising over the Atlantic. Expected arrival is on schedule at gate B24.'"},waypoints:{type:S.ARRAY,description:"An array of 5-7 intermediate waypoints for 'En Route' flights. Should be an empty array for other statuses. Each waypoint represents a point along the great-circle flight path.",items:{type:S.OBJECT,properties:{lat:{type:S.NUMBER,description:"Latitude of the waypoint."},lng:{type:S.NUMBER,description:"Longitude of the waypoint."},eta:{type:S.STRING,description:"Estimated time of arrival at this waypoint in full ISO 8601 date-time format."},progressPercent:{type:S.NUMBER,description:"The flight progress percentage at this waypoint (0-100)."}},required:["lat","lng","eta","progressPercent"]}}},required:["flightNumber","airline","departure","arrival","status","aircraft","progressPercent","aiSummary","waypoints"]},r5=async(t,e,l)=>{try{const a=t[t.length-1];let u=[];const f=t.map(j=>{let A=`${j.sender==="user"?"User":"AI"}: ${j.text}`;if(j.imageData&&(A+=" [User provided an image]"),j.sender==="ai"&&j.results&&j.results.length>0){const M=j.results.slice(0,3).map(I=>{if(I.type==="flight")return`Flight ${I.airline} ${I.flightNumber} to ${I.arrivalAirport} for $${I.price}`;if(I.type==="stay")return`Stay at ${I.name} (${I.rating} stars) for $${I.pricePerNight}/night`;if(I.type==="car")return`Car ${I.make} ${I.model} for $${I.pricePerDay}/day`}).join(", ");A+=`
[Presented search results: ${M}]`}return A}).join(`

`),h=`
User Profile Preferences (These are default filters. The user's latest message can override them.):
- Preferred Airlines: ${e.preferredAirlines||"Any"}
- Minimum Hotel Stars: ${e.minHotelStars>0?`${e.minHotelStars}`:"Any"}
- Preferred Car Types: ${e.preferredCarTypes.length>0?e.preferredCarTypes.join(", "):"Any"}
- Favorite Destinations: ${e.favoriteDestinations.length>0?e.favoriteDestinations.join(", "):"None"}
- Budget Constraints: Max flight price ${e.budget.flightMaxPrice?`$${e.budget.flightMaxPrice}`:"N/A"}, Max hotel price ${e.budget.hotelMaxPrice?`$${e.budget.hotelMaxPrice}/night`:"N/A"}, Max car price ${e.budget.carMaxPrice?`$${e.budget.carMaxPrice}/day`:"N/A"}.
`,g=`
User's Saved Trips (for context, if user says 'near my Paris trip'):
${l.length>0?l.slice(0,5).map(j=>`- ${j.name} (type: ${j.type})`).join(`
`):"None"}
`,p=`You are a sophisticated AI travel concierge. Your primary task is to analyze a conversation and extract structured search parameters for flights, hotels, or cars.
${a.imageData?`An image has been provided. First, identify the location, landmark, or key features in the image. Then, use this visual context combined with the user's text prompt to determine the search parameters. For example, if the image is of the Eiffel Tower and the user says "find flights here", the destination is Paris.`:""}

**MULTI-TASKING CAPABILITIES:**
- Your primary goal is to extract structured search parameters for flights, hotels, and cars.
- ADDITIONALLY, if the user ALSO asks for activity suggestions, an itinerary, or "things to do", you MUST populate the 'itinerary_request' object.
- The 'destination' for the itinerary request should be inferred from the flight or hotel search.
- Do NOT populate 'itinerary_request' if the user only asks for flights, hotels, or cars.

**CONTEXT IS KING:**
- **Full Conversation History:** Maintain context from the ENTIRE conversation. The user's latest message is most important, but context from earlier messages (like a previously mentioned destination or presented search results) is absolutely crucial for follow-up questions. For example, if the AI presented flights and the user says 'find hotels there', 'there' refers to the destination of the flights.
- **Date Awareness:** Today's date is ${new Date().toISOString().split("T")[0]}. Interpret relative dates like 'tomorrow' or 'next week' accordingly.

**CRITICAL INSTRUCTIONS FOR APPLYING USER PREFERENCES:**
You MUST use the provided User Profile Preferences as default filters for the search parameters.
1.  **Apply Defaults:** If the user's query is vague (e.g., "find me a hotel in Paris"), you MUST apply their saved preferences. For instance, set the 'stars' and 'max_price_per_night' parameters according to their profile.
2.  **User Overrides:** The user's latest message ALWAYS takes priority. If their message contradicts a profile setting (e.g., profile says 4-star hotels, but they ask for "a cheap 2-star hotel"), you MUST use the parameters from their message for this specific search.
3.  **Airlines & Car Types:** Do not populate flight airline preferences into the search parameters. For car rentals, only populate the 'car_type' parameter if the user explicitly asks for a specific type in their message (e.g., "rent an SUV"). Do NOT use the user's saved 'Preferred Car Types' from their profile to populate this parameter.

${h}

${g}

Conversation History to Analyze:
${f}`;u.push({text:p}),a.imageData&&u.push({inlineData:{mimeType:a.imageData.mimeType,data:a.imageData.base64}});const b=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:{parts:u},config:{responseMimeType:"application/json",responseSchema:XC}})).text.trim();return JSON.parse(b)}catch(a){throw Rt(a,"Could not understand your request. Please try rephrasing it.")}},c5=async(t,e)=>{try{const l=`
**User Preferences (Mandatory Rules for Generating Results):**
- **Preferred Airlines:** If the user's profile lists preferred airlines (${e.preferredAirlines||"None are listed"}), you must generate several flight options from these airlines, if a flight search was requested.
- **Minimum Hotel Stars:** All generated hotel options MUST have a star rating of ${e.minHotelStars>0?`${e.minHotelStars} or higher`:"any rating"}. This is a strict filter. If search parameters also specified a star rating, the higher of the two values must be used.
- **Preferred Car Types:** If the user has preferred car types (${e.preferredCarTypes.length>0?e.preferredCarTypes.join(", "):"None are listed"}), ensure several of the generated options match these types.
- **Budget:** All generated options MUST be cheaper than the user's budget constraints: Max flight price ${e.budget.flightMaxPrice?`$${e.budget.flightMaxPrice}`:"N/A"}, Max hotel price ${e.budget.hotelMaxPrice?`$${e.budget.hotelMaxPrice}/night`:"N/A"}, Max car price ${e.budget.carMaxPrice?`$${e.budget.carMaxPrice}/day`:"N/A"}. This is a strict filter.
`,a=`You are a data generation and AI ranking engine for a travel app. Your task is to generate a list of fictional, yet highly realistic, travel deals based on structured search parameters.

**Search Parameters:** ${JSON.stringify(t)}

**Data Simulation Requirements:**
- **Provider Simulation:** For each generated item (flight, stay, car), you MUST include a 'provider' field. This simulates data coming from different real-world APIs.
  - For flights, use providers like 'Kiwi', 'Skyscanner', 'Travelpayouts', 'Google Flights'.
  - For stays, use providers like 'Booking.com', 'Agoda', 'Expedia', 'Hotels.com'.
  - For cars, use providers like 'Hertz', 'RentalCars.com', 'Avis', 'Enterprise'.
- **Realistic Links:** For each generated item, you **MUST** create a realistic but fictional booking affiliate link. The \`affiliateLink\` field is mandatory. The link should follow a pattern like 'https://flywise.ai/deals/[type]/[random_id]', where [type] is 'f' for flight, 's' for stay, and 'c' for car.

**AI Ranking Layer (CRITICAL):**
1.  **Infer Criterion:** First, analyze the user's query and preferences to infer the most important ranking criterion. This could be 'best value' (a balance of price and quality), 'shortest duration' (for flights), 'luxury' (high rating and price), or 'eco-friendly'. Default to 'best value' if unclear.
2.  **Rank and Score:** After generating the list of results, re-rank them based on the inferred criterion.
3.  **Add Reason:** For the top 3-5 results that best match the criterion, you MUST add a 'rankingReason' (e.g., "Best value for a direct flight.", "Top luxury hotel with excellent reviews.") and a 'rankingScore' (from 80-100). For other results, omit these fields.

**ITINERARY SNIPPET GENERATION:**
- If the search parameters include an 'itinerary_request' object, you MUST generate a concise 'itinerary_snippet' with 2-4 relevant and exciting activity suggestions for the specified destination.
- If there is NO 'itinerary_request', you MUST NOT generate an 'itinerary_snippet'. The field should be omitted from the JSON response.

**CRITICAL INSTRUCTIONS FOR GENERATING RESULTS:**
You MUST strictly adhere to the user's preferences below when creating the fictional results. These are not suggestions; they are mandatory rules for filtering and prioritizing the output. If the search parameters from the user's query conflict with their saved profile, the search parameters take precedence.

${l}

Generate results for all search types present in the search parameters, and an itinerary snippet if requested.
`,f=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:a,config:{responseMimeType:"application/json",responseSchema:ZC}})).text.trim();return JSON.parse(f)}catch(l){throw Rt(l,"Could not fetch travel deals. The AI service may be temporarily unavailable.")}},u5=async(t,e)=>{try{const l=t.map(x=>`${x.sender==="user"?"User":"AI"}: ${x.text}`).join(`

`),u=`You are an AI travel expert specializing in finding creative and value-driven alternative destinations.
Based on the full conversation history, identify the user's most recent trip search (destination, dates, etc.).
Your task is to suggest 1-3 alternative destinations that are similar in vibe but might offer better value, fewer crowds, or a unique experience.

**CRITICAL INSTRUCTIONS:**
1.  **Analyze the Last Search:** Determine the core request from the conversation. What was the destination? What were they looking for (e.g., beach vacation, city break, adventure)?
2.  **Suggest Smart Alternatives:** If the user searched for a major hub (like LAX, Paris, Rome), suggest nearby secondary airports (Burbank instead of LAX) or different but similar cities (e.g., suggest Bologna instead of Florence for food lovers).
3.  **Provide Justification:** For each suggestion, you MUST provide a compelling 'reason', an 'estimatedCostSaving', and an 'estimatedTimeDifference' if applicable.
4.  **Consider User Profile:** Look at the user's preferences to tailor suggestions. If they like specific destinations, maybe suggest something similar.

${`
User Profile Preferences (Consider these when suggesting alternatives):
- Favorite Destinations: ${e.favoriteDestinations.length>0?e.favoriteDestinations.join(", "):"None"}
- Budget Constraints: Max flight price ${e.budget.flightMaxPrice?`$${e.budget.flightMaxPrice}`:"N/A"}, Max hotel price ${e.budget.hotelMaxPrice?`$${e.budget.hotelMaxPrice}/night`:"N/A"}.
`}

Conversation History:
${l}

Generate the alternative suggestions now.
`,h=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:u,config:{responseMimeType:"application/json",responseSchema:t5}})).text.trim();return JSON.parse(h).suggestions}catch(l){throw Rt(l,"Could not generate alternative suggestions at this time.")}},Kp=async(t,e,l,a)=>{try{const u=`Create a ${e}-day travel itinerary for a trip to ${t}. The user's interests are: "${l}". ${a?`The total budget for the trip is strictly $${a} USD.`:"The user has not specified a budget, so create a plan with a reasonable, mid-range budget."} For each suggested activity (morning, afternoon, evening), you must provide the name of a specific, real establishment (e.g., a museum, restaurant, park, or cafe), its full physical address, and a brief description. Generate a detailed budget breakdown for lodging, food, activities, and local transportation. The sum of the breakdown should match the total budget. Also include cultural tips and must-try food.`,h=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:u,config:{responseMimeType:"application/json",responseSchema:e5}})).text.trim();return{...JSON.parse(h),interests:l}}catch(u){throw Rt(u,"Could not create an itinerary. The AI service may be temporarily unavailable.")}},d5=async(t,e,l,a)=>{try{const f=((p,v)=>{if(!p||!v)return"a vibrant, appealing";const b=p/v;return b>500?"a luxurious, opulent, and high-end":b>200?"a comfortable, stylish, mid-range":"a charming, cozy, budget-friendly"})(a,e),h=l?`The traveler's interests are: "${l}".`:"The image should capture the iconic beauty and atmosphere of the destination.",g=`Create a breathtaking, cinematic, and emotionally resonant travel photograph of ${t}. The image should look like an award-winning shot from a National Geographic photographer.

**Core Theme:** The scene must embody the spirit of a ${f} trip and be heavily influenced by the traveler's interests: "${h}".

**Artistic Direction:**
- **Mood & Atmosphere:** Evoke a powerful sense of place. Whether it's the serene tranquility of a hidden cove, the bustling energy of a city market, or the majestic grandeur of a mountain peak, the emotion should be palpable.
- **Lighting:** Utilize dramatic and natural lighting. Aim for the soft, warm glow of the golden hour, the cool, moody tones of the blue hour, or dramatic sunbeams filtering through clouds.
- **Composition:** Employ strong compositional techniques like the rule of thirds, leading lines, or framing to draw the viewer into the scene. The composition must be balanced and visually stunning.
- **Color Palette:** Use a rich and vibrant color palette that feels authentic to the location but is artistically enhanced to be more captivating.

**Technical Specifications:**
- **Style:** Ultra-realistic, photorealistic, 8K resolution, incredibly detailed.
- **Optics:** Emulate the look of a professional DSLR camera with a high-quality prime lens, creating a beautiful shallow depth of field and artistic bokeh where appropriate.

**Strict Exclusions:** NO text, NO logos, NO watermarks, NO identifiable human faces. The focus must be entirely on the location and its unique atmosphere.`;return(await Mt.models.generateImages({model:"imagen-4.0-generate-001",prompt:g,config:{numberOfImages:3,outputMimeType:"image/jpeg",aspectRatio:"16:9"}})).generatedImages.map(p=>p.image.imageBytes)}catch(u){throw Rt(u,"Could not generate destination images. The AI service may be temporarily unavailable.")}},f5=t=>{const e={packingList:[],documents:{items:[]},localEssentials:[]},l=t.split(`
`);let a=null;for(const u of l)if(u.startsWith("### Packing List"))a="packingList";else if(u.startsWith("### Essential Documents"))a="documents";else if(u.startsWith("### Local Essentials"))a="localEssentials";else if(a&&(u.startsWith("* ")||u.startsWith("- "))){const f=u.substring(2).trim();f&&(a==="documents"?e.documents.items.push({item:f,checked:!1}):e[a].push({item:f,checked:!1}))}return e},m5=async t=>{var e,l,a;try{const u=t.itinerary.map(b=>`${b.morning.description}, ${b.afternoon.description}, ${b.evening.description}`).join(", "),f=`Create a travel-ready checklist for a ${t.itinerary.length}-day trip to ${t.destination} for a US citizen. The planned activities include: ${u}.
Respond in markdown format with three and only three sections, each with a heading: '### Packing List', '### Essential Documents', and '### Local Essentials'.
- Under '### Packing List', generate a personalized packing list.
- Under '### Essential Documents', use your search tool to provide up-to-date visa and entry document requirements for a US citizen traveling to ${t.destination}.
- Under '### Local Essentials', list the local currency, the main emergency phone number, and one highly recommended local travel app.
For each section, provide a bulleted list of items.`,h=await Mt.models.generateContent({model:"gemini-2.5-flash",contents:f,config:{tools:[{googleSearch:{}}]}}),g=h.text;if(!g)throw new Error("The AI returned an empty response.");const x=f5(g),p=(a=(l=(e=h.candidates)==null?void 0:e[0])==null?void 0:l.groundingMetadata)==null?void 0:a.groundingChunks,v=p==null?void 0:p.map(b=>b.web?{uri:b.web.uri,title:b.web.title}:null).filter(b=>b!==null);return{...x,documents:{...x.documents,sources:v}}}catch(u){throw Rt(u,"Could not create a travel checklist. The AI service may be temporarily unavailable.")}};S.OBJECT,S.ARRAY,S.OBJECT,S.STRING,S.NUMBER,S.NUMBER,S.INTEGER,S.STRING,S.STRING;const h5=async(t,e,l,a)=>(console.log("STUB: getRealTimeSuggestions called"),Promise.resolve([{name:"Le Café de la Paix",address:"5 Place de l'Opéra, 75009 Paris",reason:"Classic Parisian cafe nearby, perfect for a coffee.",openingHours:"Open until 11 PM",travelTime:"5 min walk"},{name:"Musée du Parfum Fragonard",address:"9 Rue Scribe, 75009 Paris",reason:"A quick, interesting museum if you have an hour to spare.",openingHours:"Open until 6 PM",travelTime:"8 min walk"}])),p5=async t=>(console.log("STUB: getCoordinatesForActivities called"),Promise.resolve([{name:"Louvre Museum",lat:48.8606,lng:2.3376,day:1,timeOfDay:"Morning",activity:"Visit the museum"},{name:"Eiffel Tower",lat:48.8584,lng:2.2945,day:1,timeOfDay:"Afternoon",activity:"Go up the tower"},{name:"Moulin Rouge",lat:48.8841,lng:2.3323,day:1,timeOfDay:"Evening",activity:"See a show"}])),Wp=async(t,e)=>{console.log("STUB: getWeatherForecast called");const l=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=["sun","partly-cloudy","cloud","rain"];return Promise.resolve(Array.from({length:e},(u,f)=>({day:l[new Date(Date.now()+f*864e5).getDay()],highTemp:20+f,lowTemp:12+f,description:"Mixed clouds",icon:a[f%a.length]})))},g5=async t=>(console.log("STUB: getInsuranceQuotes called"),Promise.resolve([{provider:"SafetyWing",price:45.5,coverage:{medical:{limit:25e4,description:"Emergency medical coverage."},cancellation:{limit:1e3,description:"For covered reasons."},baggage:{limit:500,description:"For lost or delayed baggage."}},bestFor:"Digital Nomads"},{provider:"World Nomads",price:75.2,coverage:{medical:{limit:5e5,description:"Includes adventure sports."},cancellation:{limit:2500,description:"Comprehensive cancellation."},baggage:{limit:1e3,description:"Higher limits for baggage."}},bestFor:"Adventure Travel"},{provider:"Allianz Global",price:95,coverage:{medical:{limit:1e6,description:"Premium medical coverage."},cancellation:{limit:5e3,description:"Cancel for any reason option."},baggage:{limit:2e3,description:"Extensive baggage protection."}},bestFor:"Family Coverage"}])),x5=async(t,e)=>(console.log("STUB: getNearbyAttractions called"),Promise.resolve([{name:"Local Market",description:"A bustling market with local crafts and food."},{name:"Historic Park",description:"A beautiful park with walking trails and monuments."},{name:"Art Museum",description:"Features a collection of modern and classic art."}])),y5=async(t,e)=>(console.log("STUB: getLocalVibe called"),Promise.resolve({description:"The neighborhood is generally considered safe and vibrant at night, with many well-lit streets and a lively cafe culture. Local sources recommend staying on main roads after 11 PM.",sources:[{uri:"https://example-travel-blog.com/location-safety",title:"Is [Location] Safe at Night? - Travel Blog"}]})),lp=async(t,e,l)=>(console.log("STUB: generateTravelBuddyProfile called"),Promise.resolve({name:"Alex the Explorer",bio:"An avid photographer and foodie who loves finding hidden gems. Alex believes the best travel memories are made off the beaten path.",keyTraits:["Spontaneous","Loves trying new food","Early riser"],travelStyle:t.travelStyle,budget:t.budget,gender:"Non-binary",age:28,compatibilityScore:88,compatibilityReason:"Your love for adventure and their spontaneous nature makes for a great match!"})),v5=async(t,e,l,a)=>{var u;return console.log("STUB: generateJointItinerary called"),Kp(l,a,`${(u=t.favoriteDestinations)==null?void 0:u.join(", ")}, ${e.keyTraits.join(", ")}`)},b5=async(t,e,l,a)=>(console.log("STUB: chatWithTravelBuddy called"),Promise.resolve("That's a great idea! I'm totally up for that. Should we book it now or wait until we get there?")),ap=async t=>Promise.resolve("iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),N5=async t=>(console.log("STUB: generateTripMemory called"),Promise.resolve({title:`Unforgettable memories from ${t.destination}`,narrativeSummary:`Our ${t.itinerary.length}-day trip to ${t.destination} was a whirlwind of amazing food, stunning sights, and incredible experiences. We'll never forget the moments we shared.`,keyStats:{distanceTraveled:4500,destinationsVisited:1,photosTaken:523},videoHighlightImageUrls:["https://images.unsplash.com/photo-1524413840807-0c3cb6fa808d?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1542051841857-5f90071e7989?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1533105079780-52b9be4ac215?q=80&w=800&auto=format&fit=crop"],musicTheme:"Uplifting",mapRoute:t.itinerary.flatMap(e=>[{lat:48.85,lng:2.35},{lat:48.86,lng:2.34}]).slice(0,5)})),T5=async t=>(console.log("STUB: generateVibeSearchIdeas called"),Promise.resolve({images:[],destinations:[{name:"Kyoto, Japan",reason:"Matches the vibe of ancient traditions and serene nature."},{name:"Prague, Czech Republic",reason:"Famous for its cobblestone streets and historic architecture."},{name:"Bruges, Belgium",reason:"A fairytale medieval town with canals and cozy cafes."}]})),S5=async(t,e,l)=>(console.log("STUB: getAILocalMatches called"),Promise.resolve([{id:"1",profileType:l,name:"Yuki",age:28,location:`Shibuya, ${t}`,avatarUrl:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=200",bio:"I love showing people the best hidden ramen spots and vintage shops in Tokyo!",interests:["Foodie","Fashion","Photography"],languages:["Japanese","English"],isVerified:!0,compatibilityScore:92,compatibilityReason:"Shared love for food and photography.",housePhotos:["https://images.unsplash.com/photo-1560185007-c5ca9d2c015d?q=80&w=400"],hostingPolicy:"Small Fee",maxGuests:2,reviews:[],offeredExperiences:[]},{id:"2",profileType:l,name:"Marco",age:34,location:`Trastevere, ${t}`,avatarUrl:"https://images.unsplash.com/photo-1552058544-f2b08422138a?q=80&w=200",bio:"Let's grab an espresso and explore ancient ruins. I enjoy deep conversations and long walks.",interests:["History","Art","Coffee"],languages:["Italian","English"],isVerified:!1,compatibilityScore:85,compatibilityReason:"A great match for cultural exploration.",housePhotos:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=400"],hostingPolicy:"Free",maxGuests:1,reviews:[],offeredExperiences:[]}])),C5=async(t,e)=>(console.log("STUB: getHangoutSuggestions called"),Promise.resolve([{title:"Explore a Local Market",description:"Let's wander through the nearby market and grab some local snacks.",location:"Central Market",estimatedCost:"$10-20"},{title:"Coffee & Chat",description:"I know a great little cafe where we can chat and get to know each other.",location:"The Corner Grind",estimatedCost:"Under $10"},{title:"Scenic Viewpoint Walk",description:"There's a beautiful viewpoint not too far away. We could take a walk and enjoy the scenery.",location:"Sunset Hill",estimatedCost:"Free"}])),w5=async t=>(console.log("STUB: getAIVoyageMissions called"),Promise.resolve([{title:"Culinary Quest in Italy",description:"Explore the foodie scene in Rome and learn to make pasta.",destination:"Rome, Italy",badgeToUnlock:"foodie-explorer",pointsToEarn:300},{title:"Connect in Kyoto",description:"Stay with a local host and discover the hidden temples of Kyoto.",destination:"Kyoto, Japan",badgeToUnlock:"explorer-buddy",pointsToEarn:500},{title:"Remote Work in Bali",description:"Book a coworking space and experience the digital nomad life in Canggu.",destination:"Canggu, Bali",badgeToUnlock:"digital-nomad",pointsToEarn:400}])),j5=async t=>(console.log("STUB: getTravelTrends called"),Promise.resolve([{id:"1",destination:"Albanian Riviera",image:"https://images.unsplash.com/photo-1617373258398-63a48e7e2b6a?q=80&w=400",trendScore:88,monthlyGrowth:150,category:"Hidden Gem",socialProof:[{platform:"TikTok",value:"2.1M Views"}],personalizationReason:"A perfect hidden gem for your adventurous spirit."},{id:"2",destination:"Seoul, South Korea",image:"https://images.unsplash.com/photo-1534275336963-441a5d61d011?q=80&w=400",trendScore:95,monthlyGrowth:120,category:"City Break",socialProof:[{platform:"Instagram",value:"+1.5M Posts"}],personalizationReason:"Your interest in culture and food makes Seoul a great fit."}])),A5=async(t,e,l)=>{try{const a=`You are an AI travel assistant acting as a local expert for ${t}.
Your primary task is to identify the most popular, real-world applications (apps) that locals and tourists use for food delivery and ride-hailing in this city.

1.  First, populate the \`availableApps\` array with the top 2-4 apps for 'Food Delivery' and 2-4 for 'Ride-Hailing'. Provide a brief, helpful description for each app.
2.  Then, generate personalized suggestions for restaurants and rides.
3.  CRITICAL: The \`provider\` for each restaurant and the \`serviceName\` for each ride option MUST EXACTLY match one of the app names you identified in the \`availableApps\` list. For example, if you list 'Uber Eats', then some restaurants must have 'Uber Eats' as their provider.
4.  Base your personalized suggestions on the user's profile and trip context.

User Profile:
- Favorite Destinations (Interests): ${e.favoriteDestinations.join(", ")||"None"}
- Budget: Prefers mid-range options.

Saved Trips Context:
${l.length>0?l.slice(0,2).map(g=>`- ${g.name}`).join(`
`):"None"}
`,f=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:a,config:{responseMimeType:"application/json",responseSchema:n5}})).text.trim();return JSON.parse(f)}catch(a){throw Rt(a,`Could not find services for ${t}. Please try a different city.`)}},Qp=async t=>{try{const e=`You are a creative social media manager for a travel enthusiast. Based on the following travel memory, generate a short, engaging caption and a set of relevant hashtags for an Instagram or Facebook post. The tone should be personal, friendly, and inspiring. Use emojis.

        Travel Memory Title: "${t.title}"
        Travel Memory Summary: "${t.narrativeSummary}"
        `,a=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{responseMimeType:"application/json",responseSchema:s5}})).text.trim();return JSON.parse(a)}catch(e){throw Rt(e,"Could not generate a social media post suggestion.")}},E5=async(t,e,l)=>(console.log("STUB: generateHangoutRequestMessage called"),Promise.resolve(`Hey ${e.name}! I'm visiting soon and saw your profile. I'd love to take you up on your suggestion to "${l.title}". It sounds like a great way to experience the city. Let me know if you might be free!`)),M5=async(t,e)=>{var l;try{const a=`
            You are a data generation engine for a travel app. Your task is to generate a list of 5-8 fictional but highly realistic coworking spaces in ${t}.
            The addresses must be real-looking street addresses within the specified location.
            Tailor the "aiInsight" and "networkingOpportunity" to a traveler with the following preferences:
            - Interests: ${((l=e.favoriteDestinations)==null?void 0:l.join(", "))||"general travel"}
            - Budget: ${e.budget.hotelMaxPrice?`around $${e.budget.hotelMaxPrice}/night for accommodation, so mid-range coworking is good`:"mid-range"}

            Generate realistic details for each space, including amenities, pricing, and user reviews.
            Use license-free image URLs from Unsplash, Pexels, etc., for modern office or coworking interiors.
        `,f=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:a,config:{responseMimeType:"application/json",responseSchema:i5}})).text.trim();return JSON.parse(f).spaces}catch(a){throw Rt(a,"Could not find coworking spaces at this time. The AI service may be temporarily unavailable.")}},R5=async t=>{try{const e=`You are a budget travel expert. Analyze the following travel itinerary and suggest 2-4 specific, actionable ways to save money without significantly compromising the experience. Focus on suggesting alternative activities, dining options, or transport methods.

        **Itinerary to Analyze:**
        - Destination: ${t.destination}
        - Duration: ${t.itinerary.length} days
        - Total Budget: $${t.totalBudget}
        - Interests: ${t.interests}
        - Daily Plan Summary: ${t.itinerary.map(f=>`Day ${f.day}: ${f.morning.locationName}, ${f.afternoon.locationName}, ${f.evening.locationName}`).join("; ")}

        For each suggestion, provide a clear alternative and a realistic estimated saving in USD.
        `,a=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{responseMimeType:"application/json",responseSchema:l5}})).text.trim();return JSON.parse(a).optimizations}catch(e){throw Rt(e,"Could not generate budget optimizations at this time.")}},k5=async(t,e)=>{try{const l=`You are a proactive AI travel assistant. Based on the user's profile and their saved trips, generate exactly 2 personalized and actionable "next step" suggestions for their home dashboard. The suggestions should be diverse and encourage exploration of the app's features.

        **User Profile:**
        - Favorite Destinations/Interests: ${t.favoriteDestinations.join(", ")||"None"}
        - Budget level: ${t.budget.hotelMaxPrice?"Mid-range to Luxury":"Budget-conscious"}

        **Saved Trips:**
        ${e.length>0?e.map(h=>`- ${h.name}`).join(`
`):"No saved trips yet."}

        **Example Suggestions:**
        - If they have no trips, suggest they use the 'Inspire' tab.
        - If they have a saved search, suggest they build an itinerary for it in the 'Planner'.
        - If they have an itinerary, suggest they find a 'Travel Buddy' for it.
        - If they have mentioned an interest in food, suggest they explore 'Super Services' for their next trip.

        Generate the suggestions now.`,u=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:l,config:{responseMimeType:"application/json",responseSchema:a5}})).text.trim();return JSON.parse(u).suggestions}catch(l){throw Rt(l,"Could not generate home suggestions at this time.")}},_5=async(t,e)=>{try{if(e.length===0)return"No answers available to summarize.";const l=`You are an AI assistant that summarizes community discussions.
        Analyze the following travel-related question and the answers provided by the community.
        Provide a concise, helpful summary that synthesizes the key points from the answers. The summary should directly address the user's question.

        **Question:**
        "${t}"

        **Community Answers:**
        ${e.map(f=>`- "${f}"`).join(`
`)}

        **Your Summary:**`,u=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:l})).text.trim();if(!u)throw new Error("The AI returned an empty summary.");return u}catch(l){throw Rt(l,"Could not generate a summary for the Q&A.")}},D5=async t=>{try{const e=`You are a sophisticated flight tracking data aggregator. Your task is to provide a complete, realistic, real-time flight status report for the flight number: "${t}".
        Simulate data as if you are fetching it from multiple sources like FlightAware, FlightRadar24, and the airline's own API.
        
        CRITICAL INSTRUCTIONS:
        - The current date is ${new Date().toISOString()}. All scheduled and actual times should be realistic relative to this date.
        - Generate all fields in the provided schema, including realistic latitude/longitude for airports, and if the flight is 'En Route', provide a plausible live position.
        - **Waypoints**: If the flight status is 'En Route', you MUST generate a 'waypoints' array containing 5-7 intermediate geographical points along the great-circle path from departure to arrival. Each waypoint must have a realistic latitude, longitude, an estimated time of arrival (ETA) in ISO 8601 format, and its corresponding flight progress percentage. If the status is NOT 'En Route', this array MUST be empty.
        - The 'aiSummary' must be a human-friendly, concise summary of the flight's current situation.
        - If the flight is delayed, the summary should explain the reason (e.g., weather, technical issue).
        - If the flight is cancelled, provide a plausible reason in the summary.
        - Ensure airport names, IATA codes, and city names are accurate.
        `,a=(await Mt.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{responseMimeType:"application/json",responseSchema:o5}})).text.trim();return JSON.parse(a)}catch(e){throw Rt(e,`Could not find real-time data for flight ${t}. Please check the flight number and try again.`)}},I5=({flight:t,onBookFlight:e,isSelected:l,onSelectFlight:a})=>s.jsxs("div",{onClick:()=>a(t),className:`bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden border-2 cursor-pointer relative ${l?"border-blue-500":"border-slate-200 hover:border-slate-300"}`,children:[l&&s.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full h-6 w-6 flex items-center justify-center z-10",children:s.jsx(k,{name:"check",className:"h-4 w-4"})}),t.rankingReason&&s.jsxs("div",{className:"bg-green-100 text-green-800 text-xs font-semibold px-4 py-2 flex items-center border-b border-green-200",children:[s.jsx(k,{name:"sparkles",className:"h-4 w-4 mr-2 text-green-600"}),"AI Recommendation: ",t.rankingReason]}),s.jsxs("div",{className:"p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(k,{name:"flight",className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-800",children:t.airline}),s.jsxs("p",{className:"text-sm text-slate-500",children:["Flight ",t.flightNumber," ",t.provider&&s.jsxs("span",{className:"font-semibold",children:["via ",t.provider]})]})]})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-1 sm:space-x-2 text-sm text-slate-600",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("p",{className:"font-bold text-base sm:text-lg",children:t.departureAirport}),s.jsx("p",{className:"text-xs",children:t.departureTime})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center text-slate-400 px-1",children:[s.jsx("p",{className:"text-xs mb-1 whitespace-nowrap",children:t.duration}),s.jsxs("div",{className:"w-full h-px bg-slate-300 relative",children:[s.jsx(k,{name:"takeoff",className:"h-4 w-4 absolute -left-1 -top-[7px] bg-white"}),s.jsx(k,{name:"landing",className:"h-4 w-4 absolute -right-1 -top-[7px] bg-white"})]}),s.jsx("p",{className:"text-xs mt-1 text-orange-500 font-medium",children:t.stops>0?`${t.stops} stop(s)`:"Direct"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("p",{className:"font-bold text-base sm:text-lg",children:t.arrivalAirport}),s.jsx("p",{className:"text-xs",children:t.arrivalTime})]})]}),t.negotiationTip&&s.jsx("div",{className:"mt-4 bg-amber-50 p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(k,{name:"sparkles",className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-amber-800",children:"AI Negotiation Tip"}),s.jsx("p",{className:"text-xs text-amber-700",children:t.negotiationTip})]})]})})]}),s.jsxs("div",{className:"w-full sm:w-auto mt-4 sm:mt-0 sm:ml-6 flex-shrink-0 text-center sm:text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["$",t.price.toLocaleString()]}),s.jsx("p",{className:"text-sm text-slate-500",children:"per person"}),t.pricePrediction&&s.jsxs("div",{className:`mt-2 inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${t.pricePrediction.recommendation==="Buy Now"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[s.jsx(k,{name:t.pricePrediction.recommendation==="Buy Now"?"arrow-up-right":"arrow-down-right",className:"mr-1 h-3 w-3"}),t.pricePrediction.recommendation,": ",t.pricePrediction.reason]}),e?s.jsx("button",{onClick:u=>{u.stopPropagation(),e&&e(t)},className:"mt-2 w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Book Now"}):s.jsx("a",{href:t.affiliateLink,target:"_blank",rel:"noopener noreferrer",onClick:u=>u.stopPropagation(),className:"mt-2 w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Deal"})]})]})]}),L5=it.memo(I5),Se=()=>s.jsx("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] text-blue-600 motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status",children:s.jsx("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})}),op=({rating:t,className:e="h-5 w-5"})=>s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((l,a)=>s.jsx(k,{name:"star",className:`${e} ${a<Math.round(t)?"text-yellow-400":"text-slate-300"}`},a))}),U5=({stay:t,onClose:e})=>{const[l,a]=w.useState([]),[u,f]=w.useState(!0),[h,g]=w.useState(null),[x,p]=w.useState(!1),[v,b]=w.useState(null);w.useEffect(()=>{document.body.classList.add("overflow-hidden");const j=M=>{M.key==="Escape"&&e()};return window.addEventListener("keydown",j),(async()=>{f(!0);try{const M=await x5(t.name,t.location);a(M)}catch(M){console.error("Failed to fetch attractions:",M)}finally{f(!1)}})(),()=>{document.body.classList.remove("overflow-hidden"),window.removeEventListener("keydown",j)}},[t,e]);const N=async()=>{p(!0),b(null),g(null);try{const j=await y5(t.name,t.location);g(j)}catch(j){b(j instanceof Error?j.message:"An unknown error occurred.")}finally{p(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4","aria-labelledby":"stay-details-title",role:"dialog","aria-modal":"true",onClick:e,children:s.jsxs("div",{className:"bg-slate-50 rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:j=>j.stopPropagation(),children:[s.jsxs("header",{className:"relative h-64",children:[s.jsx("img",{className:"w-full h-full object-cover rounded-t-xl",src:t.imageUrl||"https://picsum.photos/800/400",alt:t.name}),s.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-75","aria-label":"Close details",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),s.jsxs("main",{className:"overflow-y-auto p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:t.stayType}),s.jsx("h2",{id:"stay-details-title",className:"text-3xl font-bold text-slate-800",children:t.name}),s.jsx("p",{className:"mt-1 text-slate-600",children:t.location}),s.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[s.jsx(op,{rating:t.rating}),s.jsxs("span",{className:"font-bold text-slate-700",children:[t.rating.toFixed(1),t.reviews&&t.reviews.length>0&&` (${t.reviews.length} reviews)`]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2 mb-3",children:"Amenities"}),s.jsx("ul",{className:"flex flex-wrap gap-2",children:t.amenities.map(j=>s.jsxs("li",{className:"flex items-center text-sm bg-slate-200 text-slate-700 px-3 py-1 rounded-full",children:[s.jsx(k,{name:"check-circle",className:"h-4 w-4 mr-2 text-green-600"}),j]},j))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2 mb-3",children:"User Reviews"}),t.reviews&&t.reviews.length>0?s.jsx("div",{className:"space-y-4 max-h-48 overflow-y-auto pr-2",children:t.reviews.map((j,A)=>s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-semibold text-sm text-slate-800",children:j.user}),s.jsx(op,{rating:j.rating,className:"h-4 w-4"})]}),s.jsxs("p",{className:"text-sm text-slate-600 mt-2 italic",children:['"',j.comment,'"']})]},A))}):s.jsx("p",{className:"text-sm text-slate-500",children:"No reviews available for this stay yet."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 border-b border-slate-200 pb-2 mb-3",children:"AI-Powered Insights"}),s.jsxs("div",{className:"space-y-4",children:[t.negotiationTip&&s.jsx("div",{className:"bg-amber-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(k,{name:"lightbulb",className:"h-6 w-6 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-amber-800",children:"AI Negotiation Tip"}),s.jsx("p",{className:"text-sm text-slate-700 mt-1",children:t.negotiationTip})]})]})}),s.jsx("div",{className:"bg-amber-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(k,{name:"sparkles",className:"h-6 w-6 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-amber-800",children:"Nearby Attractions"}),u?s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(Se,{}),s.jsx("span",{className:"text-sm text-slate-600",children:"Finding points of interest..."})]}):l.length>0?s.jsx("ul",{className:"mt-2 space-y-2",children:l.map((j,A)=>s.jsxs("li",{children:[s.jsx("p",{className:"font-semibold text-sm text-slate-800",children:j.name}),s.jsx("p",{className:"text-xs text-slate-600",children:j.description})]},A))}):s.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Could not find specific attractions nearby."})]})]})}),s.jsx("div",{className:"bg-amber-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(k,{name:"moon",className:"h-6 w-6 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-semibold text-amber-800",children:"Local Vibe Analysis"}),!h&&!x&&!v&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-slate-700 mt-1",children:"Curious about the neighborhood's atmosphere after dark? Let our AI analyze it for you."}),s.jsx("button",{onClick:N,className:"mt-3 inline-flex items-center px-3 py-1.5 border border-amber-300 text-xs font-medium rounded-md shadow-sm text-amber-800 bg-white hover:bg-amber-100",children:"Analyze Vibe at Night"})]}),x&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(Se,{}),s.jsx("span",{className:"text-sm text-slate-600",children:"Analyzing neighborhood vibe..."})]}),v&&s.jsx("p",{className:"text-sm text-red-600 mt-2",children:v}),h&&s.jsxs("div",{className:"mt-2 animate-fade-in-up",children:[s.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:h.description}),h.sources&&h.sources.length>0&&s.jsxs("div",{className:"mt-3 pt-2 border-t border-amber-200",children:[s.jsx("h5",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Sources"}),s.jsx("ul",{className:"mt-1 space-y-1",children:h.sources.slice(0,3).map((j,A)=>s.jsx("li",{children:s.jsx("a",{href:j.uri,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline truncate block",children:j.title||j.uri})},A))})]})]})]})]})})]})]})]})]}),s.jsxs("footer",{className:"p-4 sm:p-6 border-t border-slate-200 bg-white rounded-b-xl flex flex-col sm:flex-row sm:justify-end sm:items-center gap-4",children:[s.jsxs("div",{className:"text-center sm:text-right sm:mr-6",children:[s.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:["$",t.pricePerNight.toLocaleString()]}),s.jsx("p",{className:"text-sm text-slate-500",children:"per night"})]}),s.jsx("a",{href:t.affiliateLink||"#",target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Book Now"})]})]})})},rp=({rating:t,className:e="h-4 w-4"})=>s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((l,a)=>s.jsx(k,{name:"star",className:`${e} ${a<Math.round(t)?"text-yellow-400":"text-slate-300"}`},a))}),P5=({stay:t,onBookStay:e})=>{const[l,a]=w.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden border border-slate-200 flex flex-col sm:flex-row",children:[s.jsx("div",{className:"sm:w-1/3 h-48 sm:h-auto",children:s.jsx("img",{className:"w-full h-full object-cover",src:t.imageUrl||"https://picsum.photos/400/300",alt:t.name})}),s.jsxs("div",{className:"flex flex-col justify-between flex-1",children:[t.rankingReason&&s.jsxs("div",{className:"bg-green-100 text-green-800 text-xs font-semibold px-4 py-2 flex items-center border-b border-green-200",children:[s.jsx(k,{name:"sparkles",className:"h-4 w-4 mr-2 text-green-600"}),"AI Recommendation: ",t.rankingReason]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-blue-600 font-semibold",children:[t.stayType," in ",t.location," ",t.provider&&s.jsxs("span",{className:"font-normal text-slate-500",children:["on ",t.provider]})]}),s.jsx("h3",{className:"text-xl font-bold text-slate-800 mt-1",children:t.name}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(rp,{rating:t.rating}),s.jsxs("span",{className:"ml-2 text-sm text-slate-600",children:[t.rating.toFixed(1),t.reviews&&t.reviews.length>0&&` (${t.reviews.length} reviews)`]})]}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:t.amenities.slice(0,3).map(u=>s.jsx("span",{className:"text-xs bg-slate-100 text-slate-700 px-2 py-1 rounded-full",children:u},u))}),t.reviews&&t.reviews.length>0?s.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-3",children:[s.jsxs("p",{className:"text-sm text-slate-600 italic",children:['"',t.reviews[0].comment,'"']}),s.jsxs("div",{className:"flex justify-end items-center mt-1",children:[s.jsxs("p",{className:"text-xs text-slate-500 font-medium mr-2",children:["- ",t.reviews[0].user]}),s.jsx(rp,{rating:t.reviews[0].rating,className:"h-3 w-3"})]})]}):s.jsx("div",{className:"mt-4 border-t border-slate-200 pt-3",children:s.jsx("p",{className:"text-sm text-slate-500 italic",children:"No user reviews available yet."})}),t.negotiationTip&&s.jsx("div",{className:"mt-4 bg-amber-50 p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(k,{name:"sparkles",className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-amber-800",children:"AI Negotiation Tip"}),s.jsx("p",{className:"text-xs text-amber-700",children:t.negotiationTip})]})]})})]}),s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between sm:items-end gap-4",children:[s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["$",t.pricePerNight.toLocaleString()]}),s.jsx("p",{className:"text-sm text-slate-500",children:"per night"})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx("button",{onClick:()=>a(!0),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md shadow-sm text-slate-700 bg-white hover:bg-slate-50",children:"Details"}),e?s.jsx("button",{onClick:()=>e(t),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Book Now"}):s.jsx("a",{href:t.affiliateLink,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"View Deal"})]})]})]})]})]}),l&&s.jsx(U5,{stay:t,onClose:()=>a(!1)})]})},B5=it.memo(P5),G5=({car:t,onBookCar:e})=>{const l=a=>{switch(a){case"Electric":return"bolt";case"Hybrid":return"bolt";default:return"fuel"}};return s.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden border border-slate-200 flex flex-col sm:flex-row",children:[s.jsx("div",{className:"sm:w-1/3 h-48 sm:h-auto bg-slate-100 flex items-center justify-center",children:s.jsx("img",{className:"w-full h-full object-cover",src:t.imageUrl||"https://picsum.photos/400/300?car",alt:`${t.make} ${t.model}`})}),s.jsxs("div",{className:"flex flex-col justify-between flex-1",children:[t.rankingReason&&s.jsxs("div",{className:"bg-green-100 text-green-800 text-xs font-semibold px-4 py-2 flex items-center border-b border-green-200",children:[s.jsx(k,{name:"sparkles",className:"h-4 w-4 mr-2 text-green-600"}),"AI Recommendation: ",t.rankingReason]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-blue-600 font-semibold",children:[t.carType," from ",t.company," ",t.provider&&s.jsxs("span",{className:"font-normal text-slate-500",children:["via ",t.provider]})]}),s.jsxs("h3",{className:"text-xl font-bold text-slate-800 mt-1",children:[t.make," ",t.model]})]}),t.recommendation&&s.jsx("span",{className:"text-xs bg-green-100 text-green-800 font-semibold px-2 py-1 rounded-full whitespace-nowrap",children:t.recommendation})]}),s.jsxs("div",{className:"flex items-center mt-2",children:[[...Array(5)].map((a,u)=>s.jsx(k,{name:"star",className:`h-4 w-4 ${u<Math.round(t.rating)?"text-yellow-400":"text-slate-300"}`},u)),s.jsx("span",{className:"ml-2 text-sm text-slate-600",children:t.rating.toFixed(1)})]}),s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 border-t border-slate-200 pt-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(k,{name:"users",className:"h-5 w-5 mr-2 text-slate-500"}),t.passengers," Passengers"]}),s.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[s.jsx(k,{name:l(t.fuelType),className:"h-5 w-5 mr-2 text-slate-500"}),t.fuelType]})]}),t.negotiationTip&&s.jsx("div",{className:"mt-4 bg-amber-50 p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(k,{name:"sparkles",className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-amber-800",children:"AI Negotiation Tip"}),s.jsx("p",{className:"text-xs text-amber-700",children:t.negotiationTip})]})]})})]}),s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["$",t.pricePerDay.toLocaleString()]}),s.jsx("p",{className:"text-sm text-slate-500",children:"per day"})]}),e?s.jsx("button",{onClick:()=>e(t),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Book Now"}):s.jsx("a",{href:t.affiliateLink,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Deal"})]})]})]})]})},V5=it.memo(G5),q5=({flights:t,onClose:e,onBookFlight:l})=>{const a=w.useMemo(()=>{if(t.length===0)return null;const g=Math.min(...t.map(b=>b.price)),x=Math.min(...t.map(b=>b.stops)),p=b=>{const N=b.match(/(\d+)h\s*(\d*)m?/);if(!N)return 1/0;const j=parseInt(N[1]||"0",10),A=parseInt(N[2]||"0",10);return j*60+A},v=Math.min(...t.map(b=>p(b.duration)));return{minPrice:g,minStops:x,minDuration:v,getMinutes:p}},[t]),u=[{key:"airline",label:"Airline"},{key:"price",label:"Price"},{key:"duration",label:"Duration"},{key:"stops",label:"Stops"},{key:"departureTime",label:"Departure"},{key:"arrivalTime",label:"Arrival"},{key:"provider",label:"Provider"}],f=(g,x)=>{switch(x){case"price":return`$${g.price.toLocaleString()}`;case"stops":return g.stops===0?"Direct":`${g.stops} stop(s)`;default:return g[x]}},h=(g,x)=>{if(!a)return"";let p=!1;switch(x){case"price":p=g.price===a.minPrice;break;case"stops":p=g.stops===a.minStops;break;case"duration":p=a.getMinutes(g.duration)===a.minDuration;break}return p?"bg-green-100 text-green-800 font-bold":""};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center p-4 animate-fade-in",onClick:e,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[s.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Compare Flights"}),s.jsx("button",{onClick:e,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),s.jsx("main",{className:"flex-grow overflow-auto p-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[600px] border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left text-sm font-semibold text-slate-600 bg-slate-50 sticky left-0 z-10 w-32",children:"Feature"}),t.map((g,x)=>s.jsxs("th",{className:"p-3 text-left text-sm font-semibold text-slate-800 border-l border-slate-200",children:[g.airline,s.jsx("div",{className:"text-xs font-normal text-slate-500",children:g.flightNumber})]},x))]})}),s.jsxs("tbody",{className:"divide-y divide-slate-200",children:[u.map(g=>s.jsxs("tr",{children:[s.jsx("td",{className:"p-3 text-sm font-medium text-slate-800 bg-slate-50 sticky left-0 z-10 w-32",children:g.label}),t.map((x,p)=>s.jsx("td",{className:`p-3 text-sm text-slate-700 border-l border-slate-200 transition-colors ${h(x,g.key)}`,children:f(x,g.key)},p))]},g.key)),s.jsxs("tr",{children:[s.jsx("td",{className:"p-3 text-sm font-medium text-slate-800 bg-slate-50 sticky left-0 z-10 w-32"}),t.map((g,x)=>s.jsx("td",{className:"p-3 text-sm text-slate-700 border-l border-slate-200",children:l?s.jsx("button",{onClick:()=>l(g),className:"w-full px-3 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Book Now"}):s.jsx("a",{href:g.affiliateLink,target:"_blank",rel:"noopener noreferrer",className:"block text-center w-full px-3 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"View Deal"})},x))]})]})]})})})]})})},gc=5,F5=({results:t,isLoading:e,error:l,onBookFlight:a,onBookStay:u,onBookCar:f})=>{const[h,g]=w.useState(gc),[x,p]=w.useState([]),[v,b]=w.useState(!1),N=t.some(U=>U.type==="flight");w.useEffect(()=>{g(gc),p([]),b(!1)},[t]);const j=U=>{p(B=>B.some(q=>q.flightNumber===U.flightNumber&&q.departureTime===U.departureTime&&q.price===U.price)?B.filter(q=>!(q.flightNumber===U.flightNumber&&q.departureTime===U.departureTime&&q.price===U.price)):[...B,U])},A=()=>{p([])};if(e)return s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-10",children:[s.jsx(Se,{}),s.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Finding the best deals for you..."}),s.jsx("p",{className:"text-slate-500",children:"This may take a moment."})]});if(l)return s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-10 bg-red-50 border-2 border-red-200 rounded-lg",children:[s.jsx(k,{name:"error",className:"h-12 w-12 text-red-500"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-800",children:"Oops! Something went wrong."}),s.jsx("p",{className:"mt-2 text-sm text-red-600",children:l})]});if(t.length===0)return s.jsxs("div",{className:"text-center p-10",children:[s.jsx(k,{name:"search",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No results found"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Try adjusting your search or using the chat assistant."})]});const M=()=>{g(U=>U+gc)},I=t.slice(0,h),R=h<t.length;return s.jsxs("div",{className:"space-y-4",children:[N&&s.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md text-sm text-blue-800",children:[s.jsx(k,{name:"info",className:"inline h-4 w-4 mr-2"}),"Click on flight cards to select them for a side-by-side comparison."]}),I.map((U,B)=>{if(U.type==="flight"){const D=x.some(q=>q.flightNumber===U.flightNumber&&q.departureTime===U.departureTime&&q.price===U.price);return s.jsx(L5,{flight:U,onBookFlight:a,isSelected:D,onSelectFlight:j},`${U.flightNumber}-${B}`)}return U.type==="stay"?s.jsx(B5,{stay:U,onBookStay:u},`${U.name}-${B}`):U.type==="car"?s.jsx(V5,{car:U,onBookCar:f},`${U.make}-${U.model}-${B}`):null}),R&&s.jsx("div",{className:"text-center pt-4",children:s.jsx("button",{onClick:M,className:"w-full sm:w-auto inline-flex items-center justify-center px-6 py-2 border border-slate-300 text-sm font-medium rounded-md shadow-sm text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Load More Results"})}),x.length>0&&s.jsx("div",{className:"sticky bottom-4 inset-x-0 flex justify-center z-10 animate-fade-in-up",children:s.jsxs("div",{className:"bg-white p-3 rounded-full shadow-lg flex items-center gap-4 border border-slate-200",children:[s.jsxs("span",{className:"font-semibold text-sm text-slate-700",children:[x.length," flight",x.length>1?"s":""," selected"]}),s.jsx("button",{onClick:()=>b(!0),disabled:x.length<2,className:"px-4 py-2 text-sm font-medium rounded-full text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 disabled:cursor-not-allowed",children:"Compare"}),s.jsx("button",{onClick:A,className:"text-sm text-slate-500 hover:text-slate-700",children:"Clear"})]})}),v&&s.jsx(q5,{flights:x,onClose:()=>b(!1),onBookFlight:a})]})},Xp=it.memo(F5),qa=({message:t})=>s.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-75 z-50 flex flex-col justify-center items-center backdrop-blur-sm animate-fade-in",role:"status","aria-live":"polite",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-xl text-center flex flex-col items-center",children:[s.jsx(k,{name:"logo",className:"h-12 w-12 text-blue-600 animate-pulse"}),s.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-800",children:t}),s.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"This may take a few moments, please don't close the window."}),s.jsx("div",{className:"mt-6",children:s.jsx(Se,{})})]})}),H5=({suggestions:t,onSelect:e})=>s.jsxs("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg border border-indigo-200 w-full animate-fade-in-up",children:[s.jsxs("h4",{className:"text-base font-semibold text-slate-800 flex items-center",children:[s.jsx(k,{name:"lightbulb",className:"h-5 w-5 mr-2 text-indigo-500"}),"Smart Suggestions"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Consider these nearby alternatives that could save you time or money."}),s.jsx("div",{className:"mt-3 space-y-3",children:t.map((l,a)=>s.jsxs("div",{className:"bg-white p-3 rounded-md border border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-semibold text-sm text-slate-800",children:l.alternativeLocationName}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:l.reason}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-2 text-xs",children:[l.estimatedCostSaving&&s.jsxs("span",{className:"flex items-center font-medium text-green-700",children:[s.jsx(k,{name:"money",className:"h-4 w-4 mr-1.5"}),l.estimatedCostSaving]}),l.estimatedTimeDifference&&s.jsxs("span",{className:"flex items-center font-medium text-amber-700",children:[s.jsx(k,{name:"clock",className:"h-4 w-4 mr-1.5"}),l.estimatedTimeDifference]})]})]}),s.jsx("button",{onClick:()=>e(l),className:"w-full sm:w-auto flex-shrink-0 inline-flex items-center justify-center px-3 py-1.5 border border-indigo-300 text-xs font-medium rounded-md shadow-sm text-indigo-700 bg-white hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Search This Instead"})]},a))})]}),z5=it.memo(H5),O5=({suggestions:t,onSelect:e})=>s.jsxs("div",{className:"mt-4 p-4 bg-green-50 rounded-lg border border-green-200 w-full animate-fade-in-up",children:[s.jsxs("h4",{className:"text-base font-semibold text-slate-800 flex items-center",children:[s.jsx(k,{name:"compass",className:"h-5 w-5 mr-2 text-green-600"}),"Here are some ideas for what you can do right now:"]}),s.jsx("div",{className:"mt-3 space-y-3",children:t.map((l,a)=>s.jsxs("div",{className:"bg-white p-3 rounded-md border border-slate-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 transition-shadow hover:shadow-md",children:[s.jsxs("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-semibold text-sm text-slate-800",children:l.name}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:l.reason}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-2 text-xs border-t border-slate-100 pt-2",children:[l.travelTime&&s.jsxs("span",{className:"flex items-center font-medium text-slate-600",children:[s.jsx(k,{name:"clock",className:"h-4 w-4 mr-1.5"}),l.travelTime]}),l.openingHours&&s.jsxs("span",{className:"flex items-center font-medium text-slate-600",children:[s.jsx(k,{name:"check-circle",className:"h-4 w-4 mr-1.5 text-green-500"}),l.openingHours]})]})]}),s.jsx("button",{onClick:()=>e(l),className:"w-full sm:w-auto flex-shrink-0 inline-flex items-center justify-center px-3 py-1.5 border border-green-300 text-xs font-medium rounded-md shadow-sm text-green-700 bg-white hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Let's go!"})]},a))})]}),$5=it.memo(O5),Y5=t=>new Promise((e,l)=>{const a=new FileReader;a.readAsDataURL(t),a.onload=()=>e(a.result.split(",")[1]),a.onerror=u=>l(u)}),J5=({onSaveTrip:t,userProfile:e,savedTrips:l,onBookFlight:a,onBookStay:u,onBookCar:f})=>{const[h,g]=w.useState([{id:"initial",sender:"ai",text:"Hello! I'm your FlyWise.AI assistant. How can I help you plan your trip today? You can ask for flights, hotels, or car rentals. Try: 'Find an SUV in Los Angeles from tomorrow for 5 days.'"}]),[x,p]=w.useState(""),[v,b]=w.useState(!1),[N,j]=w.useState(""),[A,M]=w.useState(null),[I,R]=w.useState("idle"),U=w.useRef(null),B=w.useRef(null);w.useEffect(()=>{var te;(te=U.current)==null||te.scrollIntoView({behavior:"smooth"})},[h]);const D=w.useCallback(async te=>{var re,ae;b(!0),j("Analyzing your travel request...");try{const ye=await r5(te,e,l);j("Searching for the best deals...");const Ne={id:(Date.now()+1).toString(),sender:"ai",text:ye.analyzedQuery||"Okay, I've analyzed your request. Now, let's find some great deals for you."};g(ee=>[...ee,Ne]);const se=await c5(ye,e),F={id:(Date.now()+2).toString(),sender:"ai",text:se.summary||"Here's what I found for you:",results:[...se.flights||[],...se.stays||[],...se.cars||[]],analyzedQuery:ye.analyzedQuery,itinerarySnippet:se.itinerary_snippet};if(g(ee=>[...ee,F]),(re=se.flights)!=null&&re.length||(ae=se.stays)!=null&&ae.length){const ee={id:(Date.now()+3).toString(),sender:"ai",text:"Would you like me to find some alternative destinations for this trip?"};g(V=>[...V,ee]),R("awaiting_suggestion_response")}}catch(ye){const Ne=ye instanceof Error?ye.message:"An unknown error occurred.",se={id:(Date.now()+1).toString(),sender:"ai",text:`I'm sorry, but I encountered an issue processing your request. Please try rephrasing it. Error: ${Ne}`};g(F=>[...F,se])}finally{b(!1),j("")}},[e,l]),q=w.useCallback(async te=>{var ee;if(te.preventDefault(),!x.trim()&&!A||v)return;const re=x,ae=A;p(""),M(null);const ye={id:Date.now().toString(),sender:"user",text:re};if(ae){const V=await Y5(ae.file);ye.imageData={mimeType:ae.file.type,base64:V}}const Ne=[...h,ye];g(Ne);const se=/rain|cancel|change|instead|alternative for|what else|something else/i.test(re.trim()),F=(ee=l.find(V=>V.type==="itinerary"))==null?void 0:ee.data;if(se&&F){b(!0),j("Checking what's nearby...");try{const Z=await h5(Ne,e,F,{lat:48.8584,lng:2.2945});if(Z&&Z.length>0){const E={id:(Date.now()+1).toString(),sender:"ai",text:"I understand. Plans change! Based on your situation and what's nearby, here are a few ideas:",realTimeSuggestions:Z};g(O=>[...O,E])}else{const E={id:(Date.now()+1).toString(),sender:"ai",text:"I looked around but couldn't find any standout alternatives right now. Is there another way I can help?"};g(O=>[...O,E])}}catch(V){const Z=V instanceof Error?V.message:"An unknown error occurred.",E={id:(Date.now()+1).toString(),sender:"ai",text:`I'm sorry, I ran into an issue finding alternatives. Error: ${Z}`};g(O=>[...O,E])}finally{b(!1),j("")}return}if(I==="awaiting_suggestion_response"){if(/flight|hotel|car|find|search|look for|how about/i.test(re.trim())){R("idle"),await D(Ne);return}if(R("idle"),/yes|sure|ok|yeah|yep|why not|sounds good|do it/i.test(re.trim())){b(!0),j("Finding smart alternatives...");try{const E=await u5(Ne,e);if(E&&E.length>0){const O={id:(Date.now()+1).toString(),sender:"ai",text:"Great! Here are a few alternative ideas for your trip:",alternativeSuggestions:E};g(le=>[...le,O])}else{const O={id:(Date.now()+1).toString(),sender:"ai",text:"I looked around but couldn't find any standout alternatives for this particular search. Is there anything else I can help with?"};g(le=>[...le,O])}}catch(E){const O=E instanceof Error?E.message:"An unknown error occurred.",le={id:(Date.now()+1).toString(),sender:"ai",text:`I'm sorry, I ran into an issue finding alternatives. Error: ${O}`};g(ne=>[...ne,le])}finally{b(!1),j("")}}else{const E={id:(Date.now()+1).toString(),sender:"ai",text:"No problem! Let me know if there's anything else I can help plan."};g(O=>[...O,E])}}else await D(Ne)},[x,v,h,D,A,I,e,l]),Q=w.useCallback(te=>{const re=h.slice().reverse().find(se=>se.sender==="user");if(!re)return;const ae=re.text.replace(new RegExp(te.originalLocation,"i"),te.alternativeLocationName.split("(")[0].trim()),ye={id:Date.now().toString(),sender:"user",text:ae},Ne=[...h,ye];g(Ne),D(Ne)},[h,D]),ue=w.useCallback(te=>{const re={id:Date.now().toString(),sender:"user",text:`Great, let's go to ${te.name}. Can you give me directions?`},ae={id:(Date.now()+1).toString(),sender:"ai",text:`Of course! The address for ${te.name} is ${te.address}. I recommend using your favorite map application for the best route.`};g(ye=>[...ye,re,ae])},[]),ie=te=>{const re=te.analyzedQuery||"Saved Search";t({name:re,type:"search",data:te.results||[]})},X=te=>{if(te.target.files&&te.target.files[0]){const re=te.target.files[0];M({file:re,previewUrl:URL.createObjectURL(re)})}};return s.jsxs(s.Fragment,{children:[v&&s.jsx(qa,{message:N}),s.jsxs("div",{className:"flex flex-col h-[70vh] bg-white rounded-lg",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[h.map(te=>s.jsxs("div",{className:`flex items-start gap-4 ${te.sender==="user"?"justify-end":""}`,children:[te.sender==="ai"&&s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white",children:s.jsx(k,{name:"logo",className:"w-6 h-6"})}),s.jsxs("div",{className:`flex flex-col max-w-lg ${te.sender==="user"?"items-end":"items-start"}`,children:[s.jsxs("div",{className:`rounded-2xl p-4 ${te.sender==="user"?"bg-blue-500 text-white rounded-br-none":"bg-slate-100 text-slate-800 rounded-bl-none"}`,children:[te.imageData&&s.jsx("img",{src:`data:${te.imageData.mimeType};base64,${te.imageData.base64}`,alt:"User upload",className:"rounded-lg mb-2 max-h-48"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:te.text})]}),te.alternativeSuggestions&&te.alternativeSuggestions.length>0&&s.jsx("div",{className:"mt-4 w-full max-w-lg",children:s.jsx(z5,{suggestions:te.alternativeSuggestions,onSelect:Q})}),te.realTimeSuggestions&&te.realTimeSuggestions.length>0&&s.jsx("div",{className:"mt-4 w-full max-w-lg",children:s.jsx($5,{suggestions:te.realTimeSuggestions,onSelect:ue})}),te.itinerarySnippet&&s.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg border border-slate-200 w-full animate-fade-in-up",children:[s.jsxs("h4",{className:"text-base font-semibold text-slate-800 flex items-center",children:[s.jsx(k,{name:"lightbulb",className:"h-5 w-5 mr-2 text-indigo-500"}),"Activity Suggestions for ",te.itinerarySnippet.destination]}),s.jsx("ul",{className:"mt-3 space-y-3",children:te.itinerarySnippet.suggestions.map((re,ae)=>s.jsxs("li",{className:"border-t border-slate-200 pt-3 first:border-t-0 first:pt-0",children:[s.jsx("p",{className:"font-semibold text-sm text-slate-700",children:re.name}),s.jsx("p",{className:"text-sm text-slate-600",children:re.description})]},ae))})]}),te.results&&te.results.length>0&&s.jsxs("div",{className:"mt-4 w-full max-w-lg",children:[s.jsx(Xp,{results:te.results,isLoading:!1,error:null,onBookFlight:a,onBookStay:u,onBookCar:f}),s.jsxs("button",{onClick:()=>ie(te),className:"mt-4 w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md shadow-sm text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(k,{name:"bookmark",className:"mr-2 h-5 w-5"}),"Save to My Trips"]})]})]}),te.sender==="user"&&s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-600",children:s.jsx(k,{name:"user",className:"w-6 h-6"})})]},te.id)),s.jsx("div",{ref:U})]}),s.jsxs("div",{className:"border-t border-slate-200 p-4",children:[A&&s.jsxs("div",{className:"mb-2 flex items-center justify-between p-2 bg-slate-100 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:A.previewUrl,alt:"Selected preview",className:"h-10 w-10 rounded-md object-cover"}),s.jsx("span",{className:"text-xs text-slate-600 truncate",children:A.file.name})]}),s.jsx("button",{onClick:()=>M(null),className:"p-1 rounded-full hover:bg-slate-200 text-slate-500","aria-label":"Remove image",children:s.jsx(k,{name:"x-mark",className:"h-4 w-4"})})]}),s.jsxs("form",{onSubmit:q,className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsx("input",{type:"file",ref:B,onChange:X,accept:"image/png, image/jpeg, image/webp",className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>{var te;return(te=B.current)==null?void 0:te.click()},disabled:v,className:"inline-flex items-center justify-center h-12 w-12 rounded-full text-slate-500 bg-slate-100 hover:bg-slate-200 disabled:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex-shrink-0","aria-label":"Attach an image",children:s.jsx(k,{name:"image",className:"h-6 w-6"})}),s.jsx("input",{type:"text",value:x,onChange:te=>p(te.target.value),placeholder:"Ask me anything about your travel plans...",className:"flex-1 block w-full rounded-full border-transparent bg-slate-100 placeholder:text-slate-500 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm py-3 px-5",disabled:v}),s.jsx("button",{type:"submit",disabled:v||!x.trim()&&!A,className:"inline-flex items-center justify-center h-12 w-12 rounded-full text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex-shrink-0","aria-label":"Send message",children:s.jsx(k,{name:"send",className:"h-6 w-6"})})]})]})]})]})},K5=it.memo(J5),Fa=({markers:t,waypoints:e})=>{const l=w.useRef(null),a=w.useRef(null),u=w.useRef(null);return w.useEffect(()=>{if(!l.current)return;if(!a.current){const h=t.length>0?[t[0].lat,t[0].lng]:[51.505,-.09];a.current=L.map(l.current,{zoomControl:!1}).setView(h,13),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}).addTo(a.current),u.current=L.layerGroup().addTo(a.current)}if(u.current&&u.current.clearLayers(),t.length===0&&(!e||e.length===0))return;const f=L.latLngBounds([]);if(e&&e.length>0){const h=e.map(x=>[x.lat,x.lng]),g=L.polyline(h,{color:"#3b82f6",weight:3,opacity:.7,dashArray:"5, 10"});u.current.addLayer(g),e.forEach(x=>{const p=L.circleMarker([x.lat,x.lng],{radius:5,color:"white",weight:2,fillColor:"#3b82f6",fillOpacity:1}),v=new Date(x.eta).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});p.bindPopup(`<b>ETA: ${v}</b><br/>Progress: ${x.progressPercent}%`),u.current.addLayer(p),f.extend([x.lat,x.lng])})}t.forEach(h=>{const g=L.marker([h.lat,h.lng]).bindPopup(`<b>${h.name}</b><br>${h.activity}`);u.current.addLayer(g),f.extend([h.lat,h.lng])}),f.isValid()&&a.current.fitBounds(f.pad(.2))},[t,e]),t.length===0?s.jsx("div",{className:"text-center p-10 border-2 border-dashed border-slate-200 rounded-lg h-full flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-slate-500",children:"No specific locations were found in the itinerary to display on the map."})}):s.jsx("div",{ref:l,className:"w-full h-full","aria-label":"Map of itinerary activities"})},W5=({plan:t})=>{const[e,l]=w.useState(!0),[a,u]=w.useState([]),[f,h]=w.useState(null),[g,x]=w.useState(0);w.useEffect(()=>{(async()=>{l(!0),h(null),u([]);try{const N=await d5(t.destination,t.itinerary.length,t.interests||"",t.totalBudget);u(N),x(0)}catch(N){h(N instanceof Error?N.message:"Failed to generate images.")}finally{l(!1)}})()},[t]);const p=()=>{x(b=>b===0?a.length-1:b-1)},v=()=>{x(b=>b===a.length-1?0:b+1)};return s.jsxs("div",{className:"w-full aspect-video bg-slate-200 rounded-lg overflow-hidden flex items-center justify-center relative shadow-lg border border-slate-200",children:[e&&s.jsxs("div",{className:"flex flex-col items-center text-slate-600",children:[s.jsx(k,{name:"logo",className:"h-10 w-10 text-blue-500 animate-pulse"}),s.jsx("p",{className:"mt-2 text-sm font-medium",children:"Generating inspirational images..."})]}),f&&!e&&s.jsxs("div",{className:"flex flex-col items-center text-red-600 p-4 text-center",children:[s.jsx(k,{name:"error",className:"h-10 w-10"}),s.jsx("p",{className:"mt-2 text-sm font-medium",children:"Could not generate images."}),s.jsx("p",{className:"text-xs",children:f})]}),!e&&!f&&a.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("img",{src:`data:image/jpeg;base64,${a[g]}`,alt:`AI-generated image of ${t.destination} (${g+1} of ${a.length})`,className:"w-full h-full object-cover transition-opacity duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-black/10"}),a.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:p,className:"absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/40 text-white hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Previous image",children:s.jsx(k,{name:"chevron-left",className:"h-6 w-6"})}),s.jsx("button",{onClick:v,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/40 text-white hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Next image",children:s.jsx(k,{name:"chevron-right",className:"h-6 w-6"})}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:a.map((b,N)=>s.jsx("button",{onClick:()=>x(N),className:`h-2 rounded-full transition-all duration-300 ${g===N?"bg-white w-6":"bg-white/50 w-2 hover:bg-white/80"}`,"aria-label":`Go to image ${N+1}`},N))})]})]})]})},Q5=({dayForecast:t})=>{const e=a=>a==="storm"?"bolt":a,l=a=>{switch(a){case"sun":return"text-yellow-500";case"rain":return"text-blue-500";case"snow":return"text-sky-400";case"storm":return"text-slate-600";case"partly-cloudy":return"text-yellow-600";case"cloud":default:return"text-slate-500"}};return s.jsxs("div",{className:"flex-shrink-0 w-32 text-center p-4 bg-white/50 backdrop-blur-sm rounded-lg border border-white/30 shadow-md",children:[s.jsx("p",{className:"font-bold text-sm text-slate-800",children:t.day}),s.jsx(k,{name:e(t.icon),className:`h-10 w-10 mx-auto my-2 ${l(t.icon)}`}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-semibold text-slate-900",children:[t.highTemp,"°"]}),s.jsxs("span",{className:"text-slate-500",children:[" / ",t.lowTemp,"°"]})]}),s.jsx("p",{className:"text-xs text-slate-600 mt-1 capitalize",children:t.description})]})},Zp=({forecast:t})=>s.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg p-4 border border-blue-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center",children:[s.jsx(k,{name:"sun",className:"h-5 w-5 mr-2 text-blue-600"}),"Weather Forecast"]}),s.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-2 -mb-2",children:t.map((e,l)=>s.jsx(Q5,{dayForecast:e},l))})]}),X5=({plan:t,onSaveTrip:e})=>{const[l,a]=w.useState("list"),[u,f]=w.useState([]),[h,g]=w.useState(!1),[x,p]=w.useState(null),[v,b]=w.useState(!0),[N,j]=w.useState(null),[A,M]=w.useState(!1);w.useEffect(()=>{a("list"),f([]),p(null),b(!0),j(null),(async()=>{try{const q=await Wp(t.destination,t.itinerary.length);p(q)}catch(q){j(q instanceof Error?q.message:"Failed to load weather data.")}finally{b(!1)}})()},[t]);const I=async()=>{if(a("map"),!(u.length>0||h)){g(!0);try{const D=await p5(t.itinerary);f(D)}catch(D){console.error("Failed to load map data:",D)}finally{g(!1)}}},R=()=>{e({name:`Trip to ${t.destination}`,type:"itinerary",data:t})},U=()=>{M(!0);try{const D=new jspdf.jsPDF;let q=15;const Q=10,ue=D.internal.pageSize.getWidth()-Q*2,ie=(X,te,re,ae="normal",ye=!1)=>{q>280&&(D.addPage(),q=15),D.setFontSize(re),D.setFont("helvetica",ae);const Ne=D.splitTextToSize(X,ue-(ye?0:te-Q)),se=ye?D.internal.pageSize.getWidth()/2:te;D.text(Ne,se,q,{align:ye?"center":"left"}),q+=Ne.length*(re/2.8)};if(ie(`Your Itinerary for ${t.destination}`,0,22,"bold",!0),q+=8,t.totalBudget&&t.budgetBreakdown){ie("Smart Budget Advisor",Q,16,"bold"),q+=2,D.setDrawColor(226,232,240),D.line(Q,q,ue+Q,q),q+=6,ie(`Total Estimated Budget: $${t.totalBudget.toLocaleString()}`,Q,14,"bold"),q+=6;const X=t.budgetBreakdown;X.lodging&&ie(`- Lodging: $${X.lodging.estimate.toLocaleString()} (${X.lodging.details})`,Q+5,11),X.food&&ie(`- Food: $${X.food.estimate.toLocaleString()} (${X.food.details})`,Q+5,11),X.activities&&ie(`- Activities: $${X.activities.estimate.toLocaleString()} (${X.activities.details})`,Q+5,11),X.transport&&ie(`- Transport: $${X.transport.estimate.toLocaleString()} (${X.transport.details})`,Q+5,11),q+=10}t.itinerary.forEach(X=>{ie(`Day ${X.day}`,Q,16,"bold"),q+=2,D.setDrawColor(226,232,240),D.line(Q,q,ue+Q,q),q+=6,ie("Morning:",Q,12,"bold"),ie(`${X.morning.locationName}`,Q+5,11),ie(X.morning.address,Q+5,9),ie(X.morning.description,Q+5,11),q+=4,ie("Afternoon:",Q,12,"bold"),ie(`${X.afternoon.locationName}`,Q+5,11),ie(X.afternoon.address,Q+5,9),ie(X.afternoon.description,Q+5,11),q+=4,ie("Evening:",Q,12,"bold"),ie(`${X.evening.locationName}`,Q+5,11),ie(X.evening.address,Q+5,9),ie(X.evening.description,Q+5,11),q+=10}),t.culturalTips&&t.culturalTips.length>0&&(ie("Cultural Tips & Food Guide",Q,16,"bold"),q+=2,D.setDrawColor(226,232,240),D.line(Q,q,ue+Q,q),q+=6,t.culturalTips.forEach(X=>{ie(`- ${X}`,Q+5,11),q+=2})),D.save(`FlyWise_Itinerary_${t.destination}.pdf`)}catch(D){console.error("Failed to generate PDF:",D)}finally{M(!1)}},B=(D,q,Q)=>s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 flex space-x-4 items-start",children:[s.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-full p-2",children:s.jsx(k,{name:D,className:"h-6 w-6 text-indigo-700"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-600",children:q}),s.jsxs("p",{className:"text-xl font-bold text-slate-800",children:["$",Q.estimate.toLocaleString()]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:Q.details})]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight text-center",children:["Your Custom Itinerary for ",s.jsx("span",{className:"text-blue-600",children:t.destination})]}),s.jsx(W5,{plan:t}),s.jsx("div",{className:"animate-fade-in-up",children:v?s.jsxs("div",{className:"h-40 bg-slate-100 rounded-lg flex items-center justify-center",children:[s.jsx(Se,{}),s.jsx("span",{className:"ml-3 text-slate-600",children:"Fetching weather forecast..."})]}):N?s.jsxs("div",{className:"h-40 bg-red-50 border border-red-200 rounded-lg flex flex-col items-center justify-center p-4",children:[s.jsx(k,{name:"error",className:"h-8 w-8 text-red-500 mb-2"}),s.jsx("p",{className:"text-sm font-semibold text-red-700",children:"Could not load weather"}),s.jsx("p",{className:"text-xs text-red-600 text-center",children:N})]}):x?s.jsx(Zp,{forecast:x}):null}),s.jsxs("div",{className:"flex justify-center space-x-2 bg-slate-100 p-1 rounded-full w-min mx-auto print:hidden",children:[s.jsxs("button",{onClick:()=>a("list"),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors duration-200 flex items-center ${l==="list"?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:bg-slate-200"}`,children:[s.jsx(k,{name:"planner",className:"h-5 w-5 mr-2"}),"List View"]}),s.jsxs("button",{onClick:I,className:`px-4 py-2 text-sm font-medium rounded-full transition-colors duration-200 flex items-center ${l==="map"?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:bg-slate-200"}`,children:[s.jsx(k,{name:"map",className:"h-5 w-5 mr-2"}),"Map View"]})]}),l==="list"?s.jsxs(s.Fragment,{children:[t.budgetBreakdown&&s.jsxs("div",{className:"mt-8 bg-indigo-50 border border-indigo-200 rounded-lg p-5",children:[s.jsxs("h3",{className:"text-xl font-semibold text-indigo-900 flex items-center",children:[s.jsx(k,{name:"money",className:"h-6 w-6 mr-3 text-indigo-600"}),"Smart Budget Advisor"]}),t.totalBudget&&s.jsxs("p",{className:"mt-2 text-3xl font-bold text-slate-800 text-center",children:[s.jsxs("span",{className:"text-indigo-600",children:["$",t.totalBudget.toLocaleString()]}),s.jsx("span",{className:"text-lg font-normal text-slate-500",children:" Total Est. Budget"})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.budgetBreakdown.lodging&&B("hotel","Lodging",t.budgetBreakdown.lodging),t.budgetBreakdown.food&&B("food","Food",t.budgetBreakdown.food),t.budgetBreakdown.activities&&B("ticket","Activities",t.budgetBreakdown.activities),t.budgetBreakdown.transport&&B("car","Transport",t.budgetBreakdown.transport)]})]}),t.itinerary.map((D,q)=>s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-blue-100 border-b border-blue-200",children:s.jsxs("h3",{className:"text-xl font-semibold text-blue-800",children:["Day ",D.day]})}),s.jsxs("div",{className:"divide-y divide-slate-200",children:[s.jsxs("div",{className:"p-4 flex items-start space-x-4",children:[s.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center text-slate-500 pt-1",children:[s.jsx(k,{name:"sun",className:"h-6 w-6 text-orange-400"}),s.jsx("span",{className:"text-xs font-medium mt-1",children:"Morning"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:D.morning.locationName}),s.jsx("p",{className:"text-xs text-slate-500",children:D.morning.address}),s.jsx("p",{className:"text-sm text-slate-700 mt-1",children:D.morning.description})]})]}),s.jsxs("div",{className:"p-4 flex items-start space-x-4",children:[s.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center text-slate-500 pt-1",children:[s.jsx(k,{name:"sun",className:"h-6 w-6 text-yellow-500"}),s.jsx("span",{className:"text-xs font-medium mt-1",children:"Afternoon"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:D.afternoon.locationName}),s.jsx("p",{className:"text-xs text-slate-500",children:D.afternoon.address}),s.jsx("p",{className:"text-sm text-slate-700 mt-1",children:D.afternoon.description})]})]}),s.jsxs("div",{className:"p-4 flex items-start space-x-4",children:[s.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center text-slate-500 pt-1",children:[s.jsx(k,{name:"moon",className:"h-6 w-6 text-indigo-500"}),s.jsx("span",{className:"text-xs font-medium mt-1",children:"Evening"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:D.evening.locationName}),s.jsx("p",{className:"text-xs text-slate-500",children:D.evening.address}),s.jsx("p",{className:"text-sm text-slate-700 mt-1",children:D.evening.description})]})]})]})]},q)),t.culturalTips&&t.culturalTips.length>0&&s.jsxs("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-5",children:[s.jsxs("h3",{className:"text-xl font-semibold text-green-900 flex items-center",children:[s.jsx(k,{name:"info",className:"h-6 w-6 mr-3 text-green-600"}),"Cultural Tips & Food Guide"]}),s.jsx("ul",{className:"mt-3 list-disc list-outside space-y-2 text-sm text-green-800 pl-8",children:t.culturalTips.map((D,q)=>s.jsx("li",{children:D},q))})]})]}):s.jsx("div",{className:"mt-4",children:h?s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-10 h-96 border-2 border-dashed border-slate-200 rounded-lg",children:[s.jsx(Se,{}),s.jsx("p",{className:"mt-4 text-slate-600",children:"Plotting your trip on the map..."})]}):s.jsx(Fa,{markers:u})}),s.jsxs("div",{className:"mt-8 text-center print:hidden flex flex-wrap items-center justify-center gap-4",children:[s.jsxs("button",{onClick:R,className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(k,{name:"bookmark",className:"h-5 w-5 mr-2"}),"Save to My Trips"]}),s.jsxs("button",{onClick:U,disabled:A,className:"inline-flex items-center px-6 py-2 border border-slate-300 text-sm font-medium rounded-md shadow-sm text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 disabled:bg-slate-200",children:[A?s.jsx(Se,{}):s.jsx(k,{name:"download",className:"h-5 w-5 mr-2"}),"Download Itinerary"]}),s.jsxs("button",{onClick:()=>window.print(),className:"inline-flex items-center px-6 py-2 border border-slate-300 text-sm font-medium rounded-md shadow-sm text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:[s.jsx(k,{name:"print",className:"h-5 w-5 mr-2"}),"Print Itinerary"]})]})]})},e0=it.memo(X5),Z5=({onSaveTrip:t,isOffline:e})=>{const[l,a]=w.useState(""),[u,f]=w.useState(3),[h,g]=w.useState(""),[x,p]=w.useState(""),[v,b]=w.useState(null),[N,j]=w.useState(!1),[A,M]=w.useState(null),[I,R]=w.useState([]),[U,B]=w.useState(!1),[D,q]=w.useState(null),Q=async ie=>{if(ie.preventDefault(),!l||!u){M("Please provide a destination and trip duration.");return}j(!0),M(null),b(null),R([]),q(null);try{const X=await Kp(l,u,h,x?Number(x):void 0);b(X)}catch(X){M(X instanceof Error?X.message:"An unknown error occurred.")}finally{j(!1)}},ue=async()=>{if(v){B(!0),q(null),R([]);try{const ie=await R5(v);R(ie)}catch(ie){q(ie instanceof Error?ie.message:"Failed to get optimizations.")}finally{B(!1)}}};return s.jsxs(s.Fragment,{children:[N&&s.jsx(qa,{message:"Crafting your custom itinerary..."}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"AI Travel Planner"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Let our AI craft the perfect trip for you. Just tell us where you want to go, for how long, and what you're interested in."}),s.jsxs("form",{onSubmit:Q,className:"mt-6 space-y-4 print:hidden",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-slate-700",children:"Destination"}),s.jsx("input",{type:"text",id:"destination",value:l,onChange:ie=>a(ie.target.value),placeholder:"e.g., Rome, Italy",className:"mt-1 block w-full rounded-md border-transparent bg-slate-100 placeholder:text-slate-500 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm px-4 py-2",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-slate-700",children:"Duration (in days)"}),s.jsx("input",{type:"number",id:"duration",value:u,onChange:ie=>f(parseInt(ie.target.value,10)),min:"1",max:"14",className:"mt-1 block w-full rounded-md border-transparent bg-slate-100 placeholder:text-slate-500 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm px-4 py-2",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"budget",className:"block text-sm font-medium text-slate-700",children:"Budget (USD, optional)"}),s.jsx("input",{type:"number",id:"budget",value:x,onChange:ie=>p(ie.target.value===""?"":parseInt(ie.target.value,10)),placeholder:"e.g., 1500",min:"0",className:"mt-1 block w-full rounded-md border-transparent bg-slate-100 placeholder:text-slate-500 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm px-4 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"interests",className:"block text-sm font-medium text-slate-700",children:"Interests & Preferences"}),s.jsx("textarea",{id:"interests",value:h,onChange:ie=>g(ie.target.value),placeholder:"e.g., historical monuments, museums, best Italian restaurants, family-friendly activities...",rows:3,className:"mt-1 block w-full rounded-md border-transparent bg-slate-100 placeholder:text-slate-500 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm px-4 py-2"})]}),e&&s.jsx("div",{className:"p-3 text-center text-sm text-amber-800 bg-amber-50 border border-amber-200 rounded-md",children:"You are currently offline. Please reconnect to generate a new itinerary."}),s.jsx("div",{children:s.jsxs("button",{type:"submit",disabled:N||e,className:"w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-slate-400",children:[s.jsx(k,{name:"planner",className:"mr-2 h-5 w-5"}),e?"Offline - Cannot Generate":"Generate Plan"]})})]}),s.jsxs("div",{className:"mt-8",children:[A&&s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-10 bg-red-50 border-2 border-red-200 rounded-lg",children:[s.jsx(k,{name:"error",className:"h-12 w-12 text-red-500"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-800",children:"Failed to Create Itinerary"}),s.jsx("p",{className:"mt-2 text-sm text-red-600",children:A})]}),v&&!N&&s.jsxs(s.Fragment,{children:[s.jsx(e0,{plan:v,onSaveTrip:t}),v.totalBudget&&s.jsxs("div",{className:"mt-8 p-4 bg-amber-50 rounded-lg border border-amber-200",children:[s.jsxs("h3",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(k,{name:"receipt-percent",className:"h-6 w-6 mr-3 text-amber-600"}),"AI Budget Optimizer"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Your plan has a budget. Let our AI analyze it for potential savings without compromising your experience."}),s.jsxs("button",{onClick:ue,disabled:U,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:[U?s.jsx(Se,{}):s.jsx(k,{name:"sparkles",className:"h-5 w-5 mr-2"}),U?"Optimizing...":"Optimize Budget"]}),D&&s.jsx("p",{className:"text-xs text-red-600 mt-2",children:D}),I.length>0&&s.jsx("div",{className:"mt-4 space-y-3 animate-fade-in-up",children:I.map((ie,X)=>s.jsxs("div",{className:"bg-white p-3 rounded-md border border-slate-200",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("p",{className:"font-semibold text-sm text-slate-800",children:[ie.type," Suggestion"]}),s.jsxs("p",{className:"font-bold text-sm text-green-600",children:["~$",ie.estimatedSavings," Saved"]})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Instead of ",s.jsx("span",{className:"font-semibold",children:ie.originalItem}),", consider ",s.jsx("span",{className:"font-semibold",children:ie.suggestedAlternative}),"."]}),s.jsxs("p",{className:"text-xs text-slate-600 italic mt-1",children:['"',ie.reason,'"']})]},X))})]})]})]})]})})]})},ew=it.memo(Z5),xc=t=>{if(t.length===0)return"N/A";const e=t.map(u=>u.type==="flight"?u.price:u.type==="stay"?u.pricePerNight:u.type==="car"?u.pricePerDay:0),l=Math.min(...e),a=Math.max(...e);return l===a?`$${l.toLocaleString()}`:`$${l.toLocaleString()} - $${a.toLocaleString()}`},tw=({tripsToCompare:t})=>{const e=t.length>0&&t.every(f=>f.type==="itinerary"),l=t.length>0&&t.every(f=>f.type==="search"),a=["Destination","Duration","Activities","Cultural Tips","Flights","Stays","Cars","Total Estimated Cost"];let u=a;return e?u=a.filter(f=>!["Flights","Stays","Cars"].includes(f)):l&&(u=a.filter(f=>!["Activities","Cultural Tips"].includes(f))),s.jsx("div",{className:"overflow-x-auto bg-white border border-slate-200 rounded-lg",children:s.jsxs("table",{className:"w-full divide-y divide-slate-200",children:[s.jsx("thead",{className:"bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Feature"}),t.map(f=>s.jsx("th",{className:"p-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider border-l border-slate-200 w-1/4",children:f.name},f.id))]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:u.map((f,h)=>s.jsxs("tr",{className:h%2===0?"bg-white":"bg-slate-50/50",children:[s.jsx("td",{className:"p-3 text-sm font-medium text-slate-800",children:f}),t.map(g=>{var v;const x=g.data;let p=s.jsx("span",{className:"text-slate-500",children:"—"});if(g.type==="itinerary"){const b=x;switch(f){case"Destination":p=s.jsx("span",{children:b.destination});break;case"Duration":p=s.jsxs("span",{children:[b.itinerary.length," days"]});break;case"Activities":p=s.jsxs("span",{children:[b.itinerary.length*3," activities planned"]});break;case"Cultural Tips":p=s.jsxs("span",{children:[((v=b.culturalTips)==null?void 0:v.length)||0," tips"]});break;case"Total Estimated Cost":b.totalBudget&&(p=s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold text-slate-900",children:["$",b.totalBudget.toLocaleString()]}),s.jsx("p",{className:"text-xs text-slate-500",children:"AI Estimated"})]}));break;case"Flights":case"Stays":case"Cars":p=s.jsx("span",{className:"text-xs italic text-slate-500",children:"N/A"});break}}else{const b=x,N=b.filter(I=>I.type==="flight"),j=b.filter(I=>I.type==="stay"),A=b.filter(I=>I.type==="car"),M=N.length>0&&j.length>0;switch(f){case"Destination":{let I="N/A";N.length>0?I=N[0].arrivalAirport:j.length>0?I=j[0].location:A.length>0&&(I=A[0].location),p=s.jsx("span",{children:I});break}case"Duration":{let I="N/A";const R=j.find(U=>U.numberOfNights);if(R)I=`${R.numberOfNights} night(s)`;else{const U=A.find(B=>B.numberOfDays);U&&(I=`${U.numberOfDays} day(s)`)}p=s.jsx("span",{children:I});break}case"Flights":p=N.length>0?s.jsxs("div",{children:[s.jsxs("span",{children:[N.length," found"]}),s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:xc(N)}),M&&s.jsx("span",{className:"text-xs block font-semibold text-blue-600",children:"Package Deal"})]}):s.jsx("span",{children:"0 found"});break;case"Stays":p=j.length>0?s.jsxs("div",{children:[s.jsxs("span",{children:[j.length," found"]}),s.jsx("br",{}),s.jsxs("span",{className:"text-xs",children:[xc(j),"/night"]}),M&&s.jsx("span",{className:"text-xs block font-semibold text-blue-600",children:"Package Deal"})]}):s.jsx("span",{children:"0 found"});break;case"Cars":p=A.length>0?s.jsxs("div",{children:[s.jsxs("span",{children:[A.length," found"]}),s.jsx("br",{}),s.jsxs("span",{className:"text-xs",children:[xc(A),"/day"]})]}):s.jsx("span",{children:"0 found"});break;case"Total Estimated Cost":{let I=0,R="";if(M){const U=N.reduce((D,q)=>D.price<q.price?D:q),B=j.reduce((D,q)=>D.pricePerNight<q.pricePerNight?D:q);I=U.price+B.pricePerNight*(B.numberOfNights||1),R="Cheapest flight + stay"}else if(N.length>0)I=N.reduce((B,D)=>B.price<D.price?B:D).price,R="Cheapest flight";else if(j.length>0){const U=j.reduce((B,D)=>B.pricePerNight<D.pricePerNight?B:D);I=U.pricePerNight*(U.numberOfNights||1),R="Cheapest stay"}else if(A.length>0){const U=A.reduce((B,D)=>B.pricePerDay<D.pricePerDay?B:D);I=U.pricePerDay*(U.numberOfDays||1),R="Cheapest car rental"}I>0&&(p=s.jsxs("div",{children:[s.jsxs("span",{className:"font-semibold text-slate-900",children:["$",I.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx("p",{className:"text-xs text-slate-500",children:R})]}));break}case"Activities":case"Cultural Tips":p=s.jsx("span",{className:"text-xs italic text-slate-500",children:"N/A"});break}}return s.jsx("td",{className:"p-3 text-sm text-slate-700 border-l border-slate-200 align-top",children:p},g.id)})]},f))})]})})},nw=it.memo(tw),yc=({title:t,icon:e,items:l,onToggle:a,children:u})=>{const[f,h]=w.useState(!0);return s.jsxs("div",{className:"border-b border-slate-200 last:border-b-0",children:[s.jsxs("button",{onClick:()=>h(!f),className:"w-full flex justify-between items-center p-4 text-left",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(k,{name:e,className:"h-6 w-6 mr-3 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:t})]}),s.jsx(k,{name:"chevron-down",className:`h-5 w-5 text-slate-500 transition-transform ${f?"rotate-180":""}`})]}),f&&s.jsxs("div",{className:"px-4 pb-4",children:[s.jsx("ul",{className:"space-y-2",children:l.map((g,x)=>s.jsx("li",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.checked,onChange:()=>a(x),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:`ml-3 text-sm ${g.checked?"text-slate-400 line-through":"text-slate-700"}`,children:g.item})]})},x))}),u]})]})},sw=({trip:t,checklist:e,onClose:l})=>{const[a,u]=w.useState(e);w.useEffect(()=>(document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[]);const f=(h,g)=>{u(x=>{const p={...x},v=b=>Array.isArray(b)&&(b.length===0||typeof b[0].item=="string");if(h==="documents"){const b=[...x.documents.items];b[g]={...b[g],checked:!b[g].checked},p.documents={...x.documents,items:b}}else if(v(p[h])){const b=[...p[h]];b[g]={...b[g],checked:!b[g].checked},p[h]=b}return p})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4","aria-labelledby":"checklist-title",role:"dialog","aria-modal":"true",onClick:l,children:s.jsxs("div",{className:"bg-slate-50 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[s.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200 sticky top-0 bg-slate-50 rounded-t-xl",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(k,{name:"check-circle",className:"h-7 w-7 mr-3 text-green-500"}),s.jsxs("h2",{id:"checklist-title",className:"text-xl font-bold text-slate-800",children:["Travel Checklist for ",t.name]})]}),s.jsx("button",{onClick:l,className:"p-2 rounded-full text-slate-400 hover:bg-slate-200 hover:text-slate-600","aria-label":"Close checklist",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),s.jsxs("main",{className:"overflow-y-auto",children:[s.jsx(yc,{title:"Packing List",icon:"suitcase",items:a.packingList,onToggle:h=>f("packingList",h)}),s.jsx(yc,{title:"Essential Documents",icon:"document",items:a.documents.items,onToggle:h=>f("documents",h),children:a.documents.sources&&a.documents.sources.length>0&&s.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-200",children:[s.jsx("h4",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Sources"}),s.jsx("ul",{className:"mt-2 space-y-1",children:a.documents.sources.map((h,g)=>s.jsx("li",{children:s.jsx("a",{href:h.uri,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:h.title||h.uri})},g))})]})}),s.jsx(yc,{title:"Local Essentials",icon:"lightbulb",items:a.localEssentials,onToggle:h=>f("localEssentials",h)})]})]})})},iw=({quote:t})=>{const[e,l]=w.useState(!1);return s.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 border border-slate-200 p-4 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"text-lg font-bold text-slate-800",children:t.provider}),s.jsx("span",{className:"text-xs bg-green-100 text-green-800 font-semibold px-2 py-1 rounded-full whitespace-nowrap",children:t.bestFor})]}),s.jsxs("div",{className:"my-4 text-center",children:[s.jsxs("p",{className:"text-4xl font-bold text-slate-900",children:["$",t.price.toLocaleString()]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Price"})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"border-t border-slate-200 pt-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-slate-600",children:"Medical Coverage:"}),s.jsxs("span",{className:"font-bold text-slate-800",children:["$",t.coverage.medical.limit.toLocaleString()]})]}),e&&s.jsx("p",{className:"text-xs text-slate-600 mt-1 animate-fade-in-up",children:t.coverage.medical.description})]}),s.jsxs("div",{className:"border-t border-slate-200 pt-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-slate-600",children:"Cancellation Coverage:"}),s.jsxs("span",{className:"font-bold text-slate-800",children:["$",t.coverage.cancellation.limit.toLocaleString()]})]}),e&&s.jsx("p",{className:"text-xs text-slate-600 mt-1 animate-fade-in-up",children:t.coverage.cancellation.description})]}),s.jsxs("div",{className:"border-t border-slate-200 pt-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-slate-600",children:"Baggage Coverage:"}),s.jsxs("span",{className:"font-bold text-slate-800",children:["$",t.coverage.baggage.limit.toLocaleString()]})]}),e&&s.jsx("p",{className:"text-xs text-slate-600 mt-1 animate-fade-in-up",children:t.coverage.baggage.description})]})]})]}),s.jsx("button",{onClick:()=>l(!e),className:"mt-6 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:e?"Hide Details":"View Details"})]})},lw=({trip:t,quotes:e,onClose:l})=>(w.useEffect(()=>(document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[]),s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4","aria-labelledby":"insurance-title",role:"dialog","aria-modal":"true",onClick:l,children:s.jsxs("div",{className:"bg-slate-50 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:a=>a.stopPropagation(),children:[s.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200 sticky top-0 bg-slate-50 rounded-t-xl",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(k,{name:"shield",className:"h-7 w-7 mr-3 text-blue-500"}),s.jsxs("h2",{id:"insurance-title",className:"text-xl font-bold text-slate-800",children:["Insurance Quotes for ",t.name]})]}),s.jsx("button",{onClick:l,className:"p-2 rounded-full text-slate-400 hover:bg-slate-200 hover:text-slate-600","aria-label":"Close insurance quotes",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),s.jsx("main",{className:"overflow-y-auto p-6",children:e.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((a,u)=>s.jsx(iw,{quote:a},u))}):s.jsxs("div",{className:"text-center p-10",children:[s.jsx(k,{name:"search",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No insurance quotes found"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"We couldn't generate any insurance quotes for this trip. Please try again later."})]})})]})})),aw=({savedTrips:t,onDeleteTrip:e})=>{const[l,a]=w.useState([]),[u,f]=w.useState(null),[h,g]=w.useState(null),[x,p]=w.useState(null),[v,b]=w.useState(null),N=w.useRef(null),j=R=>{a(U=>U.includes(R)?U.filter(B=>B!==R):[...U,R])},A=async R=>{if(R.type==="itinerary"){f({type:"checklist",tripId:R.id}),b(null);try{const U=await m5(R.data);g({trip:R,checklist:U})}catch(U){b(U instanceof Error?U.message:"An unknown error occurred.")}finally{f(null)}}},M=async R=>{if(R.type==="itinerary"){f({type:"insurance",tripId:R.id}),b(null);try{const U=await g5(R.data);p({trip:R,quotes:U})}catch(U){b(U instanceof Error?U.message:"An unknown error occurred.")}finally{f(null)}}},I=t.filter(R=>l.includes(R.id));return s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[h&&s.jsx(sw,{trip:h.trip,checklist:h.checklist,onClose:()=>g(null)}),x&&s.jsx(lw,{trip:x.trip,quotes:x.quotes,onClose:()=>p(null)}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Saved Trips"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:"Here are your saved itineraries and searches. Select two or more to compare."})]}),s.jsxs("button",{onClick:()=>{var R;return(R=N.current)==null?void 0:R.scrollIntoView({behavior:"smooth"})},disabled:l.length<2,className:"hidden sm:inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-slate-400",children:["Compare Selected (",l.length,")"]})]}),v&&s.jsxs("div",{className:"my-4 p-4 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:[s.jsx("strong",{children:"Error:"})," ",v]}),t.length===0?s.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 rounded-lg",children:[s.jsx(k,{name:"bookmark",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No saved trips yet"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Save itineraries or search results to see them here."})]}):s.jsx("ul",{className:"space-y-3",children:t.map(R=>s.jsxs("li",{className:"bg-white border border-slate-200 rounded-lg p-4 flex items-center space-x-4 transition-shadow hover:shadow-sm",children:[s.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:l.includes(R.id),onChange:()=>j(R.id),"aria-label":`Select trip: ${R.name}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(k,{name:R.type==="itinerary"?"planner":"search",className:`h-5 w-5 flex-shrink-0 ${R.type==="itinerary"?"text-indigo-600":"text-blue-600"}`}),s.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",title:R.name,children:R.name})]}),s.jsxs("p",{className:"text-xs text-slate-500 pl-7",children:["Saved on ",new Date(R.createdAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-1 sm:space-x-2",children:[R.type==="itinerary"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>M(R),disabled:!!u,className:"p-2 rounded-full text-slate-500 hover:bg-blue-50 hover:text-blue-600 disabled:text-slate-300 disabled:cursor-not-allowed","aria-label":`Get insurance quotes for ${R.name}`,title:"Get Insurance Quotes",children:(u==null?void 0:u.type)==="insurance"&&(u==null?void 0:u.tripId)===R.id?s.jsx(Se,{}):s.jsx(k,{name:"shield",className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>A(R),disabled:!!u,className:"p-2 rounded-full text-slate-500 hover:bg-blue-50 hover:text-blue-600 disabled:text-slate-300 disabled:cursor-not-allowed","aria-label":`Generate checklist for ${R.name}`,title:"Generate Checklist",children:(u==null?void 0:u.type)==="checklist"&&(u==null?void 0:u.tripId)===R.id?s.jsx(Se,{}):s.jsx(k,{name:"lightbulb",className:"h-5 w-5"})})]}),s.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this trip?")&&e(R.id)},className:"p-2 rounded-full text-slate-400 hover:bg-red-50 hover:text-red-600","aria-label":`Delete trip: ${R.name}`,children:s.jsx(k,{name:"trash",className:"h-5 w-5"})})]})]},R.id))}),I.length>0&&s.jsxs("div",{className:"mt-12",ref:N,children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Comparison"}),s.jsx(nw,{tripsToCompare:I})]})]})})},ow=it.memo(aw),rw=({onClose:t})=>{const[e,l]=w.useState(""),[a,u]=w.useState("idle"),[f,h]=w.useState("");w.useEffect(()=>{document.body.classList.add("overflow-hidden");const p=v=>{v.key==="Escape"&&t()};return window.addEventListener("keydown",p),()=>{document.body.classList.remove("overflow-hidden"),window.removeEventListener("keydown",p)}},[t]);const g=async p=>{if(p.preventDefault(),h(""),!e||!/\S+@\S+\.\S+/.test(e)){h("Please enter a valid email address.");return}u("loading"),setTimeout(()=>{u("success"),setTimeout(t,2e3)},1500)},x=["Access to 1,300+ airport lounges worldwide","Instant digital virtual card in your wallet","Complimentary pre-flight bites and drinks","Quiet, connected spaces to work or relax"];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4","aria-labelledby":"vip-modal-title",role:"dialog","aria-modal":"true",onClick:t,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col overflow-hidden",onClick:p=>p.stopPropagation(),children:[s.jsxs("div",{className:"p-6 text-center bg-amber-50 border-b border-amber-200",children:[s.jsx("div",{className:"mx-auto bg-amber-100 rounded-full h-16 w-16 flex items-center justify-center",children:s.jsx(k,{name:"sparkles",className:"h-9 w-9 text-amber-500"})}),s.jsx("h2",{id:"vip-modal-title",className:"mt-4 text-2xl font-bold text-slate-800",children:"Get Your FlyWise.AI VIP Virtual Card"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Upgrade your airport experience. Subscribe now for instant access to VIP lounges globally."})]}),s.jsx("div",{className:"p-6 overflow-y-auto",children:a==="success"?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(k,{name:"check-circle",className:"h-16 w-16 text-green-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-xl font-semibold text-slate-800",children:"Welcome to the Club!"}),s.jsx("p",{className:"mt-2 text-slate-600",children:"Your VIP Virtual Card is being generated and will be sent to your email shortly."})]}):s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:"space-y-3 mb-6",children:x.map((p,v)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(k,{name:"check-circle",className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"ml-3 text-sm text-slate-700",children:p})]},v))}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),s.jsx("input",{type:"email",id:"email",value:e,onChange:p=>l(p.target.value),placeholder:"Enter your email address",className:"block w-full rounded-md border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-4 py-3",required:!0,disabled:a==="loading"})]}),f&&s.jsx("p",{className:"text-sm text-red-600",children:f}),s.jsx("button",{type:"submit",disabled:a==="loading",className:"w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:a==="loading"?s.jsxs(s.Fragment,{children:[s.jsx(Se,{}),s.jsx("span",{className:"ml-2",children:"Processing..."})]}):"Get My Card for $9.99/month"})]}),s.jsx("p",{className:"mt-4 text-xs text-center text-slate-500",children:"By subscribing, you agree to our Terms of Service. Cancel anytime."})]})}),s.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-2 rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-600","aria-label":"Close",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]})})},Dc={AED:"🇦🇪",AFN:"🇦🇫",ALL:"🇦🇱",AMD:"🇦🇲",ARS:"🇦🇷",AUD:"🇦🇺",AZN:"🇦🇿",BAM:"🇧🇦",BDT:"🇧🇩",BGN:"🇧🇬",BHD:"🇧🇭",BIF:"🇧🇮",BND:"🇧🇳",BOB:"🇧🇴",BRL:"🇧🇷",BSD:"🇧🇸",BWP:"🇧🇼",BYN:"🇧🇾",BZD:"🇧🇿",CAD:"🇨🇦",CDF:"🇨🇩",CHF:"🇨🇭",CLP:"🇨🇱",CNY:"🇨🇳",COP:"🇨🇴",CRC:"🇨🇷",CVE:"🇨🇻",CZK:"🇨🇿",DJF:"🇩🇯",DKK:"🇩🇰",DOP:"🇩🇴",DZD:"🇩🇿",EGP:"🇪🇬",ETB:"🇪🇹",EUR:"🇪🇺",FJD:"🇫🇯",GBP:"🇬🇧",GEL:"🇬🇪",GHS:"🇬🇭",GMD:"🇬🇲",GNF:"🇬🇳",GTQ:"🇬🇹",HKD:"🇭🇰",HNL:"🇭🇳",HRK:"🇭🇷",HUF:"🇭🇺",IDR:"🇮🇩",ILS:"🇮🇱",INR:"🇮🇳",IQD:"🇮🇶",IRR:"🇮🇷",ISK:"🇮🇸",JMD:"🇯🇲",JOD:"🇯🇴",JPY:"🇯🇵",KES:"🇰🇪",KGS:"🇰🇬",KHR:"🇰🇭",KMF:"🇰🇲",KRW:"🇰🇷",KWD:"🇰🇼",KZT:"🇰🇿",LAK:"🇱🇦",LBP:"🇱🇧",LKR:"🇱🇰",LRD:"🇱🇷",LSL:"🇱🇸",LYD:"🇱🇾",MAD:"🇲🇦",MDL:"🇲🇩",MGA:"🇲🇬",MKD:"🇲🇰",MMK:"🇲🇲",MNT:"🇲🇳",MOP:"🇲🇴",MRU:"🇲🇷",MUR:"🇲🇺",MVR:"🇲🇻",MWK:"🇲🇼",MXN:"🇲🇽",MYR:"🇲🇾",MZN:"🇲🇿",NAD:"🇳🇦",NGN:"🇳🇬",NIO:"🇳🇮",NOK:"🇳🇴",NPR:"🇳🇵",NZD:"🇳🇿",OMR:"🇴🇲",PAB:"🇵🇦",PEN:"🇵🇪",PGK:"🇵🇬",PHP:"🇵🇭",PKR:"🇵🇰",PLN:"🇵🇱",PYG:"🇵🇾",QAR:"🇶🇦",RON:"🇷🇴",RSD:"🇷🇸",RUB:"🇷🇺",RWF:"🇷🇼",SAR:"🇸🇦",SBD:"🇸🇧",SCR:"🇸🇨",SEK:"🇸🇪",SGD:"🇸🇬",SLL:"🇸🇱",SOS:"🇸🇴",SRD:"🇸🇷",SSP:"🇸🇸",STN:"🇸🇹",SYP:"🇸🇾",SZL:"🇸🇿",THB:"🇹🇭",TJS:"🇹🇯",TMT:"🇹🇲",TND:"🇹🇳",TOP:"🇹🇴",TRY:"🇹🇷",TTD:"🇹🇹",TWD:"🇹🇼",TZS:"🇹🇿",UAH:"🇺🇦",UGX:"🇺🇬",USD:"🇺🇸",UYU:"🇺🇾",UZS:"🇺🇿",VES:"🇻🇪",VND:"🇻🇳",XAF:"🇨🇫",XOF:"🇧🇯",XPF:"🇵🇫",YER:"🇾🇪",ZAR:"🇿🇦",ZMW:"🇿🇲"},Ea={USD:"$",EUR:"€",JPY:"¥",GBP:"£",AUD:"A$",CAD:"C$",CHF:"CHF",CNY:"¥",SEK:"kr",NZD:"NZ$",MXN:"$",SGD:"S$",HKD:"HK$",NOK:"kr",KRW:"₩",TRY:"₺",RUB:"₽",INR:"₹",BRL:"R$",ZAR:"R",AED:"د.إ",AFN:"؋",ALL:"L",AMD:"֏",ARS:"$",AZN:"₼",BAM:"KM",BDT:"৳",BGN:"лв",BHD:".د.ب",BIF:"FBu",BND:"$",BOB:"Bs.",BSD:"$",BWP:"P",BYN:"Br",BZD:"BZ$",CDF:"FC",CLP:"$",COP:"$",CRC:"₡",CVE:"$",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"د.ج",EGP:"E£",ETB:"Br",FJD:"$",GEL:"₾",GHS:"₵",GMD:"D",GNF:"FG",GTQ:"Q",HNL:"L",HRK:"kn",HUF:"Ft",IDR:"Rp",ILS:"₪",IQD:"ع.د",IRR:"﷼",ISK:"kr",JMD:"J$",JOD:"JD",KES:"KSh",KGS:"с",KHR:"៛",KMF:"CF",KWD:"د.ك",KZT:"₸",LAK:"₭",LBP:"ل.ل",LKR:"Rs",LRD:"$",LSL:"L",LYD:"ل.د",MAD:"د.م.",MDL:"L",MGA:"Ar",MKD:"ден",MMK:"K",MNT:"₮",MOP:"P",MRU:"UM",MUR:"₨",MVR:"Rf",MWK:"MK",MYR:"RM",MZN:"MT",NAD:"$",NGN:"₦",NIO:"C$",NPR:"₨",OMR:"ر.ع.",PAB:"B/.",PEN:"S/",PGK:"K",PHP:"₱",PKR:"₨",PLN:"zł",PYG:"₲",QAR:"ر.ق",RON:"lei",RSD:"дин.",RWF:"RF",SAR:"ر.س",SBD:"$",SCR:"₨",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STN:"Db",SYP:"£",SZL:"E",THB:"฿",TJS:"ЅМ",TMT:"m",TND:"د.ت",TOP:"T$",TTD:"TT$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",UYU:"$U",UZS:"сўм",VES:"Bs.",VND:"₫",XAF:"FCFA",XOF:"CFA",XPF:"₣",YER:"﷼",ZMW:"ZK"},cp=Object.keys(Dc).sort(),cw=()=>{const[t,e]=w.useState(null),[l,a]=w.useState("USD"),[u,f]=w.useState("EUR"),[h,g]=w.useState(1),[x,p]=w.useState(null),[v,b]=w.useState(!0),[N,j]=w.useState(!1),[A,M]=w.useState(null),[I,R]=w.useState(null),U=w.useCallback(async()=>{M(null);try{const ae=await fetch("https://api.exchangerate.host/latest");if(!ae.ok)throw new Error("Network response was not ok. The currency service might be temporarily down.");const ye=await ae.json(),Ne={...ye.rates,EUR:1};return e(Ne),R(ye.date),Ne}catch(ae){return M(ae instanceof Error?ae.message:"Failed to fetch exchange rates."),null}},[]),B=w.useCallback((ae,ye,Ne,se)=>{if(!ae)return;const F=ae[Ne],ee=ae[se];F&&ee&&p((typeof ye=="number"?ye:0)*(ee/F))},[]);w.useEffect(()=>{(async()=>{b(!0);const ye=await U();ye&&B(ye,1,"USD","EUR"),b(!1)})()},[U,B]);const D=ae=>{g(ae.target.value===""?"":parseFloat(ae.target.value))},q=()=>{a(u),f(l)},Q=()=>{B(t,h,l,u)},ue=async()=>{j(!0);const ae=await U();ae&&B(ae,h,l,u),j(!1)};if(v)return s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-10 min-h-[300px]",children:[s.jsx(Se,{}),s.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Fetching latest exchange rates..."})]});if(A)return s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-10 bg-red-50 border-2 border-red-200 rounded-lg min-h-[300px]",children:[s.jsx(k,{name:"error",className:"h-12 w-12 text-red-500"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-800",children:"Oops! Something went wrong."}),s.jsx("p",{className:"mt-2 text-sm text-red-600",children:A})]});const ie=Ea[l]||"",X=Ea[u]||"",te=t&&t[l]&&t[u]?(t[u]/t[l]).toFixed(4):"",re=te?`1 ${ie} ${l} = ${te} ${X} ${u}`:"";return s.jsxs("div",{className:"max-w-2xl mx-auto p-2 sm:p-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Currency Converter"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Get up-to-date exchange rates for your travel planning."})]}),s.jsx("div",{className:"mt-6 bg-white p-4 sm:p-6 rounded-lg shadow-md border border-slate-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4",children:[s.jsxs("div",{className:"w-full",children:[s.jsx("label",{htmlFor:"from-amount",className:"block text-sm font-medium text-slate-700 mb-1",children:"You send"}),s.jsxs("div",{className:"flex",children:[s.jsx("select",{id:"from-currency",value:l,onChange:ae=>a(ae.target.value),className:"z-10 inline-flex flex-shrink-0 items-center py-2.5 px-4 text-sm font-medium text-center text-slate-900 bg-slate-100 border border-slate-300 rounded-l-md hover:bg-slate-200 focus:ring-2 focus:outline-none focus:ring-blue-500",children:cp.map(ae=>s.jsxs("option",{value:ae,children:[Dc[ae]," ",Ea[ae]||""," ",ae]},ae))}),s.jsx("input",{type:"number",id:"from-amount",value:h??"",onChange:D,className:"relative w-full rounded-r-md border border-l-0 border-slate-300 bg-slate-50 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-base sm:text-lg p-2.5 font-semibold",placeholder:"0.00","aria-label":"Amount to send"})]})]}),s.jsx("div",{className:"flex items-center justify-center md:row-start-1 md:col-start-2 transform rotate-90 md:rotate-0",children:s.jsx("button",{onClick:q,className:"p-2.5 rounded-full border border-slate-300 bg-white hover:bg-slate-100 text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Swap currencies",children:s.jsx(k,{name:"exchange",className:"h-5 w-5"})})}),s.jsxs("div",{className:"w-full",children:[s.jsx("label",{htmlFor:"to-amount",className:"block text-sm font-medium text-slate-700 mb-1",children:"They receive"}),s.jsxs("div",{className:"flex",children:[s.jsx("select",{id:"to-currency",value:u,onChange:ae=>f(ae.target.value),className:"z-10 inline-flex flex-shrink-0 items-center py-2.5 px-4 text-sm font-medium text-center text-slate-900 bg-slate-100 border border-slate-300 rounded-l-md hover:bg-slate-200 focus:ring-2 focus:outline-none focus:ring-blue-500",children:cp.map(ae=>s.jsxs("option",{value:ae,children:[Dc[ae]," ",Ea[ae]||""," ",ae]},ae))}),s.jsx("input",{type:"text",id:"to-amount",value:x!==null?`${X} ${x.toFixed(2)}`:"",readOnly:!0,className:"relative w-full rounded-r-md border border-l-0 border-slate-300 bg-slate-200 shadow-sm text-base sm:text-lg p-2.5 font-semibold",placeholder:"0.00","aria-label":"Amount they receive"})]})]}),s.jsx("div",{className:"md:col-span-3 mt-2",children:s.jsxs("button",{onClick:Q,className:"w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(k,{name:"exchange",className:"mr-2 -ml-1 h-5 w-5"}),"Convert"]})}),s.jsxs("div",{className:"md:col-span-3 text-center mt-2",children:[s.jsx("p",{className:"text-base font-semibold text-slate-800",children:re}),I&&s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[s.jsxs("p",{className:"text-xs text-slate-500",children:["Rates as of: ",new Date(I).toLocaleDateString()]}),s.jsx("button",{onClick:ue,disabled:N,className:"w-7 h-7 flex items-center justify-center p-1 rounded-full text-slate-500 hover:bg-slate-200 disabled:text-slate-300 disabled:cursor-not-allowed transition-colors","aria-label":"Refresh rates",children:N?s.jsx("div",{className:"scale-50",children:s.jsx(Se,{})}):s.jsx(k,{name:"refresh",className:"h-4 w-4"})})]})]})]})})]})},uw=({onClose:t})=>{const[e,l]=w.useState(0),a=[{icon:"logo",title:"Welcome to FlyWise.AI!",content:"Your personal AI travel assistant. Let's take a quick tour to see how you can plan your next trip smarter, not harder.",imgSrc:"https://images.unsplash.com/photo-1505118380757-91f5f5632de0?q=80&w=2126&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{icon:"chat",title:"Converse with our AI Assistant",content:"Simply tell our AI what you're looking for in plain English. For example, 'Find me flights to Tokyo and a hotel for 2 adults next month.' Our AI will handle the rest!",imgSrc:"https://images.unsplash.com/photo-1517423568342-3b34b3e8e29e?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{icon:"planner",title:"Craft Custom Itineraries",content:"Need a full travel plan? Head to the 'Planner' tab. Tell our AI your destination, duration, and interests, and get a detailed day-by-day itinerary in seconds.",imgSrc:"https://images.unsplash.com/photo-1527631746610-bca00a040d60?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{icon:"bookmark",title:"Save and Compare Your Trips",content:"Found something you like? Save your search results or itineraries to 'My Trips'. You can then select multiple saved trips to compare them side-by-side.",imgSrc:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}],u=a[e],f=()=>{e<a.length-1?l(e+1):t()},h=()=>{e>0&&l(e-1)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4","aria-labelledby":"onboarding-title",role:"dialog","aria-modal":"true",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col overflow-hidden transform transition-all animate-fade-in-up",children:[s.jsxs("div",{className:"relative h-56",children:[s.jsx("img",{src:u.imgSrc,alt:u.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]}),s.jsxs("div",{className:"p-6 text-center flex-1 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mx-auto bg-blue-100 rounded-full h-16 w-16 flex items-center justify-center -mt-14 mb-4 border-4 border-white",children:s.jsx(k,{name:u.icon,className:"h-9 w-9 text-blue-600"})}),s.jsx("h2",{id:"onboarding-title",className:"text-2xl font-bold text-slate-800",children:u.title}),s.jsx("p",{className:"mt-2 text-slate-600",children:u.content})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:a.map((g,x)=>s.jsx("button",{onClick:()=>l(x),className:`h-2 rounded-full transition-all duration-300 ${e===x?"bg-blue-600 w-6":"bg-slate-300 w-2"}`,"aria-label":`Go to step ${x+1}`},x))}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("button",{onClick:h,disabled:e===0,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-slate-100 hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:f,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:e===a.length-1?"Get Started!":"Next"})]})]})]})]})})},dw=["Sedan","SUV","Luxury","Van","Electric"],fw=({profile:t,onSave:e})=>{const[l,a]=w.useState(t),[u,f]=w.useState(!1),[h,g]=w.useState(""),x=A=>{const{name:M,value:I}=A.target;if(M.includes(".")){const[R,U]=M.split(".");a(B=>({...B,[R]:{...B[R],[U]:I===""?"":Number(I)}}))}else a(R=>({...R,[M]:I}))},p=A=>{a(M=>({...M,minHotelStars:M.minHotelStars===A?0:A}))},v=A=>{a(M=>{const I=M.preferredCarTypes.includes(A)?M.preferredCarTypes.filter(R=>R!==A):[...M.preferredCarTypes,A];return{...M,preferredCarTypes:I}})},b=A=>{if(A.key==="Enter"&&h.trim()!==""){A.preventDefault();const M=[...new Set([...l.favoriteDestinations,h.trim()])];a(I=>({...I,favoriteDestinations:M})),g("")}},N=A=>{a(M=>({...M,favoriteDestinations:M.favoriteDestinations.filter(I=>I!==A)}))},j=A=>{A.preventDefault(),e(l),f(!0),setTimeout(()=>f(!1),2500)};return s.jsxs("div",{className:"max-w-3xl mx-auto p-2 sm:p-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Travel Preferences"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Help our AI find the perfect deals by setting your preferences. These will be used to filter and prioritize your search results."})]}),s.jsxs("form",{onSubmit:j,className:"mt-8 space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg border border-slate-200 shadow-sm space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[s.jsx(k,{name:"flight",className:"h-5 w-5 mr-3 text-blue-600"}),"Flights"]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"preferredAirlines",className:"block text-sm font-medium text-slate-700",children:"Preferred Airlines"}),s.jsx("input",{type:"text",id:"preferredAirlines",name:"preferredAirlines",value:l.preferredAirlines,onChange:x,placeholder:"e.g., Emirates, Delta",className:"mt-1 block w-full rounded-md border-slate-300 bg-slate-50 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Separated by commas."})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[s.jsx(k,{name:"hotel",className:"h-5 w-5 mr-3 text-blue-600"}),"Hotels"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Minimum Star Rating"}),s.jsx("div",{className:"flex items-center space-x-1 mt-2",children:[1,2,3,4,5].map(A=>s.jsx("button",{type:"button",onClick:()=>p(A),className:"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400 rounded-full p-1",children:s.jsx(k,{name:"star",className:`h-6 w-6 cursor-pointer transition-colors ${l.minHotelStars>=A?"text-yellow-400":"text-slate-300 hover:text-yellow-300"}`})},A))}),s.jsx("span",{className:"text-sm text-slate-600 pl-1 mt-1 inline-block",children:l.minHotelStars>0?`${l.minHotelStars} Star${l.minHotelStars>1?"s":""} & Up`:"Any"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[s.jsx(k,{name:"car",className:"h-5 w-5 mr-3 text-blue-600"}),"Cars"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Preferred Car Types"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:dw.map(A=>s.jsx("button",{type:"button",onClick:()=>v(A),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-all duration-200 border-2 ${l.preferredCarTypes.includes(A)?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-700 border-slate-300 hover:border-slate-400"}`,children:A},A))})]})]})]}),s.jsx("hr",{className:"border-slate-200"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[s.jsx(k,{name:"map",className:"h-5 w-5 mr-3 text-blue-600"}),"Favorite Destinations"]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"favoriteDestinations",className:"block text-sm font-medium text-slate-700",children:"Add a destination"}),s.jsx("input",{type:"text",id:"favoriteDestinations",value:h,onChange:A=>g(A.target.value),onKeyDown:b,placeholder:"Type a city or country and press Enter...",className:"mt-1 block w-full rounded-md border-slate-300 bg-slate-50 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),l.favoriteDestinations.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-slate-200",children:l.favoriteDestinations.map(A=>s.jsxs("span",{className:"inline-flex items-center pl-3 pr-1 py-1 bg-indigo-100 text-indigo-800 text-sm font-medium rounded-full animate-fade-in-up",children:[A,s.jsx("button",{type:"button",onClick:()=>N(A),className:"ml-2 flex-shrink-0 h-5 w-5 rounded-full inline-flex items-center justify-center text-indigo-500 hover:bg-indigo-200 hover:text-indigo-600 focus:outline-none","aria-label":`Remove ${A}`,children:s.jsx(k,{name:"x-mark",className:"h-4 w-4"})})]},A))})]}),s.jsx("hr",{className:"border-slate-200"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[s.jsx(k,{name:"money",className:"h-5 w-5 mr-3 text-blue-600"}),"Budget Preferences"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"budget.flightMaxPrice",className:"block text-sm font-medium text-slate-700",children:"Max Flight Price"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsx("span",{className:"text-slate-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",id:"budget.flightMaxPrice",name:"budget.flightMaxPrice",value:l.budget.flightMaxPrice,onChange:x,placeholder:"1200",min:"0",className:"block w-full rounded-md border-slate-300 bg-slate-50 pl-7 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"budget.hotelMaxPrice",className:"block text-sm font-medium text-slate-700",children:"Max Price / Night (Hotel)"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsx("span",{className:"text-slate-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",id:"budget.hotelMaxPrice",name:"budget.hotelMaxPrice",value:l.budget.hotelMaxPrice,onChange:x,placeholder:"250",min:"0",className:"block w-full rounded-md border-slate-300 bg-slate-50 pl-7 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"budget.carMaxPrice",className:"block text-sm font-medium text-slate-700",children:"Max Price / Day (Car)"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsx("span",{className:"text-slate-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",id:"budget.carMaxPrice",name:"budget.carMaxPrice",value:l.budget.carMaxPrice,onChange:x,placeholder:"80",min:"0",className:"block w-full rounded-md border-slate-300 bg-slate-50 pl-7 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]})]})]})]}),s.jsx("button",{type:"submit",disabled:u,className:`w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white transition-colors duration-300 ${u?"bg-green-600":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:u?s.jsxs(s.Fragment,{children:[s.jsx(k,{name:"check-circle",className:"mr-2 h-5 w-5"}),"Preferences Saved!"]}):"Save Preferences"})]})]})},mw=it.memo(fw),hw=({userProfile:t,onSaveTrip:e,savedTrips:l})=>{const[a,u]=w.useState({travelStyle:"Adventurous",budget:"Mid-range",interests:"",gender:"Any",age:""}),[f,h]=w.useState(null),[g,x]=w.useState(null),[p,v]=w.useState(!1),[b,N]=w.useState(""),[j,A]=w.useState(null),[M,I]=w.useState(""),[R,U]=w.useState(3),[B,D]=w.useState([]),[q,Q]=w.useState(""),[ue,ie]=w.useState(!1),X=w.useRef(null);w.useEffect(()=>{g&&f&&D([{id:"buddy-initial",sender:"ai",text:`Hey! This trip to ${g.destination} looks amazing. I can't wait for the activities! What do you think?`}])},[g,f]),w.useEffect(()=>{var se;(se=X.current)==null||se.scrollIntoView({behavior:"smooth"})},[B]);const te=async se=>{if(se.preventDefault(),!a.interests||!a.age){A("Please describe your buddy's interests and age range.");return}v(!0),N("Creating your travel buddy's profile..."),A(null),h(null),x(null);try{const F=await lp(a,t,l);h(F),N("Generating profile picture...");const ee=await ap(F);ee&&h(V=>V?{...V,profilePicture:ee}:null)}catch(F){A(F instanceof Error?F.message:"An unknown error occurred while creating the profile.")}finally{v(!1)}},re=async()=>{v(!0),N("Reimagining your travel buddy..."),A(null),x(null);try{const se=await lp(a,t,l);h(se),N("Generating profile picture...");const F=await ap(se);F&&h(ee=>ee?{...ee,profilePicture:F}:null)}catch(se){A(se instanceof Error?se.message:"An unknown error occurred while regenerating the profile."),h(null)}finally{v(!1)}},ae=async se=>{if(se.preventDefault(),!f||!M||!R){A("Please generate a buddy profile and provide a destination and duration.");return}v(!0),N(`Planning a trip to ${M} for you and ${f.name}...`),A(null),x(null);try{const F=await v5(t,f,M,R);x(F)}catch(F){A(F instanceof Error?F.message:"An unknown error occurred while creating the itinerary.")}finally{v(!1)}},ye=async se=>{if(se.preventDefault(),!q.trim()||!f||!g||ue)return;const F={id:Date.now().toString(),sender:"user",text:q},ee=[...B,F];D(ee),Q(""),ie(!0);try{const V=await b5(ee,t,f,g),Z={id:(Date.now()+1).toString(),sender:"ai",text:V};D(E=>[...E,Z])}catch{const Z={id:(Date.now()+1).toString(),sender:"ai",text:"Sorry, I'm having trouble connecting. Let's chat later."};D(E=>[...E,Z])}finally{ie(!1)}},Ne=(se,F,ee,V)=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:se}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:F.map(Z=>s.jsx("button",{type:"button",onClick:()=>V(Z),className:`px-4 py-2 text-sm font-medium rounded-full transition-all duration-200 border-2 ${ee===Z?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-700 border-slate-300 hover:border-slate-400"}`,children:Z},Z))})]});return s.jsxs(s.Fragment,{children:[p&&s.jsx(qa,{message:b}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"AI Travel Buddy"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Design your ideal travel companion and let our AI generate joint itineraries that cater to both of your tastes."})]}),!f&&s.jsxs("div",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-lg shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[s.jsx(k,{name:"user",className:"h-5 w-5 mr-3 text-blue-600"}),"Step 1: Describe Your Buddy"]}),s.jsxs("form",{onSubmit:te,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Ne("Gender",["Male","Female","Any"],a.gender,se=>u(F=>({...F,gender:se}))),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-slate-700",children:"Age Range"}),s.jsx("input",{type:"text",id:"age",value:a.age,onChange:se=>u(F=>({...F,age:se.target.value})),placeholder:"e.g., 25-35, 40s",required:!0,className:"mt-1 block w-full rounded-md border-slate-300 bg-slate-50 placeholder:text-slate-400 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm px-4 py-2"})]})]}),Ne("Travel Style",["Relaxed","Adventurous","Cultural Explorer"],a.travelStyle,se=>u(F=>({...F,travelStyle:se}))),Ne("Budget",["Budget-conscious","Mid-range","Luxury"],a.budget,se=>u(F=>({...F,budget:se}))),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"interests",className:"block text-sm font-medium text-slate-700",children:"Interests"}),s.jsx("textarea",{id:"interests",value:a.interests,onChange:se=>u(F=>({...F,interests:se.target.value})),placeholder:"e.g., loves hiking, street food, modern art, and live music...",rows:3,className:"mt-1 block w-full rounded-md border-slate-300 bg-slate-50 placeholder:text-slate-400 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm px-4 py-2",required:!0})]}),s.jsx("div",{children:s.jsxs("button",{type:"submit",disabled:p,className:"w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-slate-400",children:[s.jsx(k,{name:"sparkles",className:"mr-2 h-5 w-5"}),"Generate Buddy Profile"]})})]})]}),f&&s.jsxs("div",{className:"mt-8 space-y-8 animate-fade-in-up",children:[s.jsxs("div",{className:"p-6 bg-indigo-50 border border-indigo-200 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-indigo-900 mb-4 flex items-center",children:[s.jsx(k,{name:"users",className:"h-5 w-5 mr-3 text-indigo-600"}),"Your Travel Buddy"]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"relative w-24 h-24 mx-auto mb-4",children:f.profilePicture?s.jsx("img",{src:`data:image/jpeg;base64,${f.profilePicture}`,alt:`Profile picture of ${f.name}`,className:"w-24 h-24 rounded-full object-cover shadow-lg border-4 border-white animate-fade-in-up"}):s.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-200 flex items-center justify-center border-4 border-white",children:s.jsx(k,{name:"user",className:"h-12 w-12 text-indigo-400"})})}),s.jsx("h4",{className:"text-2xl font-bold text-slate-800",children:f.name}),s.jsxs("p",{className:"mt-2 text-sm text-slate-600 italic",children:['"',f.bio,'"']})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{className:"bg-white p-3 rounded-md border border-indigo-100",children:[s.jsx("p",{className:"text-xs font-semibold text-indigo-700",children:"Age & Gender"}),s.jsxs("p",{className:"text-sm font-medium text-slate-800 capitalize",children:[f.age,", ",f.gender]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-md border border-indigo-100",children:[s.jsx("p",{className:"text-xs font-semibold text-indigo-700",children:"Travel Style"}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:f.travelStyle})]}),s.jsxs("div",{className:"bg-white p-3 rounded-md border border-indigo-100",children:[s.jsx("p",{className:"text-xs font-semibold text-indigo-700",children:"Budget"}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:f.budget})]}),s.jsxs("div",{className:"bg-white p-3 rounded-md border border-indigo-100",children:[s.jsx("p",{className:"text-xs font-semibold text-indigo-700",children:"Key Traits"}),s.jsx("p",{className:"text-sm font-medium text-slate-800",children:f.keyTraits.join(", ")})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-white/70 rounded-lg border border-indigo-200 text-center",children:[s.jsx("h4",{className:"text-sm font-semibold text-indigo-800",children:"Buddy Compatibility Score"}),s.jsxs("p",{className:"text-5xl font-bold text-indigo-600 my-2",children:[f.compatibilityScore,"%"]}),s.jsx("p",{className:"text-xs text-slate-600 italic",children:f.compatibilityReason})]}),s.jsxs("div",{className:"mt-6 flex justify-center items-center gap-6",children:[s.jsxs("button",{onClick:re,disabled:p,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-300",children:[s.jsx(k,{name:"sparkles",className:"mr-2 h-5 w-5"}),"Regenerate Profile"]}),s.jsx("button",{onClick:()=>{h(null),x(null)},className:"text-sm font-medium text-slate-600 hover:text-blue-600 underline",children:"Edit Preferences"})]})]}),!g&&s.jsxs("div",{className:"p-6 bg-white border border-slate-200 rounded-lg shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[s.jsx(k,{name:"planner",className:"h-5 w-5 mr-3 text-blue-600"}),"Step 2: Plan Your Joint Trip"]}),s.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-slate-700",children:"Destination"}),s.jsx("input",{type:"text",id:"destination",value:M,onChange:se=>I(se.target.value),placeholder:"e.g., Bali, Indonesia",className:"mt-1 block w-full rounded-md border-slate-300 bg-slate-50 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm px-4 py-2",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-slate-700",children:"Duration (days)"}),s.jsx("input",{type:"number",id:"duration",value:R,onChange:se=>U(parseInt(se.target.value,10)),min:"1",max:"14",className:"mt-1 block w-full rounded-md border-slate-300 bg-slate-50 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm px-4 py-2",required:!0})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:p,className:"w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-slate-400",children:"Generate Joint Itinerary"})})]})]})]}),j&&s.jsxs("div",{className:"mt-8 flex flex-col items-center justify-center text-center p-6 bg-red-50 border-2 border-red-200 rounded-lg",children:[s.jsx(k,{name:"error",className:"h-10 w-10 text-red-500"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-800",children:"An Error Occurred"}),s.jsx("p",{className:"mt-2 text-sm text-red-600",children:j})]}),s.jsx("div",{className:"mt-8",children:g&&!p&&s.jsx(e0,{plan:g,onSaveTrip:e})}),g&&f&&!p&&s.jsxs("div",{className:"mt-8 p-4 sm:p-6 bg-white border border-slate-200 rounded-lg shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[s.jsx(k,{name:"chat",className:"h-5 w-5 mr-3 text-blue-600"}),"Chat with ",f.name]}),s.jsxs("div",{className:"flex flex-col h-[50vh] bg-white rounded-lg border border-slate-200",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[B.map(se=>s.jsxs("div",{className:`flex items-start gap-3 ${se.sender==="user"?"justify-end":""}`,children:[se.sender==="ai"&&s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center text-white",children:s.jsx(k,{name:"users",className:"w-5 h-5"})}),s.jsx("div",{className:`rounded-2xl p-3 max-w-sm ${se.sender==="user"?"bg-blue-500 text-white rounded-br-none":"bg-slate-100 text-slate-800 rounded-bl-none"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:se.text})}),se.sender==="user"&&s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600",children:s.jsx(k,{name:"user",className:"w-5 h-5"})})]},se.id)),ue&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center text-white",children:s.jsx(k,{name:"users",className:"w-5 h-5"})}),s.jsxs("div",{className:"rounded-2xl p-3 bg-slate-100 text-slate-800 rounded-bl-none flex items-center",children:[s.jsx(Se,{}),s.jsx("span",{className:"text-sm ml-2 text-slate-500",children:"... is typing"})]})]}),s.jsx("div",{ref:X})]}),s.jsx("div",{className:"border-t border-slate-200 p-2",children:s.jsxs("form",{onSubmit:ye,className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:q,onChange:se=>Q(se.target.value),placeholder:`Message ${f.name}...`,className:"flex-1 block w-full rounded-full border-transparent bg-slate-100 placeholder:text-slate-500 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm py-2 px-4",disabled:ue}),s.jsx("button",{type:"submit",disabled:ue||!q.trim(),className:"inline-flex items-center justify-center h-10 w-10 rounded-full text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:s.jsx(k,{name:"send",className:"h-5 w-5"})})]})})]})]})]})})]})},pw=({story:t})=>{const[e,l]=w.useState(!1),[a,u]=w.useState(t.likes),[f,h]=w.useState(0),[g,x]=w.useState(!1),[p,v]=w.useState(t.comments||[]),[b,N]=w.useState(""),j=()=>{l(!e),u(e?a-1:a+1)},A=R=>{R.stopPropagation(),h(U=>(U+1)%t.images.length)},M=R=>{R.stopPropagation(),h(U=>(U-1+t.images.length)%t.images.length)},I=R=>{if(R.preventDefault(),!b.trim())return;const U={id:Date.now().toString(),authorName:"Valued Member",authorAvatarUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=200&auto=format&fit=crop",content:b.trim(),createdAt:new Date().toISOString()};v(B=>[...B,U]),N("")};return s.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden border border-slate-200 animate-fade-in-up",children:[t.images.length>0&&s.jsxs("div",{className:"relative h-56 sm:h-64",children:[s.jsx("img",{src:t.images[f],alt:t.title,className:"w-full h-full object-cover"}),t.images.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:M,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/40 text-white hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-white",children:s.jsx(k,{name:"chevron-left",className:"h-5 w-5"})}),s.jsx("button",{onClick:A,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/40 text-white hover:bg-black/60 focus:outline-none focus:ring-2 focus:ring-white",children:s.jsx(k,{name:"chevron-right",className:"h-5 w-5"})}),s.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex space-x-1.5",children:t.images.map((R,U)=>s.jsx("div",{className:`h-1.5 w-1.5 rounded-full ${f===U?"bg-white":"bg-white/50"}`},U))})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("img",{src:t.authorAvatarUrl,alt:t.authorName,className:"w-10 h-10 rounded-full object-cover mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-800 text-sm",children:t.authorName}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(t.createdAt).toLocaleDateString()})]})]}),s.jsx("h3",{className:"text-xl font-bold text-slate-900",children:t.title}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.locationTags.map(R=>s.jsxs("span",{className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium flex items-center",children:[s.jsx(k,{name:"map",className:"h-3 w-3 mr-1.5"}),R]},R))}),s.jsx("p",{className:"mt-3 text-sm text-slate-600 leading-relaxed",children:t.content})]}),s.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-200 flex justify-start items-center space-x-6",children:[s.jsxs("button",{onClick:j,className:"flex items-center space-x-2 text-slate-600 hover:text-red-500 transition-colors",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 ${e?"text-red-500":"text-slate-400"}`,fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 016.364 0L12 7.5l1.318-1.182a4.5 4.5 0 116.364 6.364L12 21l-7.682-7.682a4.5 4.5 0 010-6.364z"})}),s.jsx("span",{className:"font-semibold text-sm",children:a.toLocaleString()})]}),s.jsxs("button",{onClick:()=>x(!g),className:"flex items-center space-x-2 text-slate-600 hover:text-blue-500 transition-colors",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("span",{className:"font-semibold text-sm",children:p.length})]})]}),g&&s.jsxs("div",{className:"p-4 bg-slate-50 border-t border-slate-200 animate-fade-in",children:[s.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:p.length>0?p.map(R=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("img",{src:R.authorAvatarUrl,alt:R.authorName,className:"w-8 h-8 rounded-full object-cover flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1 bg-slate-100 rounded-lg p-3",children:[s.jsx("p",{className:"font-semibold text-xs text-slate-800",children:R.authorName}),s.jsx("p",{className:"text-sm text-slate-700",children:R.content})]})]},R.id)):s.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Be the first to comment!"})}),s.jsxs("form",{onSubmit:I,className:"mt-4 flex items-center gap-3",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=200&auto=format&fit=crop",alt:"Your avatar",className:"w-8 h-8 rounded-full"}),s.jsx("input",{type:"text",value:b,onChange:R=>N(R.target.value),placeholder:"Add a comment...",className:"flex-1 block w-full rounded-full border-slate-300 bg-white placeholder:text-slate-500 shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-sm py-2 px-4"}),s.jsx("button",{type:"submit",className:"text-sm font-semibold text-blue-600 hover:underline disabled:text-slate-400 disabled:no-underline",disabled:!b.trim(),children:"Post"})]})]})]})},gw=({itineraryTrips:t,generatedMemories:e,onGenerate:l,onView:a})=>t.length===0?s.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 rounded-lg",children:[s.jsx(k,{name:"planner",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No Itineraries Saved"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Use the Planner or Chat to create an itinerary, then come back here to turn it into a memory."})]}):s.jsx("div",{className:"space-y-4",children:t.map(u=>{const f=e.some(h=>h.tripId===u.id);return s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-800",children:u.name}),s.jsxs("p",{className:"text-xs text-slate-500",children:[u.data.itinerary.length," days, saved on ",new Date(u.createdAt).toLocaleDateString()]})]}),f?s.jsxs("button",{onClick:()=>a(u.id),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:[s.jsx(k,{name:"eye",className:"h-5 w-5 mr-2"}),"View Memory"]}):s.jsxs("button",{onClick:()=>l(u),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[s.jsx(k,{name:"sparkles",className:"h-5 w-5 mr-2"}),"Generate Memory"]})]},u.id)})}),xw=({memory:t,onClose:e})=>{const[l,a]=w.useState(null),[u,f]=w.useState(!0),[h,g]=w.useState(null),[x,p]=w.useState("");w.useEffect(()=>(document.body.classList.add("overflow-hidden"),(async()=>{f(!0),g(null);try{const N=await Qp(t);a(N),p(`${N.caption}

${N.hashtags}`)}catch(N){g(N instanceof Error?N.message:"Failed to generate suggestions.")}finally{f(!1)}})(),()=>{document.body.classList.remove("overflow-hidden")}),[t]);const v=b=>{alert(`Sharing to ${b}!

${x}`),e()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:e,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",onClick:b=>b.stopPropagation(),children:[s.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Share Your Trip Journal"}),s.jsx("button",{onClick:e,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),s.jsxs("main",{className:"flex-grow overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("img",{src:t.videoHighlightImageUrls[0],alt:"Trip highlight",className:"w-24 h-24 rounded-lg object-cover flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:t.title}),s.jsx("p",{className:"text-sm text-slate-600 line-clamp-3",children:t.narrativeSummary})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{htmlFor:"caption",className:"block text-sm font-semibold text-slate-700 mb-2",children:"AI-Suggested Caption"}),u?s.jsxs("div",{className:"w-full h-32 bg-slate-100 rounded-md flex items-center justify-center",children:[s.jsx(Se,{}),s.jsx("span",{className:"ml-3 text-slate-600",children:"Crafting your post..."})]}):h?s.jsxs("div",{className:"w-full h-32 bg-red-50 rounded-md flex flex-col items-center justify-center text-center p-4",children:[s.jsx(k,{name:"error",className:"h-8 w-8 text-red-500 mb-2"}),s.jsx("p",{className:"text-sm font-semibold text-red-700",children:"Could not generate caption"}),s.jsx("p",{className:"text-xs text-red-600",children:h})]}):s.jsx("textarea",{id:"caption",value:x,onChange:b=>p(b.target.value),rows:6,className:"w-full p-3 rounded-md border-slate-300 bg-white shadow-sm focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-3 text-center",children:"Post to..."}),s.jsxs("div",{className:"flex justify-center items-center gap-4",children:[s.jsxs("button",{onClick:()=>v("FlyWise Feed"),className:"flex flex-col items-center gap-1 text-slate-600 hover:text-blue-600",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-full flex items-center justify-center",children:s.jsx(k,{name:"logo",className:"h-6 w-6"})}),s.jsx("span",{className:"text-xs font-medium",children:"FlyWise"})]}),s.jsxs("button",{onClick:()=>v("Instagram"),className:"flex flex-col items-center gap-1 text-slate-600 hover:text-pink-600",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-full flex items-center justify-center",children:s.jsx(k,{name:"instagram",className:"h-6 w-6"})}),s.jsx("span",{className:"text-xs font-medium",children:"Instagram"})]}),s.jsxs("button",{onClick:()=>v("Facebook"),className:"flex flex-col items-center gap-1 text-slate-600 hover:text-blue-700",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-full flex items-center justify-center",children:s.jsx(k,{name:"facebook",className:"h-6 w-6"})}),s.jsx("span",{className:"text-xs font-medium",children:"Facebook"})]}),s.jsxs("button",{onClick:()=>v("TikTok"),className:"flex flex-col items-center gap-1 text-slate-600 hover:text-black",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-full flex items-center justify-center",children:s.jsx(k,{name:"tiktok",className:"h-6 w-6"})}),s.jsx("span",{className:"text-xs font-medium",children:"TikTok"})]})]})]})]})})},yw=({memory:t,onBack:e})=>{const[l,a]=w.useState(0),[u,f]=w.useState(t.musicTheme),[h,g]=w.useState("private"),[x,p]=w.useState(!1),[v,b]=w.useState(null),[N,j]=w.useState(!1),[A,M]=w.useState(null),I=()=>{a(D=>(D+1)%t.videoHighlightImageUrls.length)},R=()=>{a(D=>(D-1+t.videoHighlightImageUrls.length)%t.videoHighlightImageUrls.length)},U=t.mapRoute.map((D,q)=>({...D,name:`Stop ${q+1}`,activity:"",day:1,timeOfDay:"Morning"})),B=async()=>{j(!0),M(null),b(null);try{const D=await Qp(t);b(D)}catch(D){M(D instanceof Error?D.message:"An error occurred.")}finally{j(!1)}};return s.jsxs(s.Fragment,{children:[x&&s.jsx(xw,{memory:t,onClose:()=>p(!1)}),s.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in-up p-2 sm:p-4",children:[s.jsxs("button",{onClick:e,className:"mb-4 inline-flex items-center text-sm font-medium text-slate-600 hover:text-blue-600",children:[s.jsx(k,{name:"chevron-left",className:"h-5 w-5 mr-1"}),"Back to My Journals"]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"aspect-video bg-black relative",children:[s.jsx("img",{src:t.videoHighlightImageUrls[l],alt:"Trip highlight",className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/30"}),t.videoHighlightImageUrls.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:R,className:"absolute left-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/40 text-white",children:s.jsx(k,{name:"chevron-left",className:"h-6 w-6"})}),s.jsx("button",{onClick:I,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/40 text-white",children:s.jsx(k,{name:"chevron-right",className:"h-6 w-6"})})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight text-slate-800",children:t.title}),s.jsx("p",{className:"mt-4 text-slate-600 leading-relaxed",children:t.narrativeSummary}),s.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center border-t border-b border-slate-200 py-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.keyStats.distanceTraveled.toLocaleString()}),s.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Kilometers Traveled"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.keyStats.destinationsVisited}),s.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Destinations Visited"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.keyStats.photosTaken}),s.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Photos Taken"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"Your Journey"}),s.jsx("div",{className:"h-64 rounded-md border border-slate-300 overflow-hidden",children:s.jsx(Fa,{markers:U})})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[s.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-3",children:"Customize Your Journal"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Music Theme:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Uplifting","Chill","Epic","Sentimental"].map(D=>s.jsx("button",{onClick:()=>f(D),className:`px-2 py-1 text-xs rounded-full border-2 ${u===D?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-300"}`,children:D},D))})]})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[s.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-3",children:"Share Your Journal"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-slate-600",children:"Privacy:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["private","friends","public"].map(D=>s.jsx("button",{onClick:()=>g(D),className:`px-2 py-1 text-xs rounded-full border-2 capitalize ${h===D?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-300"}`,children:D},D))})]}),s.jsx("button",{onClick:()=>p(!0),className:"mt-3 w-full bg-green-600 text-white font-bold py-2 rounded-md text-sm hover:bg-green-700",children:"Share Now"})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"AI Social Post Generator"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Let our AI craft the perfect social media post to share your memory with the world."}),s.jsxs("button",{onClick:B,disabled:N,className:"w-full bg-blue-600 text-white font-bold py-2.5 rounded-md text-sm hover:bg-blue-700 flex items-center justify-center disabled:bg-slate-400",children:[N?s.jsx(Se,{}):s.jsx(k,{name:"sparkles",className:"h-4 w-4 mr-2"}),N?"Generating...":"Generate Post Suggestion"]}),A&&s.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:A}),v&&s.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 animate-fade-in-up",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"caption",className:"block text-xs font-medium text-slate-600 mb-1",children:"Generated Caption & Hashtags"}),s.jsx("textarea",{id:"caption",defaultValue:`${v.caption}

${v.hashtags}`,rows:6,className:"w-full text-sm p-2 rounded-md border-slate-300 bg-white shadow-sm focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1 text-right",children:"You can edit the text before copying."})]})})]})]})]})]})]})},vw=({stories:t,onOpenCreateModal:e,savedTrips:l,generatedMemories:a,onMemoryGenerated:u})=>{const[f,h]=w.useState("stories"),[g,x]=w.useState(null),[p,v]=w.useState(!1),[b,N]=w.useState(null),j=l.filter(I=>I.type==="itinerary"),A=async I=>{v(!0),N(null);try{const U={...await N5(I.data),tripId:I.id};u(U),x(U)}catch(R){N(R instanceof Error?R.message:"Failed to generate memory.")}finally{v(!1)}},M=I=>{const R=a.find(U=>U.tripId===I);R&&x(R)};return g?s.jsx(yw,{memory:g,onBack:()=>x(null)}):s.jsxs(s.Fragment,{children:[p&&s.jsx(qa,{message:"Composing your travel story..."}),s.jsxs("div",{className:"max-w-4xl mx-auto p-2 sm:p-4 animate-fade-in-up",children:[b&&s.jsxs("div",{className:"my-4 p-4 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:[s.jsx("strong",{children:"Error:"})," ",b]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Memories & Stories"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Relive your adventures and get inspired by others."})]}),f==="stories"&&s.jsxs("button",{onClick:e,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 flex-shrink-0 w-full sm:w-auto",children:[s.jsx(k,{name:"plus",className:"h-5 w-5 mr-2 -ml-1"}),"Share Your Story"]})]}),s.jsxs("div",{className:"mb-6 flex justify-center items-center border-b border-slate-200",children:[s.jsx("button",{onClick:()=>h("stories"),className:`px-6 py-3 text-sm font-semibold flex items-center gap-2 border-b-2 ${f==="stories"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Community Stories"}),s.jsx("button",{onClick:()=>h("memories"),className:`px-6 py-3 text-sm font-semibold flex items-center gap-2 border-b-2 ${f==="memories"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"My Memories"})]}),f==="stories"?s.jsx("div",{className:"space-y-8",children:t.map(I=>s.jsx(pw,{story:I},I.id))}):s.jsx(gw,{itineraryTrips:j,generatedMemories:a,onGenerate:A,onView:M})]})]})},bw=({community:t,onClick:e})=>s.jsxs("div",{onClick:e,className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border border-slate-200 cursor-pointer group",children:[s.jsx("div",{className:"h-40 overflow-hidden",children:s.jsx("img",{src:t.coverImageUrl,alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"text-lg font-bold text-blue-600 transition-colors",children:t.name}),s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${t.type==="public"?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})]}),s.jsxs("div",{className:"flex items-center text-sm text-slate-500 mt-2",children:[s.jsx(k,{name:"users",className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:[t.memberCount.toLocaleString()," members"]})]}),s.jsx("p",{className:"mt-3 text-sm text-slate-700 leading-relaxed line-clamp-2",children:t.description})]})]}),Nw=({post:t})=>{const e=l=>{const a=Math.floor((new Date().getTime()-new Date(l).getTime())/1e3);let u=a/31536e3;return u>1?Math.floor(u)+" years ago":(u=a/2592e3,u>1?Math.floor(u)+" months ago":(u=a/86400,u>1?Math.floor(u)+" days ago":(u=a/3600,u>1?Math.floor(u)+" hours ago":(u=a/60,u>1?Math.floor(u)+" minutes ago":Math.floor(a)+" seconds ago"))))};return s.jsxs("div",{className:`bg-white rounded-lg shadow-sm border ${t.isPinned?"border-blue-300":"border-slate-200"}`,children:[t.isPinned&&s.jsxs("div",{className:"px-4 py-1 bg-blue-50 text-blue-700 text-xs font-semibold flex items-center border-b border-blue-200",children:[s.jsx(k,{name:"bookmark",className:"h-4 w-4 mr-2"}),"Pinned Post"]}),s.jsxs("div",{className:"p-4 flex items-start gap-4",children:[s.jsx("img",{src:t.author.avatarUrl,alt:t.author.name,className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("p",{className:"font-semibold text-sm text-slate-800",children:t.author.name}),s.jsx("p",{className:"text-xs text-slate-500",children:e(t.createdAt)})]}),s.jsx("p",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap",children:t.content})]})]})]})},Tw=({questions:t})=>{const[e,l]=w.useState({}),[a,u]=w.useState({}),[f,h]=w.useState({}),g=async p=>{u(v=>({...v,[p.id]:!0})),h(v=>({...v,[p.id]:null}));try{const v=p.answers.map(N=>N.content),b=await _5(p.question,v);l(N=>({...N,[p.id]:b}))}catch(v){h(b=>({...b,[p.id]:v instanceof Error?v.message:"Failed to get summary."}))}finally{u(v=>({...v,[p.id]:!1}))}},x=p=>{const v=Math.floor((new Date().getTime()-new Date(p).getTime())/1e3);let b=v/31536e3;return b>1?Math.floor(b)+" years ago":(b=v/2592e3,b>1?Math.floor(b)+" months ago":(b=v/86400,b>1?Math.floor(b)+" days ago":(b=v/3600,b>1?Math.floor(b)+" hours ago":(b=v/60,b>1?Math.floor(b)+" minutes ago":Math.floor(v)+" seconds ago"))))};return s.jsx("div",{className:"space-y-6",children:t.map(p=>s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("img",{src:p.author.avatarUrl,alt:p.author.name,className:"w-9 h-9 rounded-full"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-sm text-slate-800",children:[p.author.name," asked:"]}),s.jsx("p",{className:"text-slate-700",children:p.question})]})]}),s.jsx("div",{className:"mt-4 pl-8 space-y-3",children:p.answers.map(v=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("img",{src:v.author.avatarUrl,alt:v.author.name,className:"w-8 h-8 rounded-full"}),s.jsxs("div",{className:"flex-1 bg-slate-50 rounded-md p-2",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("p",{className:"font-semibold text-xs text-slate-700",children:v.author.name}),s.jsx("p",{className:"text-xs text-slate-500",children:x(v.createdAt)})]}),s.jsx("p",{className:"text-sm text-slate-600",children:v.content})]})]},v.id))}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e[p.id]?s.jsxs("div",{className:"p-3 bg-indigo-50 rounded-md border border-indigo-200 animate-fade-in-up",children:[s.jsxs("h4",{className:"text-sm font-semibold text-indigo-800 flex items-center",children:[s.jsx(k,{name:"sparkles",className:"h-4 w-4 mr-2 text-indigo-500"}),"AI Summary"]}),s.jsx("p",{className:"text-sm text-slate-700 mt-2",children:e[p.id]})]}):s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:()=>g(p),disabled:a[p.id],className:"inline-flex items-center px-4 py-2 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:[a[p.id]?s.jsx(Se,{}):s.jsx(k,{name:"sparkles",className:"h-4 w-4 mr-2"}),a[p.id]?"Summarizing...":"Get AI Summary"]})}),f[p.id]&&s.jsx("p",{className:"text-xs text-red-500 text-center mt-2",children:f[p.id]})]})]},p.id))})},Sw=({community:t,onBack:e})=>{const[l,a]=w.useState("posts");return s.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in-up",children:[s.jsxs("button",{onClick:e,className:"mb-4 inline-flex items-center text-sm font-medium text-slate-600 hover:text-blue-600",children:[s.jsx(k,{name:"chevron-left",className:"h-5 w-5 mr-1"}),"Back to Communities"]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"h-48 relative",children:[s.jsx("img",{src:t.coverImageUrl,alt:`${t.name} cover`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/30"}),s.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[s.jsx("h2",{className:"text-3xl font-bold",children:t.name}),s.jsxs("div",{className:"flex items-center text-sm mt-1",children:[s.jsx(k,{name:"users",className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:[t.memberCount.toLocaleString()," members"]})]})]})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[s.jsx("p",{className:"text-sm text-slate-700",children:t.description}),s.jsx("button",{className:"flex-shrink-0 inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Join Community"})]})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"border-b border-slate-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[s.jsx("button",{onClick:()=>a("posts"),className:`${l==="posts"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm`,children:"Posts"}),s.jsx("button",{onClick:()=>a("qa"),className:`${l==="qa"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm`,children:"Q&A"})]})}),s.jsxs("div",{className:"mt-6",children:[l==="posts"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-200 flex items-center gap-3",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=200&auto=format&fit=crop",alt:"Your avatar",className:"w-9 h-9 rounded-full"}),s.jsx("input",{type:"text",placeholder:"Share your thoughts or ask a question...",className:"w-full bg-slate-100 rounded-full border-transparent focus:ring-2 focus:ring-blue-500 px-4 py-2 text-sm"})]}),s.jsx("div",{className:"mt-4 space-y-4",children:t.posts.length>0?t.posts.map(u=>s.jsx(Nw,{post:u},u.id)):s.jsxs("div",{className:"text-center p-10 bg-white rounded-lg border border-slate-200",children:[s.jsx(k,{name:"chat",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No posts yet"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Be the first to share something in this community!"})]})})]}),l==="qa"&&s.jsx(s.Fragment,{children:t.questions&&t.questions.length>0?s.jsx(Tw,{questions:t.questions}):s.jsxs("div",{className:"text-center p-10 bg-white rounded-lg border border-slate-200",children:[s.jsx(k,{name:"question-mark-circle",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No Questions Asked Yet"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Have a question? Be the first to ask the community!"})]})})]})]})]})},Cw=t=>new Promise((e,l)=>{const a=new FileReader;a.readAsDataURL(t),a.onload=()=>e(a.result),a.onerror=u=>l(u)}),ww=({onClose:t,onCreateCommunity:e})=>{const[l,a]=w.useState(""),[u,f]=w.useState(""),[h,g]=w.useState("destination"),[x,p]=w.useState("public"),[v,b]=w.useState(null),[N,j]=w.useState(null),[A,M]=w.useState(!1),I=U=>{if(U.target.files&&U.target.files[0]){const B=U.target.files[0];b(B),j(URL.createObjectURL(B))}},R=w.useCallback(async U=>{if(U.preventDefault(),!l||!u||!v)return;M(!0);const B=await Cw(v),D={id:`community${Date.now()}`,name:l,description:u,coverImageUrl:B,memberCount:1,type:x,category:h,posts:[]};setTimeout(()=>{e(D),M(!1),t()},1e3)},[l,u,x,h,v,e,t]);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:t,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:U=>U.stopPropagation(),children:[s.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Create a New Community"}),s.jsx("button",{onClick:t,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:R,className:"flex-grow overflow-y-auto p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"community-name",className:"block text-sm font-medium text-slate-700",children:"Community Name"}),s.jsx("input",{type:"text",id:"community-name",value:l,onChange:U=>a(U.target.value),placeholder:"e.g., Solo Travelers in Southeast Asia",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"community-description",className:"block text-sm font-medium text-slate-700",children:"Description"}),s.jsx("textarea",{id:"community-description",value:u,onChange:U=>f(U.target.value),rows:3,placeholder:"What is this community about?",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Category"}),s.jsxs("div",{className:"flex items-center space-x-2 bg-slate-100 p-1 rounded-md mt-1",children:[s.jsx("button",{type:"button",onClick:()=>g("destination"),className:`flex-1 text-center px-3 py-1 text-sm font-medium rounded ${h==="destination"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600"}`,children:"Destination"}),s.jsx("button",{type:"button",onClick:()=>g("interest"),className:`flex-1 text-center px-3 py-1 text-sm font-medium rounded ${h==="interest"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600"}`,children:"Interest"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Type"}),s.jsxs("div",{className:"flex items-center space-x-2 bg-slate-100 p-1 rounded-md mt-1",children:[s.jsx("button",{type:"button",onClick:()=>p("public"),className:`flex-1 text-center px-3 py-1 text-sm font-medium rounded ${x==="public"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600"}`,children:"Public"}),s.jsx("button",{type:"button",onClick:()=>p("private"),className:`flex-1 text-center px-3 py-1 text-sm font-medium rounded ${x==="private"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600"}`,children:"Private"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Cover Photo"}),s.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[N?s.jsx("img",{src:N,alt:"Cover preview",className:"w-48 h-24 object-cover rounded-md"}):s.jsx("div",{className:"w-48 h-24 bg-slate-100 rounded-md flex items-center justify-center",children:s.jsx(k,{name:"image",className:"h-10 w-10 text-slate-400"})}),s.jsxs("label",{htmlFor:"cover-upload-community",className:"cursor-pointer bg-white py-2 px-3 border border-slate-300 rounded-md shadow-sm text-sm leading-4 font-medium text-slate-700 hover:bg-slate-50",children:[s.jsx("span",{children:v?"Change photo":"Upload photo"}),s.jsx("input",{id:"cover-upload-community",name:"cover-upload-community",type:"file",className:"sr-only",accept:"image/*",onChange:I,required:!v})]})]})]})]}),s.jsxs("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex justify-end",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-200 mr-2",children:"Cancel"}),s.jsxs("button",{type:"submit",onClick:R,disabled:A||!l||!u||!v,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 flex items-center",children:[A&&s.jsx(Se,{}),s.jsx("span",{className:A?"ml-2":"",children:"Create Community"})]})]})]})})},ds={user1:{id:"u1",name:"Liam Gallagher",avatarUrl:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?q=80&w=200&auto=format&fit=crop",role:"admin"},user2:{id:"u2",name:"Sophia Chen",avatarUrl:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&auto=format&fit=crop",role:"member"},user3:{id:"u3",name:"Ben Carter",avatarUrl:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=200&auto=format&fit=crop",role:"member"}},jw=[{id:"1",name:"Backpackers in Thailand",description:"A group for sharing tips, hidden gems, and stories from your adventures in Thailand. All are welcome!",coverImageUrl:"https://images.unsplash.com/photo-1528181304800-259b08848526?q=80&w=800&auto=format&fit=crop",memberCount:12500,type:"public",category:"destination",posts:[{id:"p1",author:ds.user1,content:"Just arrived in Chiang Mai! Any recommendations for the best street food market? 🍜",createdAt:"2024-07-15T10:00:00.000Z",isPinned:!0},{id:"p2",author:ds.user2,content:"Has anyone taken the sleeper train from Bangkok to Chiang Mai recently? Wondering about the new carriages.",createdAt:"2024-07-14T18:30:00.000Z"}],questions:[{id:"q1",author:ds.user2,question:"What's the best way to get from Suvarnabhumi Airport (BKK) to the city center in Bangkok?",createdAt:"2024-07-15T12:00:00.000Z",answers:[{id:"a1",author:ds.user1,content:"The Airport Rail Link is the cheapest and fastest, takes you right to Phaya Thai station.",createdAt:"2024-07-15T12:05:00.000Z"},{id:"a2",author:ds.user3,content:"I usually just grab a taxi from the official taxi stand on the ground floor. It's more convenient if you have a lot of luggage, but make sure they use the meter!",createdAt:"2024-07-15T12:10:00.000Z"}]}]},{id:"2",name:"Solo Female Travelers",description:"A safe and supportive community for women traveling the world solo. Share advice, safety tips, and empower each other.",coverImageUrl:"https://images.unsplash.com/photo-1532347922424-27903a4c6443?q=80&w=800&auto=format&fit=crop",memberCount:89e3,type:"private",category:"interest",posts:[{id:"p3",author:ds.user2,content:"What are your go-to safety gadgets when traveling alone? Looking for new ideas!",createdAt:"2024-07-15T11:20:00.000Z"}]},{id:"3",name:"European City Breaks",description:"From Rome to Prague, share your favorite weekend getaways, city guides, and travel hacks for exploring Europe.",coverImageUrl:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?q=80&w=800&auto=format&fit=crop",memberCount:45e3,type:"public",category:"destination",posts:[{id:"p4",author:ds.user3,content:"Just got back from Lisbon and I'm obsessed! The pastéis de nata are worth the trip alone.",createdAt:"2024-07-13T14:00:00.000Z"}]},{id:"4",name:"Adventure Seekers & Thrill Chasers",description:"For those who live for the adrenaline rush. Share your stories of skydiving, bungee jumping, and mountain climbing.",coverImageUrl:"https://images.unsplash.com/photo-1551632811-561732d1e306?q=80&w=800&auto=format&fit=crop",memberCount:22e3,type:"public",category:"interest",posts:[]}],Aw=()=>{const[t,e]=w.useState(jw),[l,a]=w.useState(null),[u,f]=w.useState(""),[h,g]=w.useState("all"),[x,p]=w.useState(!1),v=A=>{a(A)},b=()=>{a(null)},N=A=>{e([A,...t])},j=w.useMemo(()=>t.filter(A=>{const M=A.name.toLowerCase().includes(u.toLowerCase()),I=h==="all"||A.category===h;return M&&I}),[u,h,t]);return l?s.jsx(Sw,{community:l,onBack:b}):s.jsxs(s.Fragment,{children:[x&&s.jsx(ww,{onClose:()=>p(!1),onCreateCommunity:N}),s.jsxs("div",{className:"max-w-4xl mx-auto p-2 sm:p-4 animate-fade-in-up",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Travel Communities"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Find your tribe. Connect with travelers who share your passions and destinations."})]}),s.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 flex-shrink-0 w-full sm:w-auto",children:[s.jsx(k,{name:"plus",className:"h-5 w-5 mr-2 -ml-1"}),"Create Community"]})]}),s.jsx("div",{className:"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(k,{name:"search",className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Search for a community...",value:u,onChange:A=>f(A.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border border-slate-300 bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2 bg-slate-200 p-1 rounded-md",children:[s.jsx("button",{onClick:()=>g("all"),className:`px-3 py-1 text-sm font-medium rounded ${h==="all"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600"}`,children:"All"}),s.jsx("button",{onClick:()=>g("destination"),className:`px-3 py-1 text-sm font-medium rounded ${h==="destination"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600"}`,children:"Destinations"}),s.jsx("button",{onClick:()=>g("interest"),className:`px-3 py-1 text-sm font-medium rounded ${h==="interest"?"bg-white text-slate-800 shadow-sm":"bg-transparent text-slate-600"}`,children:"Interests"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(A=>s.jsx(bw,{community:A,onClick:()=>v(A)},A.id))}),j.length===0&&s.jsxs("div",{className:"md:col-span-2 text-center p-10",children:[s.jsx(k,{name:"search",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No communities found"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Try adjusting your search or filters."})]})]})]})},Ew=({event:t,onClick:e})=>{const l=new Date(t.date),a=l.toLocaleString("default",{month:"short"}).toUpperCase(),u=l.getDate();return s.jsxs("div",{onClick:e,className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border border-slate-200 cursor-pointer group flex flex-col",children:[s.jsxs("div",{className:"h-40 overflow-hidden relative",children:[s.jsx("img",{src:t.coverImageUrl,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsxs("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm p-2 rounded-md text-center shadow",children:[s.jsx("p",{className:"text-xs font-bold text-blue-600",children:a}),s.jsx("p",{className:"text-xl font-bold text-slate-800",children:u})]})]}),s.jsxs("div",{className:"p-4 flex flex-col flex-grow justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-semibold text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:t.category}),s.jsx("h3",{className:"mt-2 text-base font-bold text-blue-600 transition-colors line-clamp-2",children:t.title}),s.jsxs("div",{className:"flex items-center text-xs text-slate-500 mt-2",children:[s.jsx(k,{name:"map",className:"h-4 w-4 mr-1.5 flex-shrink-0"}),s.jsx("span",{children:t.location.name})]})]}),s.jsxs("div",{className:"flex items-center text-sm text-slate-600 mt-4 pt-3 border-t border-slate-200",children:[s.jsx(k,{name:"users",className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:[t.attendees.filter(f=>f.rsvp==="going").length," going"]})]})]})]})},Mw=({event:t,onBack:e})=>{const[l,a]=w.useState(null),u=new Date(t.date),f=[{name:t.location.name,lat:t.location.lat,lng:t.location.lng,activity:t.title,day:1,timeOfDay:"Morning"}],h=({status:g,text:x})=>s.jsx("button",{onClick:()=>a(g),className:`flex-1 py-2 px-4 text-sm font-semibold rounded-md transition-colors border-2 ${l===g?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-700 border-slate-300 hover:bg-slate-100"}`,children:x});return s.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in-up",children:[s.jsxs("button",{onClick:e,className:"mb-4 inline-flex items-center text-sm font-medium text-slate-600 hover:text-blue-600",children:[s.jsx(k,{name:"chevron-left",className:"h-5 w-5 mr-1"}),"Back to Events"]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"h-56 relative",children:[s.jsx("img",{src:t.coverImageUrl,alt:t.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-4 left-4 text-white p-2",children:[s.jsx("p",{className:"font-semibold",children:u.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t.title})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:"About this Event"}),s.jsx("p",{className:"mt-2 text-sm text-slate-700 leading-relaxed",children:t.description})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:"Location"}),s.jsxs("div",{className:"mt-2 text-sm text-slate-600 flex items-center",children:[s.jsx(k,{name:"map",className:"h-4 w-4 mr-2 text-slate-500"}),s.jsx("span",{children:t.location.name})]}),s.jsx("div",{className:"mt-2 h-64 w-full rounded-md border border-slate-300 overflow-hidden",children:s.jsx(Fa,{markers:f})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:"Event Chat"}),s.jsx("div",{className:"mt-2 p-3 bg-slate-100 rounded-md border border-slate-200",children:s.jsx("p",{className:"text-sm text-slate-500",children:"Event chat is available for attendees. RSVP to join the conversation!"})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-sm text-slate-800 mb-3",children:"Are you going?"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(h,{status:"going",text:"Going"}),s.jsx(h,{status:"maybe",text:"Maybe"}),s.jsx(h,{status:"not_going",text:"Can't go"})]})]}),s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-sm text-slate-800 mb-3",children:"Organizer"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:t.organizer.avatarUrl,alt:t.organizer.name,className:"w-10 h-10 rounded-full"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.organizer.name}),s.jsx("p",{className:"text-xs text-slate-500",children:"Organizer"})]})]})]}),s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-sm text-slate-800 mb-3",children:["Attendees (",t.attendees.filter(g=>g.rsvp==="going").length," going)"]}),s.jsxs("div",{className:"flex flex-wrap -space-x-2",children:[t.attendees.slice(0,7).map(g=>s.jsx("img",{src:g.avatarUrl,alt:g.name,title:`${g.name} (${g.rsvp})`,className:`w-9 h-9 rounded-full object-cover border-2 border-white ${g.rsvp!=="going"?"opacity-50":""}`},g.id)),t.attendees.length>7&&s.jsxs("div",{className:"w-9 h-9 rounded-full bg-slate-200 flex items-center justify-center text-xs font-semibold text-slate-600 border-2 border-white",children:["+",t.attendees.length-7]})]})]})]})]})]})]})},Rw=t=>new Promise((e,l)=>{const a=new FileReader;a.readAsDataURL(t),a.onload=()=>e(a.result),a.onerror=u=>l(u)}),kw={id:"u1",name:"You",avatarUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=200&auto=format&fit=crop",role:"admin"},_w=({onClose:t,onCreateEvent:e})=>{const[l,a]=w.useState(""),[u,f]=w.useState(""),[h,g]=w.useState(""),[x,p]=w.useState(""),[v,b]=w.useState(""),[N,j]=w.useState(null),[A,M]=w.useState(null),[I,R]=w.useState(!1),U=D=>{if(D.target.files&&D.target.files[0]){const q=D.target.files[0];j(q),M(URL.createObjectURL(q))}},B=w.useCallback(async D=>{if(D.preventDefault(),!l||!u||!h||!x||!v||!N)return;R(!0);const q=await Rw(N),Q={id:`event${Date.now()}`,title:l,description:u,date:new Date(h).toISOString(),location:{name:x,lat:0,lng:0},organizer:kw,attendees:[],coverImageUrl:q,category:v};setTimeout(()=>{e(Q),R(!1),t()},1e3)},[l,u,h,x,v,N,e,t]);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:t,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:D=>D.stopPropagation(),children:[s.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Create a New Meetup Event"}),s.jsx("button",{onClick:t,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:B,className:"flex-grow overflow-y-auto p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"event-title",className:"block text-sm font-medium text-slate-700",children:"Event Title"}),s.jsx("input",{type:"text",id:"event-title",value:l,onChange:D=>a(D.target.value),placeholder:"e.g., Photography Walk in Kyoto",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"event-description",className:"block text-sm font-medium text-slate-700",children:"Description"}),s.jsx("textarea",{id:"event-description",value:u,onChange:D=>f(D.target.value),rows:4,placeholder:"Tell everyone what the event is about...",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"event-date",className:"block text-sm font-medium text-slate-700",children:"Date & Time"}),s.jsx("input",{type:"datetime-local",id:"event-date",value:h,onChange:D=>g(D.target.value),className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"event-category",className:"block text-sm font-medium text-slate-700",children:"Category"}),s.jsx("input",{type:"text",id:"event-category",value:v,onChange:D=>b(D.target.value),placeholder:"e.g., Photography, Food Tour",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"event-location",className:"block text-sm font-medium text-slate-700",children:"Location Name"}),s.jsx("input",{type:"text",id:"event-location",value:x,onChange:D=>p(D.target.value),placeholder:"e.g., Gion Corner, Kyoto",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Cover Photo"}),s.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[A?s.jsx("img",{src:A,alt:"Cover preview",className:"w-48 h-24 object-cover rounded-md"}):s.jsx("div",{className:"w-48 h-24 bg-slate-100 rounded-md flex items-center justify-center",children:s.jsx(k,{name:"image",className:"h-10 w-10 text-slate-400"})}),s.jsxs("label",{htmlFor:"cover-upload-event",className:"cursor-pointer bg-white py-2 px-3 border border-slate-300 rounded-md shadow-sm text-sm leading-4 font-medium text-slate-700 hover:bg-slate-50",children:[s.jsx("span",{children:N?"Change photo":"Upload photo"}),s.jsx("input",{id:"cover-upload-event",name:"cover-upload-event",type:"file",className:"sr-only",accept:"image/*",onChange:U,required:!N})]})]})]})]}),s.jsxs("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex justify-end",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-200 mr-2",children:"Cancel"}),s.jsxs("button",{type:"submit",onClick:B,disabled:I||!l||!u||!h||!x||!v||!N,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 flex items-center",children:[I&&s.jsx(Se,{}),s.jsx("span",{className:I?"ml-2":"",children:"Create Event"})]})]})]})})},gn={user1:{id:"u1",name:"Liam Gallagher",avatarUrl:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?q=80&w=200&auto=format&fit=crop",role:"admin"},user2:{id:"u2",name:"Sophia Chen",avatarUrl:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&auto=format&fit=crop",role:"member"},user3:{id:"u3",name:"Ben Carter",avatarUrl:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=200&auto=format&fit=crop",role:"member"},user4:{id:"u4",name:"Aisha Khan",avatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=200&auto=format&fit=crop",role:"member"}},Dw=[{id:"e1",title:"Kyoto Photography Walk",description:"Join us for a scenic walk through the historic Gion district, capturing the beauty of traditional Japanese architecture and maybe even a geisha! All skill levels are welcome. We will end at a local tea house to share our best shots.",date:"2024-08-15T10:00:00.000Z",location:{name:"Gion Corner, Kyoto",lat:35,lng:135.7786},organizer:gn.user1,attendees:[{...gn.user2,rsvp:"going"},{...gn.user3,rsvp:"maybe"},{...gn.user4,rsvp:"going"}],coverImageUrl:"https://images.unsplash.com/photo-1526481280643-33c94628b6fa?q=80&w=800&auto=format&fit=crop",category:"Photography"},{id:"e2",title:"Roman Street Food Tour",description:"Taste your way through Rome! We'll explore the vibrant Trastevere neighborhood, sampling local delicacies like supplì, pizza al taglio, and artisanal gelato. Come hungry and ready to explore!",date:"2024-09-05T18:30:00.000Z",location:{name:"Piazza Trilussa, Rome",lat:41.8902,lng:12.4699},organizer:gn.user3,attendees:[{...gn.user1,rsvp:"going"},{...gn.user2,rsvp:"going"}],coverImageUrl:"https://images.unsplash.com/photo-1551786134-f23555230c7c?q=80&w=800&auto=format&fit=crop",category:"Food Tour"},{id:"e3",title:"Central Park Sketching Session",description:"Let's meet up for a relaxing afternoon of sketching in Central Park. We'll gather near the Bethesda Terrace to capture its beautiful architecture and the surrounding nature. No experience necessary, just bring your sketchbook and enjoy the creative vibe.",date:"2024-08-20T14:00:00.000Z",location:{name:"Bethesda Terrace, Central Park, NYC",lat:40.7794,lng:-73.9691},organizer:gn.user4,attendees:[{...gn.user2,rsvp:"going"}],coverImageUrl:"https://images.unsplash.com/photo-1569238388313-2a441113670a?q=80&w=800&auto=format&fit=crop",category:"Art"}],Iw=()=>{const[t,e]=w.useState(Dw),[l,a]=w.useState(null),[u,f]=w.useState(!1),h=g=>{e([g,...t])};return l?s.jsx(Mw,{event:l,onBack:()=>a(null)}):s.jsxs(s.Fragment,{children:[u&&s.jsx(_w,{onClose:()=>f(!1),onCreateEvent:h}),s.jsxs("div",{className:"max-w-4xl mx-auto p-2 sm:p-4 animate-fade-in-up",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Meetup Events"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Discover local gatherings, tours, and workshops organized by fellow travelers."})]}),s.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 flex-shrink-0 w-full sm:w-auto",children:[s.jsx(k,{name:"plus",className:"h-5 w-5 mr-2 -ml-1"}),"Create Event"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(g=>s.jsx(Ew,{event:g,onClick:()=>a(g)},g.id))})]})]})},Lw=({flight:t,onClose:e,onBookingComplete:l})=>{const[a,u]=w.useState(1),[f,h]=w.useState({firstName:"",lastName:"",dateOfBirth:"",email:"",phone:""}),[g,x]=w.useState(!1);w.useEffect(()=>(document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[]);const p=B=>{const{name:D,value:q}=B.target;h(Q=>({...Q,[D]:q}))},v=()=>u(B=>B+1),b=()=>u(B=>B-1),N=B=>{B.preventDefault(),x(!0),setTimeout(()=>{x(!1),u(4)},2e3)},j=()=>{const B={bookingReference:`FW${Math.random().toString(36).substring(2,8).toUpperCase()}`,flight:t,passenger:f,totalPaid:t.price+75.2};l(B)},A=["Review Flight","Passenger Details","Payment","Confirmation"],M=t.price,I=75.2,R=M+I,U=()=>{switch(a){case 1:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Review Your Flight"}),s.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg border border-slate-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(k,{name:"flight",className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-800",children:t.airline}),s.jsxs("p",{className:"text-sm text-slate-500",children:[t.departureAirport," to ",t.arrivalAirport]})]})]}),s.jsxs("div",{className:"mt-4 text-sm space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Departure:"})," ",t.departureTime]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Arrival:"})," ",t.arrivalTime]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Duration:"})," ",t.duration," (",t.stops>0?`${t.stops} stop(s)`:"Direct",")"]})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"Price Summary"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 mt-2",children:[s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"Base Fare (1 adult)"})," ",s.jsxs("span",{children:["$",M.toLocaleString()]})]}),s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"Taxes & Fees"})," ",s.jsxs("span",{children:["$",I.toFixed(2)]})]}),s.jsxs("li",{className:"flex justify-between font-bold text-slate-800 text-base border-t pt-2 mt-2",children:[s.jsx("span",{children:"Total"})," ",s.jsxs("span",{children:["$",R.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]});case 2:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Passenger Details"}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:f.firstName,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:f.lastName,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0})]}),s.jsx("input",{type:"date",name:"dateOfBirth",placeholder:"Date of Birth",value:f.dateOfBirth,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:f.email,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:f.phone,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm"})]})]});case 3:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Secure Payment"}),s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 text-sm text-blue-700 mb-4",children:s.jsx("p",{children:"This is a simulated payment form. Do not enter real credit card details."})}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsx("input",{type:"text",name:"cardholderName",placeholder:"Cardholder Name",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"text",name:"cardNumber",placeholder:"Card Number (e.g., 4242 4242...)",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",name:"expiryDate",placeholder:"Expiry Date (MM/YY)",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"text",name:"cvv",placeholder:"CVV",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0})]})]})]});case 4:return s.jsxs("div",{className:"text-center",children:[s.jsx(k,{name:"check-circle",className:"h-16 w-16 text-green-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-2xl font-bold text-slate-800",children:"Booking Confirmed!"}),s.jsxs("p",{className:"mt-2 text-slate-600",children:["Your flight to ",t.arrivalAirport," is booked. A confirmation has been sent to your email."]}),s.jsxs("div",{className:"mt-6 text-left bg-slate-100 p-4 rounded-lg text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Booking Reference:"})," ",s.jsxs("span",{className:"font-mono bg-slate-200 px-2 py-1 rounded",children:["FW",Math.random().toString(36).substring(2,8).toUpperCase()]})]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Passenger:"})," ",f.firstName," ",f.lastName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Paid:"})," $",R.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]});default:return null}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4","aria-labelledby":"booking-title",role:"dialog","aria-modal":"true",onClick:e,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col transform transition-all animate-fade-in-up",onClick:B=>B.stopPropagation(),children:[s.jsxs("header",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{id:"booking-title",className:"text-xl font-bold text-slate-800",children:"Complete Your Booking"}),s.jsx("button",{onClick:e,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close booking",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),a<=3&&s.jsx("div",{className:"mt-4 flex items-center justify-between",children:A.map((B,D)=>s.jsxs(it.Fragment,{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${a>D?"bg-blue-600 text-white":"bg-slate-200 text-slate-600"}`,children:a>D?s.jsx(k,{name:"check-circle",className:"w-4 h-4"}):D+1}),s.jsx("span",{className:`ml-2 text-xs hidden sm:inline ${a>=D+1?"font-semibold text-slate-800":"text-slate-500"}`,children:B})]}),D<A.length-1&&s.jsx("div",{className:"flex-1 h-0.5 bg-slate-200 mx-2"})]},B))})]}),s.jsx("main",{className:"overflow-y-auto p-6 flex-grow",children:U()}),s.jsxs("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex justify-between items-center",children:[s.jsx("div",{children:a>1&&a<4&&s.jsx("button",{onClick:b,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-200",children:"Back"})}),s.jsxs("div",{children:[a<3&&s.jsx("button",{onClick:v,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Next"}),a===3&&s.jsxs("button",{onClick:N,disabled:g,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 flex items-center",children:[g&&s.jsx(Se,{}),s.jsxs("span",{className:g?"ml-2":"",children:["Confirm and Pay $",R.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),a===4&&s.jsx("button",{onClick:j,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})]})})},Uw=({stay:t,onClose:e,onBookingComplete:l})=>{const[a,u]=w.useState(1),[f,h]=w.useState({firstName:"",lastName:"",dateOfBirth:"",email:"",phone:""}),[g,x]=w.useState(!1);w.useEffect(()=>(document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[]);const p=B=>{const{name:D,value:q}=B.target;h(Q=>({...Q,[D]:q}))},v=()=>u(B=>B+1),b=()=>u(B=>B-1),N=B=>{B.preventDefault(),x(!0),setTimeout(()=>{x(!1),u(4)},2e3)},j=()=>{const B={bookingReference:`FW-S${Math.random().toString(36).substring(2,8).toUpperCase()}`,stay:t,guest:f,totalPaid:R};l(B)},A=["Review Stay","Guest Details","Payment","Confirmation"],M=t.pricePerNight*(t.numberOfNights||1),I=M*.15,R=M+I,U=()=>{switch(a){case 1:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Review Your Stay"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-24 h-24 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-800",children:t.name}),s.jsx("p",{className:"text-sm text-slate-500",children:t.location}),s.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[t.numberOfNights||1," night(s)"]})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"Price Summary"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 mt-2",children:[s.jsxs("li",{className:"flex justify-between",children:[s.jsxs("span",{children:["Base Price (",t.numberOfNights||1," nights)"]})," ",s.jsxs("span",{children:["$",M.toLocaleString()]})]}),s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"Taxes & Fees"})," ",s.jsxs("span",{children:["$",I.toFixed(2)]})]}),s.jsxs("li",{className:"flex justify-between font-bold text-slate-800 text-base border-t pt-2 mt-2",children:[s.jsx("span",{children:"Total"})," ",s.jsxs("span",{children:["$",R.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]});case 2:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Lead Guest Details"}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:f.firstName,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:f.lastName,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0})]}),s.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:f.email,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:f.phone,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm"})]})]});case 3:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Secure Payment"}),s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 text-sm text-blue-700 mb-4",children:s.jsx("p",{children:"This is a simulated payment form. Do not enter real credit card details."})}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsx("input",{type:"text",name:"cardholderName",placeholder:"Cardholder Name",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"text",name:"cardNumber",placeholder:"Card Number (e.g., 4242 4242...)",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",name:"expiryDate",placeholder:"Expiry Date (MM/YY)",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"text",name:"cvv",placeholder:"CVV",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0})]})]})]});case 4:return s.jsxs("div",{className:"text-center",children:[s.jsx(k,{name:"check-circle",className:"h-16 w-16 text-green-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-2xl font-bold text-slate-800",children:"Booking Confirmed!"}),s.jsxs("p",{className:"mt-2 text-slate-600",children:["Your stay at ",t.name," is booked. A confirmation has been sent to your email."]}),s.jsxs("div",{className:"mt-6 text-left bg-slate-100 p-4 rounded-lg text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Booking Reference:"})," ",s.jsxs("span",{className:"font-mono bg-slate-200 px-2 py-1 rounded",children:["FW-S",Math.random().toString(36).substring(2,8).toUpperCase()]})]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Guest:"})," ",f.firstName," ",f.lastName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Paid:"})," $",R.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]});default:return null}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4","aria-labelledby":"booking-title",role:"dialog","aria-modal":"true",onClick:e,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col transform transition-all animate-fade-in-up",onClick:B=>B.stopPropagation(),children:[s.jsxs("header",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{id:"booking-title",className:"text-xl font-bold text-slate-800",children:"Complete Your Booking"}),s.jsx("button",{onClick:e,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close booking",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),a<=3&&s.jsx("div",{className:"mt-4 flex items-center justify-between",children:A.map((B,D)=>s.jsxs(it.Fragment,{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${a>D?"bg-blue-600 text-white":"bg-slate-200 text-slate-600"}`,children:a>D?s.jsx(k,{name:"check-circle",className:"w-4 h-4"}):D+1}),s.jsx("span",{className:`ml-2 text-xs hidden sm:inline ${a>=D+1?"font-semibold text-slate-800":"text-slate-500"}`,children:B})]}),D<A.length-1&&s.jsx("div",{className:"flex-1 h-0.5 bg-slate-200 mx-2"})]},B))})]}),s.jsx("main",{className:"overflow-y-auto p-6 flex-grow",children:U()}),s.jsxs("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex justify-between items-center",children:[s.jsx("div",{children:a>1&&a<4&&s.jsx("button",{onClick:b,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-200",children:"Back"})}),s.jsxs("div",{children:[a<3&&s.jsx("button",{onClick:v,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Next"}),a===3&&s.jsxs("button",{onClick:N,disabled:g,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 flex items-center",children:[g&&s.jsx(Se,{}),s.jsxs("span",{className:g?"ml-2":"",children:["Confirm and Pay $",R.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),a===4&&s.jsx("button",{onClick:j,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})]})})},Pw=({car:t,onClose:e,onBookingComplete:l})=>{const[a,u]=w.useState(1),[f,h]=w.useState({firstName:"",lastName:"",dateOfBirth:"",email:"",phone:""}),[g,x]=w.useState(!1);w.useEffect(()=>(document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[]);const p=B=>{const{name:D,value:q}=B.target;h(Q=>({...Q,[D]:q}))},v=()=>u(B=>B+1),b=()=>u(B=>B-1),N=B=>{B.preventDefault(),x(!0),setTimeout(()=>{x(!1),u(4)},2e3)},j=()=>{const B={bookingReference:`FW-C${Math.random().toString(36).substring(2,8).toUpperCase()}`,car:t,driver:f,totalPaid:R};l(B)},A=["Review Car","Driver Details","Payment","Confirmation"],M=t.pricePerDay*(t.numberOfDays||1),I=M*.2,R=M+I,U=()=>{switch(a){case 1:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Review Your Rental Car"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("img",{src:t.imageUrl,alt:`${t.make} ${t.model}`,className:"w-24 h-24 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-slate-800",children:[t.make," ",t.model]}),s.jsxs("p",{className:"text-sm text-slate-500",children:[t.carType," from ",t.company]}),s.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[t.numberOfDays||1," day(s) in ",t.location]})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"Price Summary"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 mt-2",children:[s.jsxs("li",{className:"flex justify-between",children:[s.jsxs("span",{children:["Base Price (",t.numberOfDays||1," days)"]})," ",s.jsxs("span",{children:["$",M.toLocaleString()]})]}),s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"Taxes & Fees"})," ",s.jsxs("span",{children:["$",I.toFixed(2)]})]}),s.jsxs("li",{className:"flex justify-between font-bold text-slate-800 text-base border-t pt-2 mt-2",children:[s.jsx("span",{children:"Total"})," ",s.jsxs("span",{children:["$",R.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]});case 2:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Primary Driver Details"}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",name:"firstName",placeholder:"First Name",value:f.firstName,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"text",name:"lastName",placeholder:"Last Name",value:f.lastName,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0})]}),s.jsx("input",{type:"date",name:"dateOfBirth",placeholder:"Date of Birth",value:f.dateOfBirth,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"email",name:"email",placeholder:"Email Address",value:f.email,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",value:f.phone,onChange:p,className:"w-full rounded-md border-slate-300 shadow-sm"})]})]});case 3:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Secure Payment"}),s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 text-sm text-blue-700 mb-4",children:s.jsx("p",{children:"This is a simulated payment form. Do not enter real credit card details."})}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsx("input",{type:"text",name:"cardholderName",placeholder:"Cardholder Name",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"text",name:"cardNumber",placeholder:"Card Number (e.g., 4242 4242...)",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",name:"expiryDate",placeholder:"Expiry Date (MM/YY)",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0}),s.jsx("input",{type:"text",name:"cvv",placeholder:"CVV",className:"w-full rounded-md border-slate-300 shadow-sm",required:!0})]})]})]});case 4:return s.jsxs("div",{className:"text-center",children:[s.jsx(k,{name:"check-circle",className:"h-16 w-16 text-green-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-2xl font-bold text-slate-800",children:"Booking Confirmed!"}),s.jsx("p",{className:"mt-2 text-slate-600",children:"Your rental car is booked. A confirmation has been sent to your email."}),s.jsxs("div",{className:"mt-6 text-left bg-slate-100 p-4 rounded-lg text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Booking Reference:"})," ",s.jsxs("span",{className:"font-mono bg-slate-200 px-2 py-1 rounded",children:["FW-C",Math.random().toString(36).substring(2,8).toUpperCase()]})]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Driver:"})," ",f.firstName," ",f.lastName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Paid:"})," $",R.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]});default:return null}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4","aria-labelledby":"booking-title",role:"dialog","aria-modal":"true",onClick:e,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col transform transition-all animate-fade-in-up",onClick:B=>B.stopPropagation(),children:[s.jsxs("header",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{id:"booking-title",className:"text-xl font-bold text-slate-800",children:"Complete Your Booking"}),s.jsx("button",{onClick:e,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close booking",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),a<=3&&s.jsx("div",{className:"mt-4 flex items-center justify-between",children:A.map((B,D)=>s.jsxs(it.Fragment,{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${a>D?"bg-blue-600 text-white":"bg-slate-200 text-slate-600"}`,children:a>D?s.jsx(k,{name:"check-circle",className:"w-4 h-4"}):D+1}),s.jsx("span",{className:`ml-2 text-xs hidden sm:inline ${a>=D+1?"font-semibold text-slate-800":"text-slate-500"}`,children:B})]}),D<A.length-1&&s.jsx("div",{className:"flex-1 h-0.5 bg-slate-200 mx-2"})]},B))})]}),s.jsx("main",{className:"overflow-y-auto p-6 flex-grow",children:U()}),s.jsxs("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex justify-between items-center",children:[s.jsx("div",{children:a>1&&a<4&&s.jsx("button",{onClick:b,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-200",children:"Back"})}),s.jsxs("div",{children:[a<3&&s.jsx("button",{onClick:v,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Next"}),a===3&&s.jsxs("button",{onClick:N,disabled:g,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 flex items-center",children:[g&&s.jsx(Se,{}),s.jsxs("span",{className:g?"ml-2":"",children:["Confirm and Pay $",R.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),a===4&&s.jsx("button",{onClick:j,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})]})})},Bw=({trip:t,onClick:e})=>{const l=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"});return s.jsxs("div",{onClick:e,className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 border border-slate-200 cursor-pointer group flex flex-col sm:flex-row",children:[s.jsx("div",{className:"sm:w-1/3 h-48 sm:h-auto overflow-hidden rounded-t-lg sm:rounded-l-lg sm:rounded-t-none",children:s.jsx("img",{src:t.coverImageUrl,alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),s.jsxs("div",{className:"p-4 flex flex-col justify-between flex-1",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 group-hover:text-blue-600 transition-colors",children:t.name}),s.jsxs("div",{className:"flex items-center text-sm text-slate-500 mt-1",children:[s.jsx(k,{name:"map",className:"h-4 w-4 mr-2"}),s.jsx("span",{children:t.destination})]}),s.jsxs("div",{className:"flex items-center text-sm text-slate-500 mt-1",children:[s.jsx(k,{name:"calendar",className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:[l(t.startDate)," - ",l(t.endDate)]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 flex justify-between items-center",children:[s.jsx("div",{className:"flex items-center -space-x-3",children:t.members.map(a=>s.jsx("img",{src:a.avatarUrl,alt:a.name,title:a.name,className:"w-9 h-9 rounded-full object-cover border-2 border-white"},a.id))}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"View Dashboard →"})]})]})]})},Gw=({trip:t,onBack:e})=>{const[l,a]=w.useState(t.tasks),[u,f]=w.useState(t.polls),[h,g]=w.useState(t.expenses),[x,p]=w.useState({}),[v,b]=w.useState({description:"",amount:"",paidBy:t.members[0].id,sharedWith:t.members.map(V=>V.id)}),[N,j]=w.useState(""),[A,M]=w.useState(!1),[I,R]=w.useState({question:"",options:["",""]}),U=V=>{a(Z=>Z.map(E=>E.id===V?{...E,isCompleted:!E.isCompleted}:E))},B=(V,Z)=>{x[V]||(f(E=>E.map(O=>{if(O.id!==V)return O;const le=O.options.map(ne=>ne.id===Z?{...ne,votes:[...ne.votes,"u1"]}:ne);return{...O,options:le}})),p(E=>({...E,[V]:Z})))},D=V=>{const{name:Z,value:E}=V.target;b(O=>({...O,[Z]:E}))},q=V=>{b(Z=>{const E=Z.sharedWith.includes(V)?Z.sharedWith.filter(O=>O!==V):[...Z.sharedWith,V];return{...Z,sharedWith:E}})},Q=V=>{V.preventDefault();const Z=parseFloat(v.amount);if(!v.description.trim()||!Z||Z<=0){j("Please enter a valid description and amount.");return}if(v.sharedWith.length===0){j("An expense must be shared with at least one person.");return}j("");const E={id:`e${Date.now()}`,description:v.description.trim(),amount:Z,paidBy:v.paidBy,sharedWith:v.sharedWith};g(O=>[E,...O]),b({description:"",amount:"",paidBy:t.members[0].id,sharedWith:t.members.map(O=>O.id)})},ue=V=>{R(Z=>({...Z,question:V.target.value}))},ie=(V,Z)=>{const E=[...I.options];E[V]=Z,R(O=>({...O,options:E}))},X=()=>{R(V=>({...V,options:[...V.options,""]}))},te=V=>{if(I.options.length<=2)return;const Z=I.options.filter((E,O)=>O!==V);R(E=>({...E,options:Z}))},re=V=>{if(V.preventDefault(),!I.question.trim()||I.options.some(E=>!E.trim())){alert("Please fill in the poll question and all options.");return}const Z={id:`p${Date.now()}`,question:I.question.trim(),isClosed:!1,options:I.options.map((E,O)=>({id:`o${Date.now()}${O}`,text:E.trim(),votes:[]}))};f(E=>[Z,...E]),R({question:"",options:["",""]}),M(!1)},ae=V=>{f(Z=>Z.map(E=>E.id===V?{...E,isClosed:!0}:E))},ye=w.useMemo(()=>{if(h.length===0)return[];const V=new Map;t.members.forEach(ce=>V.set(ce.id,0)),h.forEach(ce=>{if(ce.sharedWith.length===0)return;const ve=ce.amount/ce.sharedWith.length;V.set(ce.paidBy,(V.get(ce.paidBy)||0)+ce.amount),ce.sharedWith.forEach(he=>{V.set(he,(V.get(he)||0)-ve)})});const Z=[],E=[];for(const[ce,ve]of V.entries())ve<-.01&&Z.push({id:ce,amount:-ve}),ve>.01&&E.push({id:ce,amount:ve});const O=[];let le=0,ne=0;for(;le<Z.length&&ne<E.length;){const ce=Z[le],ve=E[ne],he=Math.min(ce.amount,ve.amount);he>.01&&O.push({from:t.members.find($e=>$e.id===ce.id),to:t.members.find($e=>$e.id===ve.id),amount:he}),ce.amount-=he,ve.amount-=he,ce.amount<.01&&le++,ve.amount<.01&&ne++}return O},[h,t.members]),Ne=V=>V.options.reduce((Z,E)=>Z+E.votes.length,0),se=V=>new Date(V).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),F=V=>t.members.find(Z=>Z.id===V),ee=w.useMemo(()=>t.members.some(V=>V.id==="u1"&&V.role==="admin"),[t.members]);return s.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in-up",children:[s.jsxs("button",{onClick:e,className:"mb-4 inline-flex items-center text-sm font-medium text-slate-600 hover:text-blue-600",children:[s.jsx(k,{name:"chevron-left",className:"h-5 w-5 mr-1"}),"Back to All Trips"]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-6",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight text-slate-800",children:t.name}),s.jsx("p",{className:"mt-1 text-slate-500",children:t.destination}),s.jsxs("div",{className:"mt-4 flex items-center -space-x-2",children:[t.members.map(V=>s.jsx("img",{src:V.avatarUrl,alt:V.name,title:V.name,className:"w-8 h-8 rounded-full border-2 border-white object-cover"},V.id)),s.jsxs("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-xs font-semibold text-slate-600 border-2 border-white",children:["+",t.members.length]})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center mb-4",children:[s.jsx(k,{name:"calendar",className:"h-5 w-5 mr-3 text-blue-600"}),"Shared Itinerary"]}),s.jsx("div",{className:"space-y-4",children:t.itinerary.map(V=>s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-700",children:se(V.date)}),s.jsx("ul",{className:"mt-2 ml-4 border-l border-slate-200 pl-4 space-y-3",children:V.items.map(Z=>s.jsxs("li",{className:"relative",children:[s.jsx("div",{className:"absolute -left-[23px] top-1.5 h-3 w-3 rounded-full bg-blue-500 border-2 border-white"}),s.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Z.time,": ",Z.activity]}),Z.location&&s.jsx("p",{className:"text-xs text-slate-500",children:Z.location})]},Z.id))})]},V.date))})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center mb-4",children:[s.jsx(k,{name:"receipt",className:"h-5 w-5 mr-3 text-blue-600"}),"Expense Tracker"]}),s.jsxs("form",{onSubmit:Q,className:"p-4 bg-slate-50 border border-slate-200 rounded-md space-y-4",children:[s.jsx("h4",{className:"font-semibold text-sm text-slate-700",children:"Add a New Expense"}),s.jsx("input",{type:"text",name:"description",value:v.description,onChange:D,placeholder:"Description (e.g., Dinner)",className:"w-full text-sm rounded-md border-slate-300 shadow-sm"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"number",name:"amount",value:v.amount,onChange:D,placeholder:"Amount ($)",min:"0.01",step:"0.01",className:"w-full text-sm rounded-md border-slate-300 shadow-sm"}),s.jsxs("select",{name:"paidBy",value:v.paidBy,onChange:D,className:"w-full text-sm rounded-md border-slate-300 shadow-sm",children:[s.jsx("option",{value:"",disabled:!0,children:"Paid by..."}),t.members.map(V=>s.jsx("option",{value:V.id,children:V.name},V.id))]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Shared with:"}),s.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:t.members.map(V=>s.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:v.sharedWith.includes(V.id),onChange:()=>q(V.id),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2",children:V.name})]},V.id))})]}),N&&s.jsx("p",{className:"text-xs text-red-600",children:N}),s.jsx("button",{type:"submit",className:"w-full px-4 py-2 text-sm font-semibold rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Add Expense"})]}),s.jsx("div",{className:"mt-6 space-y-3",children:h.map(V=>{var Z;return s.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-md text-sm",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("p",{className:"font-semibold text-slate-800",children:V.description}),s.jsxs("p",{className:"font-bold text-slate-900",children:["$",V.amount.toFixed(2)]})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Paid by ",((Z=F(V.paidBy))==null?void 0:Z.name)||"Unknown"]})]},V.id)})}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200",children:[s.jsx("h4",{className:"font-semibold text-sm text-slate-700 mb-2",children:"Who Owes Who"}),ye.length>0?s.jsx("ul",{className:"space-y-2",children:ye.map((V,Z)=>s.jsxs("li",{className:"flex items-center justify-between text-sm p-2 bg-slate-50 rounded-md",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:V.from.avatarUrl,alt:V.from.name,className:"w-6 h-6 rounded-full mr-2"}),s.jsxs("span",{children:[V.from.name," owes ",V.to.name]})]}),s.jsxs("span",{className:"font-semibold text-green-700",children:["$",V.amount.toFixed(2)]})]},Z))}):s.jsx("p",{className:"text-sm text-slate-500 italic",children:"Everyone is settled up!"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center mb-4",children:[s.jsx(k,{name:"check-circle",className:"h-5 w-5 mr-3 text-blue-600"}),"To-Do List"]}),s.jsx("ul",{className:"space-y-3",children:l.map(V=>s.jsx("li",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:V.isCompleted,onChange:()=>U(V.id),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:`ml-3 text-sm ${V.isCompleted?"text-slate-400 line-through":"text-slate-700"}`,children:V.task})]})},V.id))})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s.jsx(k,{name:"lightbulb",className:"h-5 w-5 mr-3 text-blue-600"}),"Group Polls"]}),s.jsx("button",{onClick:()=>M(V=>!V),className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:A?"Cancel":"Add Poll"})]}),A&&s.jsxs("form",{onSubmit:re,className:"p-4 bg-slate-50 border border-slate-200 rounded-md space-y-3 mb-4 animate-fade-in",children:[s.jsx("input",{type:"text",value:I.question,onChange:ue,placeholder:"Poll question...",className:"w-full text-sm rounded-md border-slate-300 shadow-sm",required:!0}),I.options.map((V,Z)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:V,onChange:E=>ie(Z,E.target.value),placeholder:`Option ${Z+1}`,className:"flex-grow text-sm rounded-md border-slate-300 shadow-sm",required:!0}),I.options.length>2&&s.jsx("button",{type:"button",onClick:()=>te(Z),className:"p-1 rounded-full text-slate-400 hover:bg-red-100 hover:text-red-600",children:s.jsx(k,{name:"x-mark",className:"h-4 w-4"})})]},Z)),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("button",{type:"button",onClick:X,className:"text-xs font-semibold text-blue-600 hover:underline",children:"+ Add Option"}),s.jsx("button",{type:"submit",className:"px-3 py-1 text-xs font-semibold rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Create Poll"})]})]}),s.jsx("div",{className:"space-y-5",children:u.map(V=>{const Z=w.useMemo(()=>{if(!V.isClosed)return[];let E=0;return V.options.forEach(O=>{O.votes.length>E&&(E=O.votes.length)}),E===0?[]:V.options.filter(O=>O.votes.length===E).map(O=>O.id)},[V]);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"font-semibold text-sm text-slate-800 mb-2",children:V.question}),ee&&!V.isClosed&&s.jsx("button",{onClick:()=>ae(V.id),className:"text-xs font-bold text-red-600 hover:underline",children:"Close Poll"})]}),s.jsx("div",{className:"space-y-2",children:V.options.map(E=>{const O=Ne(V),le=O>0?E.votes.length/O*100:0,ne=Z.includes(E.id);return s.jsxs("button",{onClick:()=>B(V.id,E.id),disabled:!!x[V.id]||V.isClosed,className:`w-full text-left p-2 rounded-md border relative overflow-hidden disabled:cursor-not-allowed group transition-colors ${ne?"border-green-400":"border-slate-200"}`,children:[s.jsx("div",{className:`absolute top-0 left-0 h-full transition-all duration-300 ${ne?"bg-green-100":"bg-blue-100"}`,style:{width:`${x[V.id]||V.isClosed?le:0}%`}}),s.jsxs("div",{className:"relative flex justify-between items-center text-sm",children:[s.jsxs("span",{children:[x[V.id]===E.id&&s.jsx("span",{className:"mr-2",children:"✅"}),ne&&s.jsx(k,{name:"trophy",className:"h-4 w-4 mr-2 inline text-green-600"}),E.text]}),s.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[E.votes.length," vote",E.votes.length!==1?"s":""]})]})]},E.id)})})]},V.id)})})]})]})]})]})},Vw=t=>new Promise((e,l)=>{const a=new FileReader;a.readAsDataURL(t),a.onload=()=>e(a.result),a.onerror=u=>l(u)}),qw={id:"u1",name:"You",avatarUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=200&auto=format&fit=crop",role:"admin"},Fw=({onClose:t,onCreateTrip:e})=>{const[l,a]=w.useState(""),[u,f]=w.useState(""),[h,g]=w.useState(""),[x,p]=w.useState(""),[v,b]=w.useState(""),[N,j]=w.useState(null),[A,M]=w.useState(null),[I,R]=w.useState(!1),U=D=>{if(D.target.files&&D.target.files[0]){const q=D.target.files[0];j(q),M(URL.createObjectURL(q))}},B=w.useCallback(async D=>{if(D.preventDefault(),!l||!u||!h||!x||!N)return;R(!0);const q=await Vw(N),Q={id:`trip${Date.now()}`,name:l,destination:u,coverImageUrl:q,startDate:new Date(h).toISOString(),endDate:new Date(x).toISOString(),description:v,members:[qw],itinerary:[],tasks:[],polls:[],expenses:[]};setTimeout(()=>{e(Q),R(!1),t()},1e3)},[l,u,h,x,v,N,e,t]);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:t,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:D=>D.stopPropagation(),children:[s.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Start a New Group Trip"}),s.jsx("button",{onClick:t,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:B,className:"flex-grow overflow-y-auto p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"trip-name",className:"block text-sm font-medium text-slate-700",children:"Trip Name"}),s.jsx("input",{type:"text",id:"trip-name",value:l,onChange:D=>a(D.target.value),placeholder:"e.g., Summer in the Alps",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"trip-destination",className:"block text-sm font-medium text-slate-700",children:"Destination"}),s.jsx("input",{type:"text",id:"trip-destination",value:u,onChange:D=>f(D.target.value),placeholder:"e.g., Interlaken, Switzerland",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-slate-700",children:"Start Date"}),s.jsx("input",{type:"date",id:"start-date",value:h,onChange:D=>g(D.target.value),className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-slate-700",children:"End Date"}),s.jsx("input",{type:"date",id:"end-date",value:x,onChange:D=>p(D.target.value),min:h,className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700",children:"Trip Info / Description"}),s.jsx("textarea",{id:"description",value:v,onChange:D=>b(D.target.value),rows:3,placeholder:"Share some details about the trip...",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Cover Photo"}),s.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[A?s.jsx("img",{src:A,alt:"Cover preview",className:"w-48 h-24 object-cover rounded-md"}):s.jsx("div",{className:"w-48 h-24 bg-slate-100 rounded-md flex items-center justify-center",children:s.jsx(k,{name:"image",className:"h-10 w-10 text-slate-400"})}),s.jsxs("label",{htmlFor:"cover-upload",className:"cursor-pointer bg-white py-2 px-3 border border-slate-300 rounded-md shadow-sm text-sm leading-4 font-medium text-slate-700 hover:bg-slate-50",children:[s.jsx("span",{children:N?"Change photo":"Upload photo"}),s.jsx("input",{id:"cover-upload",name:"cover-upload",type:"file",className:"sr-only",accept:"image/*",onChange:U,required:!N})]})]})]})]}),s.jsxs("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex justify-end",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-200 mr-2",children:"Cancel"}),s.jsxs("button",{type:"submit",onClick:B,disabled:I||!l||!u||!h||!x||!N,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 flex items-center",children:[I&&s.jsx(Se,{}),s.jsx("span",{className:I?"ml-2":"",children:"Create Trip"})]})]})]})})},ti={user1:{id:"u1",name:"You",avatarUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=200&auto=format&fit=crop",role:"admin"},user2:{id:"u2",name:"Sophia Chen",avatarUrl:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&auto=format&fit=crop",role:"member"},user3:{id:"u3",name:"Ben Carter",avatarUrl:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=200&auto=format&fit=crop",role:"member"}},Hw=[{id:"trip1",name:"Summer in the Alps",destination:"Interlaken, Switzerland",coverImageUrl:"https://images.unsplash.com/photo-1537237890034-72d80d2da027?q=80&w=800&auto=format&fit=crop",startDate:"2024-08-10T00:00:00.000Z",endDate:"2024-08-17T00:00:00.000Z",members:[ti.user1,ti.user2,ti.user3],itinerary:[{date:"2024-08-11",items:[{id:"i1",time:"Morning",activity:"Hike to Harder Kulm",location:"Harder Kulm Viewpoint"},{id:"i2",time:"Afternoon",activity:"Paragliding over the lakes",location:"Interlaken"},{id:"i3",time:"Evening",activity:"Dinner at Restaurant Laterne",location:"Höheweg 73"}]}],tasks:[{id:"t1",task:"Book flight tickets",isCompleted:!0,assignedTo:[ti.user1]},{id:"t2",task:"Reserve Airbnb",isCompleted:!0,assignedTo:[ti.user2]},{id:"t3",task:"Book train from Zurich to Interlaken",isCompleted:!1,assignedTo:[ti.user3]},{id:"t4",task:"Pack hiking gear",isCompleted:!1}],polls:[{id:"p1",question:"Which day trip should we take?",isClosed:!1,options:[{id:"o1",text:"Jungfraujoch - Top of Europe",votes:["u1","u3"]},{id:"o2",text:"Grindelwald-First Adventure",votes:["u2"]},{id:"o3",text:"Schilthorn - Piz Gloria (007)",votes:[]}]},{id:"p2",question:"Dinner cuisine on the last night?",isClosed:!0,options:[{id:"p2o1",text:"Italian",votes:["u2"]},{id:"p2o2",text:"Swiss Fondue",votes:["u1","u3"]},{id:"p2o3",text:"Thai",votes:[]}]}],expenses:[{id:"e1",description:"Dinner at Restaurant Laterne",amount:136.5,paidBy:"u2",sharedWith:["u1","u2","u3"]},{id:"e2",description:"Paragliding Tickets",amount:350,paidBy:"u1",sharedWith:["u1","u2"]},{id:"e3",description:"Groceries for Airbnb",amount:78,paidBy:"u3",sharedWith:["u1","u2","u3"]}]}],zw=()=>{const[t,e]=w.useState(Hw),[l,a]=w.useState(null),[u,f]=w.useState(!1),h=g=>{e([g,...t])};return l?s.jsx(Gw,{trip:l,onBack:()=>a(null)}):s.jsxs(s.Fragment,{children:[u&&s.jsx(Fw,{onClose:()=>f(!1),onCreateTrip:h}),s.jsxs("div",{className:"max-w-4xl mx-auto p-2 sm:p-4 animate-fade-in-up",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Group Trip Planner"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Organize your travels with friends. Share plans, assign tasks, and vote on activities."})]}),s.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 flex-shrink-0 w-full sm:w-auto",children:[s.jsx(k,{name:"plus",className:"h-5 w-5 mr-2 -ml-1"}),"Start a New Trip"]})]}),s.jsx("div",{className:"space-y-6",children:t.map(g=>s.jsx(Bw,{trip:g,onClick:()=>a(g)},g.id))})]})]})},Ow=[{id:"essentials",title:"Essentials",items:[{id:1,text:"Clothes & Shoes",checked:!1},{id:2,text:"Toiletries (toothbrush, toothpaste, etc.)",checked:!1},{id:3,text:"Phone & Electronics Chargers",checked:!1},{id:4,text:"Travel Adapter",checked:!1},{id:5,text:"Power Bank",checked:!1}]},{id:"documents",title:"Documents",items:[{id:6,text:"Passport / ID Card",checked:!1},{id:7,text:"Visa (if required)",checked:!1},{id:8,text:"Flight / Train / Bus Tickets",checked:!1},{id:9,text:"Hotel Booking Confirmations",checked:!1},{id:10,text:"Driver's License / IDP",checked:!1},{id:11,text:"Digital & Physical Copies of Documents",checked:!1}]},{id:"health",title:"Health & Safety",items:[{id:12,text:"Personal Medications",checked:!1},{id:13,text:"First-Aid Kit",checked:!1},{id:14,text:"Hand Sanitizer & Masks",checked:!1},{id:15,text:"Insect Repellent",checked:!1},{id:16,text:"Sunscreen",checked:!1}]},{id:"misc",title:"Miscellaneous",items:[{id:17,text:"Cash & Credit/Debit Cards",checked:!1},{id:18,text:"Reusable Water Bottle",checked:!1},{id:19,text:"Snacks for the trip",checked:!1},{id:20,text:"Book / Entertainment",checked:!1}]}],$w=({checked:t})=>t?s.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}):s.jsx("div",{className:"w-5 h-5 bg-slate-700 rounded flex-shrink-0"});function Yw(){const[t,e]=w.useState(Ow),l=(u,f)=>{e(h=>h.map(g=>g.id===u?{...g,items:g.items.map(x=>x.id===f?{...x,checked:!x.checked}:x)}:g))},{progress:a}=w.useMemo(()=>{const u=t.reduce((h,g)=>h+g.items.length,0),f=t.reduce((h,g)=>h+g.items.filter(x=>x.checked).length,0);return{progress:u>0?f/u*100:0}},[t]);return s.jsxs("div",{className:"max-w-3xl mx-auto p-2 sm:p-4 animate-fade-in-up",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-blue-600",children:"Packing Progress"}),s.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[Math.round(a),"%"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${a}%`}})})]}),s.jsx("div",{className:"space-y-8",children:t.map(u=>s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:u.title}),s.jsx("ul",{className:"space-y-0 divide-y divide-slate-200",children:u.items.map(f=>s.jsxs("li",{onClick:()=>l(u.id,f.id),className:"flex items-center py-3 px-1 hover:bg-slate-50 cursor-pointer transition-colors duration-200",role:"checkbox","aria-checked":f.checked,tabIndex:0,onKeyDown:h=>{(h.key===" "||h.key==="Enter")&&(h.preventDefault(),l(u.id,f.id))},children:[s.jsx($w,{checked:f.checked}),s.jsx("span",{className:`ml-4 text-sm flex-grow ${f.checked?"text-slate-400 line-through":"text-slate-700"}`,children:f.text})]},f.id))})]},u.id))})]})}const Jw=({badge:t,isEarned:e})=>s.jsxs("div",{className:`bg-white rounded-lg p-4 text-center border-2 transition-all duration-300 relative ${e?"border-amber-400 shadow-lg":"border-slate-200"}`,children:[s.jsx("div",{className:`w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-3 transition-all duration-300 ${e?"bg-amber-100":"bg-slate-100"}`,children:s.jsx(k,{name:t.icon,className:`h-9 w-9 transition-colors duration-300 ${e?"text-amber-500":"text-slate-400"}`})}),s.jsx("h4",{className:`font-bold text-base transition-colors duration-300 ${e?"text-slate-800":"text-slate-500"}`,children:t.name}),s.jsx("p",{className:`text-xs mt-1 transition-colors duration-300 ${e?"text-slate-600":"text-slate-400"}`,children:t.description}),!e&&s.jsx("div",{className:"absolute inset-0 bg-white/50 backdrop-blur-[2px] rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-slate-500 bg-slate-200 px-2 py-1 rounded-full",children:"LOCKED"})})]}),up=[{id:"first-booking",name:"First Booking",description:"Awarded for making your first flight or hotel booking.",icon:"first-booking"},{id:"story-writer",name:"Storyteller",description:"Share your first travel story with the community.",icon:"story-writer"},{id:"community-pioneer",name:"Community Pioneer",description:"Join your first travel community.",icon:"community-pioneer"},{id:"trip-planner",name:"Trip Planner",description:"Create and save your first itinerary.",icon:"planner"},{id:"jet-setter",name:"Jet Setter",description:"Book flights to 3 different countries.",icon:"flight"},{id:"social-butterfly",name:"Social Butterfly",description:"Join 5 different travel communities.",icon:"users"},{id:"foodie-explorer",name:"Foodie Explorer",description:"Order from 3 different local restaurants via Super Services.",icon:"food"},{id:"local-rider",name:"Local Rider",description:"Take 5 rides to explore the city via Super Services.",icon:"car"},{id:"memory-maker",name:"Memory Maker",description:"Create your first AI-powered travel documentary.",icon:"movie"},{id:"explorer-buddy",name:"Explorer Buddy",description:"Complete your first hangout with a local.",icon:"compass"},{id:"digital-nomad",name:"Digital Nomad",description:"Book your first coworking space.",icon:"briefcase"},{id:"global-connector",name:"Global Connector",description:"Book coworking spaces in 3 different countries.",icon:"globe"}],vc=[{level:1,name:"Wanderer",pointsRequired:0},{level:2,name:"Explorer",pointsRequired:1e3},{level:3,name:"Adventurer",pointsRequired:2500},{level:4,name:"Globetrotter",pointsRequired:5e3},{level:5,name:"Voyageur",pointsRequired:1e4}],Kw=({profile:t})=>{const[e,l]=w.useState([]),[a,u]=w.useState(!1),[f,h]=w.useState(null),g=vc.slice().reverse().find(b=>t.flyWisePoints>=b.pointsRequired)||vc[0],x=vc.find(b=>b.pointsRequired>g.pointsRequired),p=x?(t.flyWisePoints-g.pointsRequired)/(x.pointsRequired-g.pointsRequired)*100:100,v=w.useCallback(async()=>{u(!0),h(null),l([]);try{const b=await w5(t);l(b)}catch(b){h(b instanceof Error?b.message:"An unknown error occurred.")}finally{u(!1)}},[t]);return s.jsxs("div",{className:"max-w-4xl mx-auto p-2 sm:p-4 animate-fade-in-up",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-800 to-indigo-900 p-6 rounded-xl shadow-lg text-white border border-blue-900",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6",children:[s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsxs("p",{className:"text-sm font-semibold text-blue-200 uppercase tracking-wider",children:["Voyageur Level ",g.level]}),s.jsx("p",{className:"text-4xl font-bold text-white",children:g.name}),s.jsx("p",{className:"text-5xl font-bold text-blue-300 mt-2",children:t.flyWisePoints.toLocaleString()}),s.jsx("p",{className:"text-sm text-blue-200",children:"FlyWise Points"})]}),s.jsxs("div",{className:"w-full sm:w-2/3",children:[s.jsx("div",{className:"flex justify-between items-baseline mb-1 text-sm",children:x?s.jsxs("p",{className:"text-blue-200",children:[s.jsx("span",{className:"font-bold",children:x.pointsRequired-t.flyWisePoints})," points to ",s.jsx("span",{className:"font-semibold text-white",children:x.name})]}):s.jsx("p",{className:"font-semibold text-white",children:"Maximum Level Reached!"})}),s.jsx("div",{className:"w-full bg-blue-900/50 rounded-full h-2.5",children:s.jsx("div",{className:"bg-sky-400 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${p}%`}})})]})]})}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Passport Stamps"}),t.collectedStamps.length>0?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.collectedStamps.map((b,N)=>s.jsxs("div",{className:"p-3 bg-white rounded-lg border border-slate-200 text-center flex flex-col items-center justify-center aspect-square shadow-sm",children:[s.jsx("img",{src:b.crestUrl,alt:`${b.country} stamp`,className:"h-16 w-16"}),s.jsx("p",{className:"font-bold text-sm mt-2 text-slate-800",children:b.city}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(b.date).toLocaleDateString()})]},N))}):s.jsx("div",{className:"text-center p-6 bg-slate-50 rounded-lg border-2 border-dashed border-slate-200",children:s.jsx("p",{className:"text-sm text-slate-600",children:"Your passport is waiting for its first stamp. Complete a trip to start your collection!"})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"p-6 bg-amber-50 rounded-lg border border-amber-200 text-center",children:[s.jsx(k,{name:"sparkles",className:"h-10 w-10 text-amber-500 mx-auto"}),s.jsx("h3",{className:"text-xl font-bold text-slate-800 mt-3",children:"Ready for Your Next Adventure?"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600 max-w-lg mx-auto",children:"Let the Voyage Master analyze your travel style and suggest personalized missions to help you level up and earn new badges."}),s.jsx("button",{onClick:v,disabled:a,className:"mt-4 inline-flex items-center justify-center px-6 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:a?s.jsx(Se,{}):s.jsxs(s.Fragment,{children:[s.jsx(k,{name:"compass",className:"mr-2 h-5 w-5"}),"Suggest My Next Voyage"]})})]}),f&&s.jsx("p",{className:"text-sm text-red-600 text-center mt-4",children:f}),e.length>0&&s.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6 animate-fade-in-up",children:e.map((b,N)=>{var j;return s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm",children:[s.jsx("h4",{className:"font-bold text-blue-600",children:b.title}),s.jsx("p",{className:"text-xs text-slate-500 font-medium",children:b.destination}),s.jsx("p",{className:"text-sm mt-2 text-slate-700",children:b.description}),s.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-200 flex justify-between items-center text-xs font-semibold",children:[s.jsxs("span",{className:"text-green-700",children:["+",b.pointsToEarn," POINTS"]}),s.jsxs("span",{className:"text-amber-700",children:["UNLOCKS: ",((j=up.find(A=>A.id===b.badgeToUnlock))==null?void 0:j.name)||b.badgeToUnlock]})]})]},N)})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Voyageur Badges"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:up.map(b=>s.jsx(Jw,{badge:b,isEarned:t.earnedBadgeIds.includes(b.id)},b.id))})]})]})},Ww=({onClose:t,onLoginSuccess:e,onSwitchToSignUp:l})=>{const[a,u]=w.useState(""),[f,h]=w.useState(""),[g,x]=w.useState("idle"),[p,v]=w.useState(""),b=N=>{if(N.preventDefault(),!a||!f){v("Please fill in both fields."),x("error");return}x("loading"),v(""),setTimeout(()=>{e()},1500)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:t,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm animate-fade-in-up",onClick:N=>N.stopPropagation(),children:[s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(k,{name:"logo",className:"h-10 w-10 text-blue-600 mx-auto"}),s.jsx("h2",{className:"mt-4 text-2xl font-bold text-slate-800",children:"Welcome Back"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Login to access your trips and preferences."})]}),s.jsxs("form",{onSubmit:b,className:"p-6 pt-0 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email-login",className:"sr-only",children:"Email Address"}),s.jsx("input",{id:"email-login",type:"email",value:a,onChange:N=>u(N.target.value),placeholder:"Email Address",className:"w-full rounded-md border-slate-300 bg-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password-login",className:"sr-only",children:"Password"}),s.jsx("input",{id:"password-login",type:"password",value:f,onChange:N=>h(N.target.value),placeholder:"Password",className:"w-full rounded-md border-slate-300 bg-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),g==="error"&&s.jsx("p",{className:"text-sm text-red-600",children:p}),s.jsx("button",{type:"submit",disabled:g==="loading",className:"w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:g==="loading"?s.jsx(Se,{}):"Login"})]}),s.jsx("div",{className:"p-6 pt-2 text-center bg-slate-50 rounded-b-xl",children:s.jsxs("p",{className:"text-sm text-slate-600",children:["Don't have an account?"," ",s.jsx("button",{onClick:l,className:"font-medium text-blue-600 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 rounded",children:"Create one"})]})})]})})},Qw=({onClose:t,onSignUpSuccess:e,onSwitchToLogin:l})=>{const[a,u]=w.useState(""),[f,h]=w.useState(""),[g,x]=w.useState(""),[p,v]=w.useState("idle"),[b,N]=w.useState(""),j=A=>{if(A.preventDefault(),!f||!g||!a){N("Please fill in all fields."),v("error");return}v("loading"),N(""),setTimeout(()=>{e()},1500)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:t,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm animate-fade-in-up",onClick:A=>A.stopPropagation(),children:[s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(k,{name:"logo",className:"h-10 w-10 text-blue-600 mx-auto"}),s.jsx("h2",{className:"mt-4 text-2xl font-bold text-slate-800",children:"Create Your Account"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Join FlyWise.AI to start planning your travels."})]}),s.jsxs("form",{onSubmit:j,className:"p-6 pt-0 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name-signup",className:"sr-only",children:"Full Name"}),s.jsx("input",{id:"name-signup",type:"text",value:a,onChange:A=>u(A.target.value),placeholder:"Full Name",className:"w-full rounded-md border-slate-300 bg-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email-signup",className:"sr-only",children:"Email Address"}),s.jsx("input",{id:"email-signup",type:"email",value:f,onChange:A=>h(A.target.value),placeholder:"Email Address",className:"w-full rounded-md border-slate-300 bg-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password-signup",className:"sr-only",children:"Password"}),s.jsx("input",{id:"password-signup",type:"password",value:g,onChange:A=>x(A.target.value),placeholder:"Password",className:"w-full rounded-md border-slate-300 bg-white shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),p==="error"&&s.jsx("p",{className:"text-sm text-red-600",children:b}),s.jsx("button",{type:"submit",disabled:p==="loading",className:"w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:p==="loading"?s.jsx(Se,{}):"Create Account"})]}),s.jsx("div",{className:"p-6 pt-2 text-center bg-slate-50 rounded-b-xl",children:s.jsxs("p",{className:"text-sm text-slate-600",children:["Already have an account?"," ",s.jsx("button",{onClick:l,className:"font-medium text-blue-600 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 rounded",children:"Login"})]})})]})})};function Xw(){return s.jsxs("div",{className:"w-96 h-56 rounded-2xl relative overflow-hidden shadow-2xl bg-gradient-to-br from-blue-700 to-indigo-900 border border-blue-900",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",viewBox:"0 0 200 200",children:[s.jsx("defs",{children:s.jsx("pattern",{id:"hexagons",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:s.jsx("polygon",{points:"10,0 20,5 20,15 10,20 0,15 0,5",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),s.jsx("rect",{width:"100%",height:"100%",fill:"url(#hexagons)"})]})}),s.jsx("div",{className:"absolute top-4 left-4 text-silver-200",children:s.jsx("h1",{className:"text-xl font-bold tracking-wide text-[#C0C0C0]",children:"FlyWise.AI"})}),s.jsx("div",{className:"absolute top-0 right-0 w-20 h-full bg-gradient-to-b from-purple-400/40 via-cyan-400/40 to-pink-400/40 opacity-20 rotate-12"})]})}const Zw=[{id:"1",description:"Lounge Access - JFK Terminal 4",date:"2024-07-18T14:30:00Z",amount:35,type:"debit"},{id:"2",description:"Flight Perk - Emirates Seat Upgrade",date:"2024-07-15T09:15:00Z",amount:50,type:"debit"},{id:"3",description:"Monthly Subscription Fee",date:"2024-07-01T00:00:00Z",amount:9.99,type:"debit"},{id:"4",description:"Welcome Bonus",date:"2024-06-25T10:00:00Z",amount:10,type:"credit"}],ej=({isLoggedIn:t,onLoginClick:e})=>t?s.jsxs("div",{className:"max-w-2xl mx-auto p-2 sm:p-4 animate-fade-in-up",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"My Wallet"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Your FlyWise.AI VIP Virtual Card for seamless travel experiences."})]}),s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx(Xw,{})}),s.jsxs("div",{className:"mt-10",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Recent Transactions"}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-slate-200 divide-y divide-slate-200",children:Zw.map(l=>s.jsxs("div",{className:"py-3 first:pt-0 last:pb-0 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm text-slate-800",children:l.description}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(l.date).toLocaleDateString()})]}),s.jsxs("p",{className:`font-semibold text-sm ${l.type==="credit"?"text-green-600":"text-slate-800"}`,children:[l.type==="credit"?"+":"-","$",l.amount.toFixed(2)]})]},l.id))})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(k,{name:"wallet",className:"mx-auto h-16 w-16 text-slate-400"}),s.jsx("h3",{className:"mt-4 text-xl font-semibold text-slate-800",children:"Your Wallet is Waiting"}),s.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Log in or create an account to access your VIP Virtual Card and exclusive benefits."}),s.jsx("button",{onClick:e,className:"mt-6 inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Login to View Wallet"})]}),tj=t=>new Promise((e,l)=>{const a=new FileReader;a.readAsDataURL(t),a.onload=()=>e(a.result),a.onerror=u=>l(u)}),nj=({onClose:t,onCreateStory:e})=>{const[l,a]=w.useState(""),[u,f]=w.useState(""),[h,g]=w.useState(""),[x,p]=w.useState([]),[v,b]=w.useState([]),[N,j]=w.useState(!1),A=I=>{if(I.target.files){const R=Array.from(I.target.files);p(R);const U=R.map(B=>URL.createObjectURL(B));b(U)}},M=w.useCallback(async I=>{if(I.preventDefault(),!l||!u)return;j(!0);const R=await Promise.all(x.map(B=>tj(B))),U={id:Date.now().toString(),authorName:"Valued Member",authorAvatarUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=200&auto=format&fit=crop",title:l,content:u,images:R,locationTags:h.split(",").map(B=>B.trim()).filter(Boolean),likes:0,createdAt:new Date().toISOString()};setTimeout(()=>{e(U),j(!1),t()},1e3)},[l,u,h,x,e,t]);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:t,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:I=>I.stopPropagation(),children:[s.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Share Your Travel Story"}),s.jsx("button",{onClick:t,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:M,className:"flex-grow overflow-y-auto p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700",children:"Title"}),s.jsx("input",{type:"text",id:"title",value:l,onChange:I=>a(I.target.value),placeholder:"e.g., An Unforgettable Trip to the Rockies",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-slate-700",children:"Your Story"}),s.jsx("textarea",{id:"content",value:u,onChange:I=>f(I.target.value),rows:5,placeholder:"Share the details of your adventure...",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-slate-700",children:"Location Tags"}),s.jsx("input",{type:"text",id:"tags",value:h,onChange:I=>g(I.target.value),placeholder:"e.g., Canada, Hiking, Nature",className:"mt-1 block w-full rounded-md border-slate-300 bg-white shadow-sm"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Separate tags with a comma."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Upload Photos"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(k,{name:"image",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsxs("div",{className:"flex text-sm text-slate-600",children:[s.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[s.jsx("span",{children:"Upload files"}),s.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",multiple:!0,accept:"image/*",onChange:A})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"PNG, JPG, GIF up to 10MB"})]})}),v.length>0&&s.jsx("div",{className:"mt-4 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4",children:v.map((I,R)=>s.jsx("img",{src:I,alt:`Preview ${R}`,className:"w-full h-24 object-cover rounded-md"},R))})]})]}),s.jsxs("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex justify-end",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-200 mr-2",children:"Cancel"}),s.jsxs("button",{type:"submit",onClick:M,disabled:N||!l||!u,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 flex items-center",children:[N&&s.jsx(Se,{}),s.jsx("span",{className:N?"ml-2":"",children:"Share Story"})]})]})]})})},sj=()=>{const[t,e]=w.useState(""),[l,a]=w.useState(!1),[u,f]=w.useState(null),[h,g]=w.useState(null),[x,p]=w.useState(""),v=w.useCallback(async j=>{if(j.preventDefault(),!t.trim())return;a(!0),f(null),g(null);const A=["Dreaming up your next adventure...","Painting your destination...","Finding matching locations...","Crafting your inspiration..."];let M=0;p(A[M]);const I=setInterval(()=>{M=(M+1)%A.length,p(A[M])},2500);try{const R=await T5(t);g(R)}catch(R){f(R instanceof Error?R.message:"An unknown error occurred.")}finally{a(!1),clearInterval(I)}},[t]),b=j=>{e(j)},N=["Ancient ruins, misty mountains, quiet solitude","Vibrant street markets, neon lights, cyberpunk city","Cozy cabin, snowy forest, warm fireplace","Azure waters, white sand beaches, luxury relaxation"];return s.jsxs("div",{className:"max-w-4xl mx-auto p-2 sm:p-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(k,{name:"lightbulb",className:"h-12 w-12 text-amber-400 mx-auto"}),s.jsx("h2",{className:"mt-4 text-3xl font-bold tracking-tight text-slate-800",children:"Inspire Me"}),s.jsx("p",{className:"mt-2 text-md text-slate-600 max-w-2xl mx-auto",children:"Don't know where to go? Describe a feeling, a mood, or a scene, and let our AI dream up your next destination."})]}),s.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:s.jsxs("form",{onSubmit:v,children:[s.jsx("textarea",{value:t,onChange:j=>e(j.target.value),placeholder:"e.g., 'A charming old city with cobblestone streets, cozy cafes, and a rich history...'",rows:3,className:"w-full p-4 text-center rounded-lg border-2 border-slate-300 bg-white text-slate-800 placeholder:text-slate-500 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow duration-200 shadow-sm",disabled:l}),s.jsxs("div",{className:"mt-3 text-center",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Or try one of these:"}),s.jsx("div",{className:"flex flex-wrap gap-2 justify-center mt-2",children:N.map(j=>s.jsx("button",{type:"button",onClick:()=>b(j),className:"px-2 py-1 text-xs bg-slate-100 text-slate-600 rounded-full hover:bg-slate-200",children:j},j))})]}),s.jsx("button",{type:"submit",disabled:l||!t.trim(),className:"mt-4 w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Se,{}),s.jsx("span",{className:"ml-3",children:x})]}):s.jsxs(s.Fragment,{children:[s.jsx(k,{name:"sparkles",className:"mr-2 h-5 w-5"}),"Inspire Me"]})})]})}),s.jsxs("div",{className:"mt-12",children:[u&&s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-10 bg-red-50 border-2 border-red-200 rounded-lg",children:[s.jsx(k,{name:"error",className:"h-12 w-12 text-red-500"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-800",children:"Failed to Generate Ideas"}),s.jsx("p",{className:"mt-2 text-sm text-red-600",children:u})]}),h&&s.jsxs("div",{className:"animate-fade-in-up space-y-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 text-center",children:"Your Vibe, Visualized"}),s.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:h.images.map((j,A)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition-transform duration-300",children:s.jsx("img",{src:`data:image/jpeg;base64,${j}`,alt:`AI-generated mood board image ${A+1}`,className:"w-full h-full object-cover"})},A))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 text-center",children:"Destinations That Match Your Vibe"}),s.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:h.destinations.map((j,A)=>s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-md text-center",children:[s.jsx(k,{name:"map",className:"h-8 w-8 text-blue-500 mx-auto"}),s.jsx("h4",{className:"mt-3 text-lg font-semibold text-slate-900",children:j.name}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:j.reason})]},A))})]})]})]})]})},ij=({local:t,onSelect:e})=>{const l=t.compatibilityScore>85?"bg-green-100 text-green-800":t.compatibilityScore>65?"bg-amber-100 text-amber-800":"bg-slate-100 text-slate-800";return s.jsxs("div",{onClick:e,className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 border border-slate-200 cursor-pointer group flex flex-col",children:[s.jsxs("div",{className:"h-48 overflow-hidden relative rounded-t-lg",children:[s.jsx("img",{src:t.profileType==="stay"&&t.housePhotos?t.housePhotos[0]:t.avatarUrl,alt:`Photo for ${t.name}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),t.isVerified&&s.jsxs("div",{className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm p-1 rounded-full flex items-center text-xs font-semibold text-blue-600",children:[s.jsx(k,{name:"shield",className:"h-4 w-4 mr-1"}),"Verified"]}),t.profileType==="stay"&&s.jsx("div",{className:"absolute bottom-2 left-2",children:s.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-md"})})]}),s.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-slate-800 group-hover:text-blue-600",children:[t.name,", ",t.age]}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:t.location}),s.jsx("p",{className:"mt-2 text-sm text-slate-600 leading-relaxed line-clamp-2",children:t.bio})]}),s.jsxs("div",{className:`mt-4 p-2 rounded-md text-center text-xs font-semibold ${l}`,children:[t.compatibilityReason," (",t.compatibilityScore,"%)"]})]})]})},dp=({rating:t})=>s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,l)=>s.jsx(k,{name:"star",className:`h-4 w-4 ${l<Math.round(t)?"text-yellow-400":"text-slate-300"}`},l))}),lj=({local:t,userProfile:e,onBack:l,onOpenVipModal:a,onHangoutRequest:u})=>{var M,I;const[f,h]=w.useState([]),[g,x]=w.useState(!1),[p,v]=w.useState(null),b=t.reviews&&t.reviews.length>0?t.reviews.reduce((R,U)=>R+U.rating,0)/t.reviews.length:0,N=w.useCallback(async()=>{x(!0),v(null),h([]);try{const R=await C5(e,t);h(R)}catch(R){v(R instanceof Error?R.message:"Failed to get suggestions.")}finally{x(!1)}},[e,t]),j=()=>{var R;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:"My Home"}),s.jsx("div",{className:"mt-2 grid grid-cols-3 gap-2",children:(R=t.housePhotos)==null?void 0:R.map((U,B)=>s.jsx("img",{src:U,alt:`Host home photo ${B+1}`,className:"w-full h-24 object-cover rounded-md"},B))})]}),t.offeredExperiences&&t.offeredExperiences.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:"Local Experiences Offered"}),s.jsx("div",{className:"mt-2 space-y-3",children:t.offeredExperiences.map(U=>s.jsxs("div",{className:"p-3 bg-slate-50 border border-slate-200 rounded-md",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h5",{className:"font-semibold text-sm text-slate-800",children:U.title}),s.jsx("p",{className:"text-sm font-bold text-blue-600",children:U.price>0?`$${U.price}`:"Free"})]}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:U.description})]},U.id))})]})]})},A=()=>s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:"Suggested Hangouts"}),s.jsxs("div",{className:"mt-2 p-3 bg-slate-50 border border-slate-200 rounded-md",children:[!g&&f.length===0&&!p&&s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Click to get some personalized hangout ideas with ",t.name,"!"]}),s.jsxs("button",{onClick:N,className:"mt-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[s.jsx(k,{name:"sparkles",className:"h-5 w-5 mr-2"}),"Get AI Suggestions"]})]}),g&&s.jsxs("div",{className:"flex justify-center items-center p-4",children:[s.jsx(Se,{})," ",s.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Thinking of ideas..."})]}),p&&s.jsx("p",{className:"text-sm text-red-600 text-center",children:p}),f.length>0&&s.jsx("div",{className:"space-y-3",children:f.map((R,U)=>s.jsxs("div",{className:"bg-white p-3 rounded-md border border-slate-200",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h5",{className:"font-semibold text-sm text-slate-800",children:R.title}),s.jsx("p",{className:"text-sm font-bold text-blue-600",children:R.estimatedCost})]}),s.jsx("p",{className:"text-xs text-slate-500",children:R.location}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:R.description}),s.jsx("button",{onClick:()=>u({local:t,suggestion:R}),className:"mt-2 w-full text-xs font-semibold text-blue-600 hover:underline",children:"Request Hangout"})]},U))})]})]});return s.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in-up p-2 sm:p-4",children:[s.jsxs("button",{onClick:l,className:"mb-4 inline-flex items-center text-sm font-medium text-slate-600 hover:text-blue-600",children:[s.jsx(k,{name:"chevron-left",className:"h-5 w-5 mr-1"}),"Back to Locals"]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"h-64 relative",children:[s.jsx("img",{src:t.profileType==="stay"&&t.housePhotos?t.housePhotos[0]:t.avatarUrl,alt:"Profile background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),s.jsxs("div",{className:"absolute bottom-4 left-4 text-white p-2",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t.profileType==="stay"?`Stay with ${t.name}`:`Hangout with ${t.name}`}),s.jsx("p",{className:"font-semibold",children:t.location})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 p-4 sm:p-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-20 h-20 rounded-full object-cover border-4 border-white -mt-16 shadow-lg"}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-slate-800",children:[t.name,", ",t.age]}),t.isVerified&&s.jsxs("p",{className:"text-sm font-semibold text-blue-600 flex items-center",children:[s.jsx(k,{name:"shield",className:"h-4 w-4 mr-1.5"}),"Verified Local"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:"About Me"}),s.jsx("p",{className:"mt-2 text-sm text-slate-700 leading-relaxed",children:t.bio})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Interests"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.interests.map(R=>s.jsx("span",{className:"text-xs bg-slate-100 text-slate-700 px-2 py-1 rounded-full",children:R},R))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Languages"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.languages.map(R=>s.jsx("span",{className:"text-xs bg-slate-100 text-slate-700 px-2 py-1 rounded-full",children:R},R))})]})]}),t.profileType==="stay"?j():A(),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-800",children:["Reviews (",((M=t.reviews)==null?void 0:M.length)||0,")"]}),t.reviews&&t.reviews.length>0?s.jsx("div",{className:"mt-2 space-y-4",children:t.reviews.map(R=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("img",{src:R.authorAvatarUrl,alt:R.authorName,className:"w-9 h-9 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold text-sm",children:R.authorName}),s.jsx(dp,{rating:R.rating})]}),s.jsxs("p",{className:"text-sm text-slate-600 italic",children:['"',R.comment,'"']})]})]},R.id))}):s.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"No reviews yet. Be the first!"})]})]}),s.jsxs("div",{className:"space-y-4",children:[t.profileType==="stay"&&s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-2xl font-bold text-slate-800",children:t.hostingPolicy==="Free"?"Free Stay":"Small Fee"}),s.jsxs("p",{className:"text-sm text-slate-500",children:["Up to ",t.maxGuests," guest(s)"]}),s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx(dp,{rating:b}),s.jsx("span",{className:"text-sm font-semibold",children:b.toFixed(1)}),s.jsxs("span",{className:"text-sm text-slate-500",children:["(",((I=t.reviews)==null?void 0:I.length)||0," reviews)"]})]}),s.jsx("button",{className:"mt-4 w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700",children:"Request to Stay"})]}),t.profileType==="hangout"&&s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 text-center",children:[s.jsx("p",{className:"font-semibold text-slate-800",children:"Ready to Connect?"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Generate some hangout ideas to get started!"})]}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-center",children:[s.jsx(k,{name:"sparkles",className:"h-8 w-8 text-amber-500 mx-auto"}),s.jsx("h4",{className:"font-semibold text-amber-900 mt-2",children:"Unlock Premium Features"}),s.jsx("p",{className:"text-xs text-amber-800 mt-1",children:"Get insurance coverage and priority access to verified locals with a VIP membership."}),s.jsx("button",{onClick:a,className:"mt-3 text-sm font-bold text-blue-600 hover:underline",children:"Learn More"})]}),s.jsxs("button",{className:"w-full text-xs text-slate-500 hover:text-red-600 flex items-center justify-center gap-2",children:[s.jsx(k,{name:"error",className:"h-4 w-4"})," Report User"]})]})]})]})]})},aj=({userProfile:t,onOpenVipModal:e,onHangoutRequest:l})=>{const[a,u]=w.useState("hangout"),[f,h]=w.useState(""),[g,x]=w.useState([]),[p,v]=w.useState(null),[b,N]=w.useState(!1),[j,A]=w.useState(null),M=w.useCallback(async R=>{if(R&&R.preventDefault(),!f.trim()){A("Please enter a destination.");return}N(!0),A(null),x([]),v(null);try{const U=await S5(f,t,a);x(U)}catch(U){A(U instanceof Error?U.message:"An unknown error occurred.")}finally{N(!1)}},[f,t,a]);if(p)return s.jsx(lj,{local:p,onBack:()=>v(null),onOpenVipModal:e,onHangoutRequest:l,userProfile:t});const I=a==="stay"?"Connect with local hosts for authentic travel experiences. Stay for free or a small fee, and see the world through a local's eyes.":"Connect with friendly locals for authentic social experiences, guided activities, or casual meetups.";return s.jsxs("div",{className:"max-w-5xl mx-auto p-2 sm:p-4 animate-fade-in-up",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(k,{name:"users",className:"h-12 w-12 text-blue-600 mx-auto"}),s.jsx("h2",{className:"mt-4 text-3xl font-bold tracking-tight text-slate-800",children:"Local Connections"}),s.jsx("p",{className:"mt-2 text-md text-slate-600 max-w-2xl mx-auto",children:I})]}),s.jsxs("div",{className:"mt-8 flex justify-center items-center border-b border-slate-200",children:[s.jsxs("button",{onClick:()=>u("hangout"),className:`px-6 py-3 text-sm font-semibold flex items-center gap-2 border-b-2 ${a==="hangout"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[s.jsx(k,{name:"chat",className:"h-5 w-5"})," Hangouts"]}),s.jsxs("button",{onClick:()=>u("stay"),className:`px-6 py-3 text-sm font-semibold flex items-center gap-2 border-b-2 ${a==="stay"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[s.jsx(k,{name:"home",className:"h-5 w-5"})," Local Stays"]})]}),s.jsx("form",{onSubmit:M,className:"mt-6 max-w-lg mx-auto",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:f,onChange:R=>h(R.target.value),placeholder:"Enter a city or neighborhood...",className:"flex-1 block w-full rounded-md border-slate-300 bg-white shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-lg p-3",disabled:b}),s.jsx("button",{type:"submit",disabled:b||!f.trim(),className:"inline-flex items-center justify-center h-12 w-28 rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:b?s.jsx(Se,{}):"Find Locals"})]})}),s.jsxs("div",{className:"mt-12",children:[j&&s.jsxs("div",{className:"text-center p-10 bg-red-50 border-2 border-red-200 rounded-lg",children:[s.jsx(k,{name:"error",className:"h-12 w-12 text-red-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-800",children:"Could Not Find Locals"}),s.jsx("p",{className:"mt-2 text-sm text-red-600",children:j})]}),g.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(R=>s.jsx(ij,{local:R,onSelect:()=>v(R)},R.id))}),!b&&g.length===0&&!j&&s.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 rounded-lg",children:[s.jsx(k,{name:"users",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"Start your search"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Enter a destination above to find compatible locals."})]})]})]})},oj=t=>{switch(t){case"TikTok":return"compass";case"Instagram":return"image";case"Booking":return"hotel";case"FlyWise":default:return"logo"}},rj=({trend:t})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 border border-slate-200 group flex flex-col",children:[s.jsxs("div",{className:"h-48 overflow-hidden relative rounded-t-lg",children:[s.jsx("img",{src:t.image,alt:`Image of ${t.destination}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs font-bold px-2 py-1 rounded-full backdrop-blur-sm",children:t.category})]}),s.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 group-hover:text-blue-600",children:t.destination}),s.jsxs("div",{className:"my-3 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold",children:[s.jsx("span",{className:"text-slate-500",children:"Trend Score"}),s.jsxs("span",{className:"text-blue-600",children:[t.trendScore,"/100"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:s.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{width:`${t.trendScore}%`}})}),s.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold",children:[s.jsx("span",{className:"text-slate-500",children:"Monthly Growth"}),s.jsxs("span",{className:"text-green-600",children:["+",t.monthlyGrowth,"%"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:s.jsx("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:`${Math.min(t.monthlyGrowth,100)}%`}})})]}),s.jsx("div",{className:"my-4 flex justify-around gap-2 text-center border-t border-b border-slate-200 py-3",children:t.socialProof.map((e,l)=>s.jsxs("div",{children:[s.jsx(k,{name:oj(e.platform),className:"h-5 w-5 mx-auto text-slate-500"}),s.jsx("p",{className:"text-xs font-bold text-slate-800 mt-1",children:e.value})]},l))}),s.jsxs("div",{className:"mt-3 p-3 bg-indigo-50 rounded-md border border-indigo-200",children:[s.jsxs("p",{className:"text-sm font-semibold text-indigo-800 flex items-center",children:[s.jsx(k,{name:"sparkles",className:"h-4 w-4 mr-2 text-indigo-500 flex-shrink-0"}),"Why it's for you:"]}),s.jsx("p",{className:"text-xs text-slate-700 mt-1 italic",children:t.personalizationReason})]})]}),s.jsx("button",{className:"mt-4 w-full bg-blue-600 text-white font-bold py-2.5 rounded-md hover:bg-blue-700 transition-colors",children:"Explore Deals"})]})]}),cj=({userProfile:t})=>{const[e,l]=w.useState([]),[a,u]=w.useState(!0),[f,h]=w.useState(null),[g,x]=w.useState("all");w.useEffect(()=>{(async()=>{u(!0),h(null);try{const N=await j5(t);l(N)}catch(N){h(N instanceof Error?N.message:"An unknown error occurred.")}finally{u(!1)}})()},[t]);const p=w.useMemo(()=>g==="all"?e:e.filter(b=>b.category===g),[g,e]),v=["all","Adventure","City Break","Relaxation","Cultural","Hidden Gem"];return s.jsxs("div",{className:"max-w-6xl mx-auto p-2 sm:p-4 animate-fade-in-up",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(k,{name:"chart-bar",className:"h-12 w-12 text-blue-600 mx-auto"}),s.jsx("h2",{className:"mt-4 text-3xl font-bold tracking-tight text-slate-800",children:"Travel Trend Radar"}),s.jsx("p",{className:"mt-2 text-md text-slate-600 max-w-2xl mx-auto",children:"Discover what's hot in the travel world right now. Our AI analyzes trends to bring you personalized, up-and-coming destinations."})]}),s.jsx("div",{className:"my-8 flex justify-center flex-wrap gap-2",children:v.map(b=>s.jsx("button",{onClick:()=>x(b),className:`px-4 py-2 text-sm font-medium rounded-full transition-all duration-200 border-2 ${g===b?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-700 border-slate-300 hover:border-slate-400"}`,children:b==="all"?"All Trends":b},b))}),s.jsx("div",{className:"mt-8",children:a?s.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-10 min-h-[300px]",children:[s.jsx(Se,{}),s.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-700",children:"Scanning the globe for the latest trends..."})]}):f?s.jsxs("div",{className:"text-center p-10 bg-red-50 border-2 border-red-200 rounded-lg",children:[s.jsx(k,{name:"error",className:"h-12 w-12 text-red-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-800",children:"Could Not Load Trends"}),s.jsx("p",{className:"mt-2 text-sm text-red-600",children:f})]}):p.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(b=>s.jsx(rj,{trend:b},b.id))}):s.jsxs("div",{className:"text-center p-10 border-2 border-dashed border-slate-200 rounded-lg",children:[s.jsx(k,{name:"search",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No trends found"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"No trending destinations match your current filter. Try selecting 'All Trends'."})]})})]})},bc=({restaurant:t,onOrder:e})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden border border-slate-200",children:[s.jsx("div",{className:"h-40 bg-slate-100",children:s.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"font-bold text-slate-800",children:t.name}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(k,{name:"star",className:"h-4 w-4 text-yellow-400 mr-1"}),s.jsx("span",{children:t.rating.toFixed(1)})]})]}),s.jsxs("p",{className:"text-xs text-slate-500",children:[t.cuisine.join(", ")," • ",t.priceRange]}),s.jsxs("div",{className:"mt-3 flex justify-between items-center text-xs text-slate-600",children:[s.jsx("span",{children:t.deliveryTime}),s.jsxs("span",{children:["$",t.deliveryFee.toFixed(2)," Fee"]})]}),s.jsx("button",{onClick:e,className:"mt-4 w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"View Menu & Order"})]})]}),fp=({ride:t,onBook:e})=>s.jsxs("div",{className:"bg-white p-3 rounded-md border border-slate-200 flex items-center justify-between gap-3 transition-shadow hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-800 rounded-lg flex items-center justify-center",children:s.jsx(k,{name:"car",className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-sm text-slate-800",children:[t.serviceName," ",t.vehicleType]}),s.jsxs("p",{className:"text-xs text-slate-500",children:[t.passengerCapacity," seats • ",s.jsxs("span",{className:"font-semibold text-green-600",children:[t.eta," away"]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-lg text-slate-900",children:["$",t.estimatedPrice.toFixed(2)]}),s.jsx("button",{onClick:e,className:"text-xs font-semibold text-blue-600 hover:underline",children:"Book Ride"})]})]}),mp=({app:t})=>s.jsxs("div",{className:"bg-white p-3 rounded-md border border-slate-200 shadow-sm",children:[s.jsx("p",{className:"font-bold text-sm text-slate-800",children:t.name}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:t.description})]}),uj=({userProfile:t,savedTrips:e,onOrderFood:l,onBookRide:a})=>{const[u,f]=w.useState(""),[h,g]=w.useState(!1),[x,p]=w.useState(null),[v,b]=w.useState(null),N=w.useCallback(async()=>{if(!u.trim()){p("Please enter a city or location to find services.");return}g(!0),p(null),b(null);try{const M=await A5(u,t,e);b(M)}catch(M){p(M instanceof Error?M.message:"An unknown error occurred.")}finally{g(!1)}},[u,t,e]),j=(v==null?void 0:v.availableApps.filter(M=>M.category==="Food Delivery"))||[],A=(v==null?void 0:v.availableApps.filter(M=>M.category==="Ride-Hailing"))||[];return s.jsxs("div",{className:"max-w-6xl mx-auto p-2 sm:p-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(k,{name:"apps",className:"h-12 w-12 text-blue-600 mx-auto"}),s.jsx("h2",{className:"mt-4 text-3xl font-bold tracking-tight text-slate-800",children:"Super Services Hub"}),s.jsx("p",{className:"mt-2 text-md text-slate-600 max-w-2xl mx-auto",children:"Your all-in-one hub for food and transport. Order meals or book rides from top providers without leaving the app."})]}),s.jsx("div",{className:"mt-8 max-w-lg mx-auto p-4 bg-slate-50 border border-slate-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:u,onChange:M=>f(M.target.value),placeholder:"Enter your current city (e.g., Tokyo)",className:"flex-1 block w-full rounded-md border-slate-300 bg-white shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-lg p-3",disabled:h}),s.jsx("button",{onClick:N,disabled:h||!u.trim(),className:"inline-flex items-center justify-center h-12 w-28 rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:h?s.jsx(Se,{}):"Search"})]})}),h&&s.jsxs("div",{className:"text-center p-10",children:[s.jsx(Se,{}),s.jsxs("p",{className:"mt-4 text-slate-600",children:["Finding services in ",u,"..."]})]}),x&&s.jsxs("div",{className:"mt-8 text-center p-10 bg-red-50 border-2 border-red-200 rounded-lg",children:[s.jsx(k,{name:"error",className:"h-12 w-12 text-red-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-800",children:"Could Not Find Services"}),s.jsx("p",{className:"mt-2 text-sm text-red-600",children:x})]}),v&&s.jsxs("div",{className:"mt-8 animate-fade-in-up space-y-8",children:[v.smartCombo&&s.jsxs("div",{className:"p-4 bg-indigo-50 border border-indigo-200 rounded-lg",children:[s.jsxs("h3",{className:"font-bold text-indigo-800 flex items-center gap-2",children:[s.jsx(k,{name:"sparkles",className:"h-5 w-5 text-indigo-500"})," Smart Combo Suggestion"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:v.smartCombo.description}),s.jsxs("div",{className:"mt-3 bg-white p-3 rounded-md flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(bc,{restaurant:v.smartCombo.restaurant,onOrder:()=>l(v.smartCombo.restaurant)})}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(k,{name:"plus",className:"h-6 w-6 text-slate-400"})}),s.jsx("div",{className:"flex-1",children:s.jsx(fp,{ride:v.smartCombo.ride,onBook:()=>a(v.smartCombo.ride,v.smartCombo.restaurant.name)})})]})]}),v.foodSuggestions.length>0&&s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("h3",{className:"font-bold text-green-800 flex items-center gap-2",children:[s.jsx(k,{name:"lightbulb",className:"h-5 w-5 text-green-600"})," AI Recommendations for You"]}),s.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.foodSuggestions.map(M=>s.jsxs("div",{className:"bg-white p-3 rounded-md border border-slate-200",children:[s.jsxs("p",{className:"text-xs text-slate-500 italic mb-2",children:['"',M.reason,'"']}),s.jsx(bc,{restaurant:M.restaurant,onOrder:()=>l(M.restaurant)})]},M.restaurant.id))})]}),v.rideSuggestion&&s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("h3",{className:"font-bold text-green-800 flex items-center gap-2",children:[s.jsx(k,{name:"lightbulb",className:"h-5 w-5 text-green-600"})," AI Ride Suggestion"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:v.rideSuggestion.reason}),s.jsx("div",{className:"mt-3 bg-white p-3 rounded-md space-y-2",children:v.rideSuggestion.options.map(M=>s.jsx(fp,{ride:M,onBook:()=>a(M,v.rideSuggestion.destination)},M.id))})]}),(j.length>0||A.length>0)&&s.jsxs("div",{className:"p-4 bg-slate-100 rounded-lg border border-slate-200",children:[s.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:["Available Services in ",u]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[j.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[s.jsx(k,{name:"food",className:"h-5 w-5"})," Food Delivery Apps"]}),s.jsx("div",{className:"space-y-3",children:j.map(M=>s.jsx(mp,{app:M},M.name))})]}),A.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[s.jsx(k,{name:"car",className:"h-5 w-5"})," Ride-Hailing Apps"]}),s.jsx("div",{className:"space-y-3",children:A.map(M=>s.jsx(mp,{app:M},M.name))})]})]})]}),v.restaurants.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:["All Restaurants in ",u]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:v.restaurants.map(M=>s.jsx(bc,{restaurant:M,onOrder:()=>l(M)},M.id))})]})]})]})},dj=({restaurant:t,onClose:e,onOrderComplete:l})=>{const[a,u]=w.useState(!1),[f,h]=w.useState(!1);w.useEffect(()=>(document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[]);const g=t.menu.reduce((b,N)=>b+parseFloat(N.price.replace("$","")),0)+t.deliveryFee,x=Math.floor(g),p=()=>{u(!0),setTimeout(()=>{u(!1),h(!0)},2e3)},v=()=>{const b={orderId:`FWO-${Date.now()}`,restaurant:t,totalPaid:g,estimatedDelivery:t.deliveryTime,coinsEarned:x};l(b)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:e,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",onClick:b=>b.stopPropagation(),children:[s.jsxs("header",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:f?"Order Confirmed":"Confirm Your Order"}),s.jsx("button",{onClick:e,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),f?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(k,{name:"check-circle",className:"h-16 w-16 text-green-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-2xl font-bold text-slate-800",children:"Thank You!"}),s.jsxs("p",{className:"mt-2 text-slate-600",children:["Your order from ",t.name," is on its way."]}),s.jsxs("div",{className:"mt-6 text-left bg-slate-100 p-4 rounded-lg text-sm space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Order ID:"})," ",s.jsxs("span",{className:"font-mono bg-slate-200 px-2 py-1 rounded",children:["FWO-",Date.now().toString().slice(-6)]})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Estimated Delivery:"})," ",t.deliveryTime]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Paid:"})," $",g.toFixed(2)]}),s.jsxs("p",{className:"font-semibold text-green-600",children:[s.jsx("strong",{children:"FlyWise Coins Earned:"})," ",x]})]}),s.jsx("button",{onClick:v,className:"mt-6 w-full px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Done"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("main",{className:"overflow-y-auto p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-16 h-16 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:t.name}),s.jsxs("p",{className:"text-sm text-slate-500",children:["via ",t.provider]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"Order Summary"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 mt-2 max-h-32 overflow-y-auto",children:[t.menu.map(b=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:b.name})," ",s.jsx("span",{children:b.price})]},b.name)),s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"Delivery Fee"})," ",s.jsxs("span",{children:["$",t.deliveryFee.toFixed(2)]})]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-slate-800 text-base border-t pt-2 mt-2",children:[s.jsx("span",{children:"Total"})," ",s.jsxs("span",{children:["$",g.toFixed(2)]})]})]}),s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 text-xs text-blue-700",children:s.jsx("p",{children:"Your payment will be processed securely using your saved payment method in FlyWise Wallet."})})]}),s.jsx("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl",children:s.jsx("button",{onClick:p,disabled:a,className:"w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:a?s.jsx(Se,{}):"Confirm and Pay"})})]})]})})},fj=({ride:t,destination:e,onClose:l,onBookingComplete:a})=>{const[u,f]=w.useState(!1),[h,g]=w.useState(!1);w.useEffect(()=>(document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[]);const x=t.estimatedPrice,p=Math.floor(x),v=()=>{f(!0),setTimeout(()=>{f(!1),g(!0)},2e3)},b=()=>{const N={bookingId:`FWR-${Date.now()}`,ride:t,destination:e,totalPaid:x,coinsEarned:p};a(N)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:l,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",onClick:N=>N.stopPropagation(),children:[s.jsxs("header",{className:"p-4 border-b border-slate-200 flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:h?"Ride Confirmed":"Confirm Your Ride"}),s.jsx("button",{onClick:l,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),h?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(k,{name:"check-circle",className:"h-16 w-16 text-green-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-2xl font-bold text-slate-800",children:"Your Ride is on the Way!"}),s.jsxs("p",{className:"mt-2 text-slate-600",children:["Your ",t.vehicleType," from ",t.serviceName," will arrive in approximately ",t.eta,"."]}),s.jsxs("div",{className:"mt-6 text-left bg-slate-100 p-4 rounded-lg text-sm space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Booking ID:"})," ",s.jsxs("span",{className:"font-mono bg-slate-200 px-2 py-1 rounded",children:["FWR-",Date.now().toString().slice(-6)]})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Destination:"})," ",e]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Paid:"})," $",x.toFixed(2)]}),s.jsxs("p",{className:"font-semibold text-green-600",children:[s.jsx("strong",{children:"FlyWise Coins Earned:"})," ",p]})]}),s.jsx("button",{onClick:b,className:"mt-6 w-full px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Done"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("main",{className:"overflow-y-auto p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg bg-slate-800 flex items-center justify-center",children:s.jsx(k,{name:"car",className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-slate-800",children:[t.serviceName," ",t.vehicleType]}),s.jsxs("p",{className:"text-sm text-slate-500",children:["To: ",e]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"Ride Summary"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 mt-2",children:[s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"Estimated Fare"})," ",s.jsxs("span",{children:["$",t.estimatedPrice.toFixed(2)]})]}),s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"ETA"})," ",s.jsx("span",{children:t.eta})]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-slate-800 text-base border-t pt-2 mt-2",children:[s.jsx("span",{children:"Total"})," ",s.jsxs("span",{children:["$",x.toFixed(2)]})]})]}),s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 text-xs text-blue-700",children:s.jsx("p",{children:"Your payment will be processed securely using your saved payment method in FlyWise Wallet."})})]}),s.jsx("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl",children:s.jsx("button",{onClick:v,disabled:u,className:"w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:u?s.jsx(Se,{}):"Confirm and Book Ride"})})]})]})})},mj=({local:t,suggestion:e,onClose:l,onHangoutComplete:a})=>{const[u,f]=w.useState(""),[h,g]=w.useState(!0),[x,p]=w.useState(null);w.useEffect(()=>(document.body.classList.add("overflow-hidden"),(async()=>{g(!0),p(null);try{const j=await E5({preferredAirlines:"",minHotelStars:0,preferredCarTypes:[],favoriteDestinations:["Japan","Italy"],budget:{flightMaxPrice:1e3,hotelMaxPrice:200,carMaxPrice:50}},t,e);f(j)}catch(N){p(N instanceof Error?N.message:"Failed to generate message."),f(`Hey ${t.name}! I saw you're open to hanging out. I'd be interested in the suggestion: "${e.title}". Let me know if you're free!`)}finally{g(!1)}})(),()=>{document.body.classList.remove("overflow-hidden")}),[t,e]);const v=()=>{a()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",onClick:l,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] flex flex-col",onClick:b=>b.stopPropagation(),children:[s.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:["Request Hangout with ",t.name]}),s.jsx("button",{onClick:l,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100","aria-label":"Close",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]}),s.jsxs("main",{className:"flex-grow overflow-y-auto p-6 space-y-4",children:[s.jsxs("div",{className:"bg-slate-50 p-3 rounded-md border border-slate-200",children:[s.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"SELECTED HANGOUT"}),s.jsx("h3",{className:"font-bold text-slate-800",children:e.title}),s.jsx("p",{className:"text-sm text-slate-600",children:e.description})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Your Message (AI-assisted)"}),h?s.jsxs("div",{className:"w-full h-32 bg-slate-100 rounded-md flex items-center justify-center",children:[s.jsx(Se,{}),s.jsx("span",{className:"ml-3 text-slate-600",children:"Writing an icebreaker..."})]}):s.jsx("textarea",{id:"message",value:u,onChange:b=>f(b.target.value),rows:6,className:"w-full p-3 rounded-md border-slate-300 bg-white shadow-sm focus:ring-2 focus:ring-blue-500"}),x&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:x})]})]}),s.jsx("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex justify-end",children:s.jsx("button",{onClick:v,disabled:h,className:"w-full justify-center inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:"Send Request"})})]})})},hj=({rating:t})=>s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,l)=>s.jsx(k,{name:"star",className:`h-4 w-4 ${l<Math.round(t)?"text-yellow-400":"text-slate-300"}`},l))}),pj=({space:t,onBook:e})=>{const l=a=>{a.stopPropagation(),alert(`Connecting you with the organizer of "${t.networkingOpportunity}"...
(This is a simulation)`)};return s.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 border border-slate-200 group flex flex-col",children:[s.jsxs("div",{className:"h-48 overflow-hidden relative rounded-t-lg",children:[s.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsxs("div",{className:"absolute top-2 right-2 bg-black/50 text-white px-2 py-1 rounded-md text-sm font-bold backdrop-blur-sm",children:["$",t.price.perDay,s.jsx("span",{className:"font-normal",children:"/day"})]})]}),s.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-slate-800 group-hover:text-blue-600",children:t.name}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:t.location}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(hj,{rating:t.rating}),s.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[t.rating.toFixed(1)," (",t.reviews.length," reviews)"]})]})]}),s.jsxs("div",{className:"p-3 bg-indigo-50 rounded-md border border-indigo-200",children:[s.jsxs("p",{className:"text-sm font-semibold text-indigo-800 flex items-center",children:[s.jsx(k,{name:"sparkles",className:"h-4 w-4 mr-2 text-indigo-500 flex-shrink-0"}),"AI Insight"]}),s.jsx("p",{className:"text-xs text-slate-700 mt-1 italic",children:t.aiInsight})]}),s.jsxs("div",{className:"p-3 bg-green-50 rounded-md border border-green-200",children:[s.jsxs("p",{className:"text-sm font-semibold text-green-800 flex items-center",children:[s.jsx(k,{name:"users",className:"h-4 w-4 mr-2 text-green-600 flex-shrink-0"}),"Networking Opportunity"]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[s.jsx("p",{className:"text-xs text-slate-700 flex-1",children:t.networkingOpportunity}),s.jsx("button",{onClick:l,className:"flex-shrink-0 text-xs font-semibold text-green-700 bg-white border border-green-300 rounded-md py-1 px-3 hover:bg-green-100 transition-colors",children:"Connect"})]})]})]}),s.jsx("button",{onClick:e,className:"mt-4 w-full bg-blue-600 text-white font-bold py-2.5 rounded-md hover:bg-blue-700 transition-colors",children:"View Details & Book"})]})]})},gj=({userProfile:t,onBookSpace:e})=>{const[l,a]=w.useState(""),[u,f]=w.useState([]),[h,g]=w.useState(!1),[x,p]=w.useState(null),v=w.useCallback(async b=>{if(b&&b.preventDefault(),!l.trim()){p("Please enter a destination to find coworking spaces.");return}g(!0),p(null),f([]);try{const N=await M5(l,t);f(N)}catch(N){p(N instanceof Error?N.message:"An unknown error occurred while finding spaces.")}finally{g(!1)}},[l,t]);return s.jsxs("div",{className:"max-w-6xl mx-auto p-2 sm:p-4 animate-fade-in-up",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(k,{name:"briefcase",className:"h-12 w-12 text-blue-600 mx-auto"}),s.jsx("h2",{className:"mt-4 text-3xl font-bold tracking-tight text-slate-800",children:"Global Coworking Spaces"}),s.jsx("p",{className:"mt-2 text-md text-slate-600 max-w-2xl mx-auto",children:"Discover and book your next workspace, anywhere in the world. Powered by AI, accessed with your FlyWise Card."})]}),s.jsx("form",{onSubmit:v,className:"mt-8 max-w-lg mx-auto",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:l,onChange:b=>a(b.target.value),placeholder:"Enter a city...",className:"flex-1 block w-full rounded-md border-slate-300 bg-white shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-lg p-3",disabled:h}),s.jsx("button",{type:"submit",disabled:h||!l.trim(),className:"inline-flex items-center justify-center h-12 w-32 rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:h?s.jsx(Se,{}):"Find Spaces"})]})}),s.jsxs("div",{className:"mt-12",children:[h&&s.jsxs("div",{className:"text-center p-10",children:[s.jsx(Se,{}),s.jsxs("p",{className:"mt-4 text-slate-600",children:["Finding workspaces in ",l,"..."]})]}),x&&s.jsxs("div",{className:"text-center p-10 bg-red-50 border-2 border-red-200 rounded-lg",children:[s.jsx(k,{name:"error",className:"h-12 w-12 text-red-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-800",children:"Could Not Find Spaces"}),s.jsx("p",{className:"mt-2 text-sm text-red-600",children:x})]}),u.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(b=>s.jsx(pj,{space:b,onBook:()=>e(b)},b.id))}),!h&&u.length===0&&!x&&s.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 rounded-lg",children:[s.jsx(k,{name:"search",className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"Start your search"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Enter a destination above to find available coworking spaces."})]})]})]})},xj=({value:t})=>s.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(t)}&bgcolor=f8fafc`,alt:"QR Code for entry",className:"mx-auto"}),yj=({space:t,onClose:e,onBookingComplete:l})=>{const[a,u]=w.useState(1),[f,h]=w.useState("hotDesk"),[g,x]=w.useState("day"),[p,v]=w.useState(!1);w.useEffect(()=>(document.body.classList.add("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[]);const b=()=>u(D=>D+1),N=()=>u(D=>D-1),j=D=>{D.preventDefault(),v(!0),setTimeout(()=>{v(!1),u(4)},2e3)},A=g==="day"?t.price.perDay:t.price.perMonth,M=A*.1,I=A+M,R=Math.floor(I),U=()=>{const D={bookingReference:`FW-CW-${Date.now().toString().slice(-6)}`,space:t,user:{firstName:"Valued",lastName:"Member",email:"",dateOfBirth:"",phone:""},bookingType:f,duration:`1 ${g}`,totalPaid:I,coinsEarned:R};l(D)},B=()=>{switch(a){case 1:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Review Your Booking"}),s.jsxs("div",{className:"flex gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[s.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-24 h-24 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-800",children:t.name}),s.jsx("p",{className:"text-sm text-slate-500",children:t.location}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(k,{name:"star",className:"h-4 w-4 text-yellow-400"}),s.jsx("span",{className:"text-xs font-semibold",children:t.rating.toFixed(1)})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Booking Type"}),s.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>h("hotDesk"),className:`p-3 text-sm rounded-md border-2 text-left ${f==="hotDesk"?"border-blue-500 bg-blue-50":"border-slate-300 bg-white"}`,children:[s.jsx("p",{className:"font-semibold",children:"Hot Desk"}),s.jsxs("p",{className:"text-xs",children:[t.availability.hotDesks," available"]})]}),s.jsxs("button",{onClick:()=>h("privateOffice"),className:`p-3 text-sm rounded-md border-2 text-left ${f==="privateOffice"?"border-blue-500 bg-blue-50":"border-slate-300 bg-white"}`,children:[s.jsx("p",{className:"font-semibold",children:"Private Office"}),s.jsxs("p",{className:"text-xs",children:[t.availability.privateOffices," available"]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Duration"}),s.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>x("day"),className:`p-3 text-sm rounded-md border-2 text-left ${g==="day"?"border-blue-500 bg-blue-50":"border-slate-300 bg-white"}`,children:[s.jsx("p",{className:"font-semibold",children:"Daily Access"}),s.jsxs("p",{className:"text-xs",children:["$",t.price.perDay,"/day"]})]}),s.jsxs("button",{onClick:()=>x("month"),className:`p-3 text-sm rounded-md border-2 text-left ${g==="month"?"border-blue-500 bg-blue-50":"border-slate-300 bg-white"}`,children:[s.jsx("p",{className:"font-semibold",children:"Monthly"}),s.jsxs("p",{className:"text-xs",children:["$",t.price.perMonth,"/month"]})]})]})]})]});case 2:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Your Booking Summary"}),s.jsxs("div",{className:"space-y-3 bg-slate-50 p-4 rounded-lg border border-slate-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"WORKSPACE"}),s.jsx("p",{className:"font-bold text-slate-800",children:t.name}),s.jsx("p",{className:"text-sm text-slate-600",children:t.location})]}),s.jsxs("div",{className:"border-t border-slate-200 pt-3",children:[s.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"DETAILS"}),s.jsxs("p",{className:"text-sm text-slate-800 capitalize",children:[f==="hotDesk"?"Hot Desk":"Private Office"," for 1 ",g]})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"Price Summary"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 mt-2",children:[s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"Base Price"})," ",s.jsxs("span",{children:["$",A.toLocaleString()]})]}),s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"Taxes & Fees (est.)"})," ",s.jsxs("span",{children:["$",M.toFixed(2)]})]}),s.jsxs("li",{className:"flex justify-between font-bold text-slate-800 text-base border-t pt-2 mt-2",children:[s.jsx("span",{children:"Total"})," ",s.jsxs("span",{children:["$",I.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]});case 3:return s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Confirm Payment"}),s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 text-sm text-blue-700 mb-4",children:s.jsx("p",{children:"Your booking will be securely charged to your FlyWise.AI VIP Card."})}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-slate-700",children:"Price Summary"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 mt-2",children:[s.jsxs("li",{className:"flex justify-between",children:[s.jsxs("span",{children:[f==="hotDesk"?"Hot Desk":"Private Office"," (1 ",g,")"]})," ",s.jsxs("span",{children:["$",A.toLocaleString()]})]}),s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:"Taxes & Fees"})," ",s.jsxs("span",{children:["$",M.toFixed(2)]})]}),s.jsxs("li",{className:"flex justify-between font-bold text-slate-800 text-base border-t pt-2 mt-2",children:[s.jsx("span",{children:"Total"})," ",s.jsxs("span",{children:["$",I.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})]});case 4:return s.jsxs("div",{className:"text-center",children:[s.jsx(k,{name:"check-circle",className:"h-16 w-16 text-green-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-2xl font-bold text-slate-800",children:"Workspace Confirmed!"}),s.jsxs("p",{className:"mt-2 text-slate-600",children:["Your booking at ",t.name," is confirmed. Use the QR code below for instant access."]}),s.jsx("div",{className:"mt-6 bg-slate-50 p-4 rounded-lg",children:s.jsx(xj,{value:`flywise-access:${t.id}:${Date.now()}`})}),s.jsxs("div",{className:"mt-4 text-left text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Booking Ref:"})," ",`FW-CW-${Date.now().toString().slice(-6)}`]}),s.jsxs("p",{className:"font-semibold text-green-600",children:[s.jsx("strong",{children:"FlyWise Coins Earned:"})," ",R]})]})]});default:return null}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:e,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",onClick:D=>D.stopPropagation(),children:[s.jsx("header",{className:"p-4 border-b border-slate-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Book Workspace"}),s.jsx("button",{onClick:e,className:"p-2 rounded-full text-slate-400 hover:bg-slate-100",children:s.jsx(k,{name:"x-mark",className:"h-6 w-6"})})]})}),s.jsx("main",{className:"overflow-y-auto p-6 flex-grow",children:B()}),s.jsxs("footer",{className:"p-4 border-t border-slate-200 bg-slate-50 rounded-b-xl flex justify-between items-center",children:[s.jsx("div",{children:a<4&&s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 bg-slate-100 hover:bg-slate-200",children:"Cancel"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[a>1&&a<4&&s.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-700 hover:bg-slate-200",children:"Back"}),a===1&&s.jsx("button",{onClick:b,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Review Summary"}),a===2&&s.jsx("button",{onClick:b,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Proceed to Payment"}),a===3&&s.jsxs("button",{onClick:j,disabled:p,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 flex items-center",children:[p&&s.jsx(Se,{}),s.jsxs("span",{className:p?"ml-2":"",children:["Confirm & Pay $",I.toFixed(2)]})]}),a===4&&s.jsx("button",{onClick:U,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})]})})},vj=({userProfile:t,savedTrips:e,stories:l,setActiveTab:a})=>{const[u,f]=w.useState([]),[h,g]=w.useState(!0),[x,p]=w.useState(null),[v,b]=w.useState(!1),N=w.useMemo(()=>e.filter(M=>M.type==="itinerary"&&M.data.itinerary.length>0).map(M=>({...M,data:M.data})).sort((M,I)=>new Date(M.data.itinerary[0].day).getTime()-new Date(I.data.itinerary[0].day).getTime())[0]||null,[e]);w.useEffect(()=>{(async()=>{g(!0);try{const M=await k5(t,e);f(M)}catch(M){console.error("Failed to fetch AI suggestions:",M)}finally{g(!1)}})()},[t,e]),w.useEffect(()=>{N&&(async()=>{b(!0);try{const M=await Wp(N.data.destination,5);p(M)}catch(M){console.error("Failed to fetch weather:",M)}finally{b(!1)}})()},[N]);const j=A=>{a(A.actionTarget.tab)};return s.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-800",children:"Welcome to FlyWise.AI"}),s.jsx("p",{className:"mt-2 text-md text-slate-600",children:"Your personalized travel dashboard."})]}),N&&s.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Your Upcoming Trip"}),s.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-600",children:N.name}),v?s.jsx("div",{className:"h-24 flex items-center justify-center",children:s.jsx(Se,{})}):x?s.jsx("div",{className:"mt-2 -mx-4",children:s.jsx(Zp,{forecast:x})}):null,s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{onClick:()=>a(Ia.MyTrips),className:"flex-1 text-sm text-center py-2 bg-blue-100 text-blue-800 font-semibold rounded-md hover:bg-blue-200",children:"View Itinerary"}),s.jsx("button",{onClick:()=>a(Ia.Checklist),className:"flex-1 text-sm text-center py-2 bg-blue-100 text-blue-800 font-semibold rounded-md hover:bg-blue-200",children:"Packing List"})]})]})]}),s.jsxs("div",{className:"p-6 bg-indigo-50 border border-indigo-200 rounded-lg",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center",children:[s.jsx(k,{name:"sparkles",className:"h-6 w-6 mr-3 text-indigo-500"}),"AI-Powered Next Steps"]}),s.jsx("div",{className:"mt-4",children:h?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"h-24 bg-white/50 rounded-lg animate-shimmer"}),s.jsx("div",{className:"h-24 bg-white/50 rounded-lg animate-shimmer"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((A,M)=>s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:A.title}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:A.description}),s.jsxs("button",{onClick:()=>j(A),className:"mt-3 text-sm font-bold text-blue-600 hover:underline",children:[A.actionText," →"]})]},M))})})]}),s.jsxs("div",{className:"p-6 bg-slate-50 border border-slate-200 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Recent Community Stories"}),s.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:l.slice(0,3).map(A=>s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:A.authorAvatarUrl,alt:A.authorName,className:"w-8 h-8 rounded-full"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold",children:A.authorName}),s.jsx("p",{className:"text-xs text-slate-500",children:A.locationTags[0]})]})]}),s.jsx("p",{className:"text-sm font-semibold text-slate-700 mt-2 line-clamp-2",children:A.title}),s.jsx("button",{onClick:()=>a(Ia.Stories),className:"mt-2 text-xs font-bold text-blue-600 hover:underline",children:"Read Story →"})]},A.id))})]})]})},bj="FlyWiseDB",Fn="savedTrips",Nj=1;let Ma;const Gc=()=>new Promise((t,e)=>{if(Ma)return t(Ma);const l=indexedDB.open(bj,Nj);l.onerror=()=>e("Error opening DB"),l.onsuccess=a=>{Ma=a.target.result,t(Ma)},l.onupgradeneeded=a=>{const u=a.target.result;u.objectStoreNames.contains(Fn)||u.createObjectStore(Fn,{keyPath:"id"})}}),Tj=async()=>{const t=await Gc();return new Promise((e,l)=>{const f=t.transaction(Fn,"readonly").objectStore(Fn).getAll();f.onsuccess=()=>{e(f.result.reverse())},f.onerror=()=>l("Error fetching trips")})},Sj=async t=>{const e=await Gc();return new Promise((l,a)=>{const h=e.transaction(Fn,"readwrite").objectStore(Fn).put(t);h.onsuccess=()=>l(),h.onerror=()=>a("Error saving trip")})},Cj=async t=>{const e=await Gc();return new Promise((l,a)=>{const h=e.transaction(Fn,"readwrite").objectStore(Fn).delete(t);h.onsuccess=()=>l(),h.onerror=()=>a("Error deleting trip")})},Ra=t=>t?new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):"---",wj=({status:t})=>{const e=()=>{switch(t.status){case"En Route":return{color:"bg-blue-100 text-blue-800",icon:"flight"};case"Landed":return{color:"bg-green-100 text-green-800",icon:"check-circle"};case"Delayed":return{color:"bg-amber-100 text-amber-800",icon:"clock"};case"Cancelled":return{color:"bg-red-100 text-red-800",icon:"x-mark"};case"Scheduled":default:return{color:"bg-slate-100 text-slate-800",icon:"clock"}}},{color:l,icon:a}=e(),u=[{name:t.departure.airport,lat:t.departure.latitude,lng:t.departure.longitude,activity:"Departure",day:1,timeOfDay:"Morning"},{name:t.arrival.airport,lat:t.arrival.latitude,lng:t.arrival.longitude,activity:"Arrival",day:1,timeOfDay:"Afternoon"}];return t.livePosition&&u.push({name:t.flightNumber,lat:t.livePosition.latitude,lng:t.livePosition.longitude,activity:`Current Position: ${t.livePosition.altitude} ft, ${t.livePosition.speed} knots`,day:1,timeOfDay:"Morning"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-slate-200 animate-fade-in-up",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-600 text-sm",children:t.airline}),s.jsx("p",{className:"font-bold text-2xl text-slate-800",children:t.flightNumber})]}),s.jsxs("div",{className:`px-3 py-1.5 rounded-full text-sm font-semibold flex items-center gap-2 ${l}`,children:[s.jsx(k,{name:a,className:"h-5 w-5"}),t.status]})]}),s.jsx("div",{className:"mt-2 text-center",children:s.jsxs("p",{className:"font-bold text-lg text-slate-700",children:[t.departure.city," to ",t.arrival.city]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-center",children:[s.jsxs("div",{className:"w-1/3",children:[s.jsx("p",{className:"font-bold text-xl text-slate-800",children:t.departure.iata}),s.jsx("p",{className:"text-sm text-slate-500",children:t.departure.city})]}),s.jsx("div",{className:"w-1/3 flex justify-center",children:s.jsx(k,{name:"flight",className:"h-8 w-8 text-slate-400"})}),s.jsxs("div",{className:"w-1/3",children:[s.jsx("p",{className:"font-bold text-xl text-slate-800",children:t.arrival.iata}),s.jsx("p",{className:"text-sm text-slate-500",children:t.arrival.city})]})]}),s.jsxs("div",{className:"mt-2 w-full bg-slate-200 rounded-full h-2 relative",children:[s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${t.progressPercent}%`}}),t.status==="En Route"&&t.progressPercent>5&&t.progressPercent<95&&s.jsx(k,{name:"send",className:"h-5 w-5 text-blue-700 absolute -top-1.5 transform -translate-x-1/2",style:{left:`${t.progressPercent}%`}})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-px bg-slate-200",children:[s.jsxs("div",{className:"bg-white p-4",children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:"Departure"}),s.jsxs("ul",{className:"mt-2 text-sm space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Airport:"})," ",t.departure.airport]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Terminal/Gate:"})," ",t.departure.terminal||"TBD"," / ",t.departure.gate||"TBD"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scheduled:"})," ",Ra(t.departure.scheduledTime)]}),s.jsxs("li",{className:t.status==="Delayed"?"font-bold text-amber-600":"font-bold text-blue-600",children:[s.jsx("strong",{children:"Actual:"})," ",Ra(t.departure.actualTime)]})]})]}),s.jsxs("div",{className:"bg-white p-4",children:[s.jsx("h4",{className:"font-semibold text-slate-800",children:"Arrival"}),s.jsxs("ul",{className:"mt-2 text-sm space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Airport:"})," ",t.arrival.airport]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Terminal/Gate:"})," ",t.arrival.terminal||"TBD"," / ",t.arrival.gate||"TBD"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scheduled:"})," ",Ra(t.arrival.scheduledTime)]}),s.jsxs("li",{className:t.status==="Landed"?"font-bold text-green-600":"",children:[s.jsx("strong",{children:"Est. / Actual:"})," ",Ra(t.arrival.actualTime)]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-px bg-slate-200",children:[s.jsxs("div",{className:"bg-white p-4",children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Live Map"}),s.jsx("div",{className:"h-64 w-full rounded-md border border-slate-300 overflow-hidden",children:s.jsx(Fa,{markers:u,waypoints:t.waypoints})})]}),s.jsxs("div",{className:"bg-white p-4",children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Details & Summary"}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Aircraft:"})," ",t.aircraft.type," (",t.aircraft.registration||"N/A",")"]}),t.livePosition&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Altitude:"})," ",t.livePosition.altitude.toLocaleString()," ft"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Speed:"})," ",t.livePosition.speed," knots"]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-indigo-50 rounded-md border border-indigo-200",children:[s.jsxs("p",{className:"text-sm font-semibold text-indigo-800 flex items-center",children:[s.jsx(k,{name:"sparkles",className:"h-4 w-4 mr-2 text-indigo-500"}),"AI Summary"]}),s.jsx("p",{className:"text-sm text-slate-700 mt-2",children:t.aiSummary})]})]})]})]})]})},jj=()=>{const[t,e]=w.useState(""),[l,a]=w.useState(null),[u,f]=w.useState(!1),[h,g]=w.useState(null),x=async p=>{if(p.preventDefault(),!t.trim()){g("Please enter a flight number.");return}f(!0),g(null),a(null);try{const v=await D5(t.trim().toUpperCase());a(v)}catch(v){g(v instanceof Error?v.message:"An unknown error occurred.")}finally{f(!1)}};return s.jsxs("div",{className:"max-w-4xl mx-auto p-2 sm:p-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(k,{name:"send",className:"h-12 w-12 text-blue-600 mx-auto"}),s.jsx("h2",{className:"mt-4 text-3xl font-bold tracking-tight text-slate-800",children:"Real-Time Flight Tracker"}),s.jsx("p",{className:"mt-2 text-md text-slate-600 max-w-2xl mx-auto",children:"Enter a flight number to get live status, gate information, and a map view of its journey."})]}),s.jsx("form",{onSubmit:x,className:"mt-8 max-w-lg mx-auto",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:t,onChange:p=>e(p.target.value),placeholder:"e.g., EK203, UA1234",className:"flex-1 block w-full rounded-md border-slate-300 bg-white shadow-sm focus:ring-2 focus:ring-blue-500 sm:text-lg p-3 uppercase placeholder:normal-case",disabled:u}),s.jsx("button",{type:"submit",disabled:u||!t.trim(),className:"inline-flex items-center justify-center h-12 w-32 rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400",children:u?s.jsx(Se,{}):"Track Flight"})]})}),s.jsxs("div",{className:"mt-8",children:[h&&s.jsxs("div",{className:"text-center p-10 bg-red-50 border-2 border-red-200 rounded-lg",children:[s.jsx(k,{name:"error",className:"h-12 w-12 text-red-500 mx-auto"}),s.jsx("h3",{className:"mt-4 text-lg font-semibold text-red-800",children:"Could Not Track Flight"}),s.jsx("p",{className:"mt-2 text-sm text-red-600",children:h})]}),l&&s.jsx(wj,{status:l})]})]})};var Ia=(t=>(t.Home="Home",t.FlightTracker="Flight Tracker",t.Search="Search",t.Chat="Chat",t.Planner="Planner",t.Checklist="Checklist",t.MyTrips="My Trips",t.Wallet="Wallet",t.Converter="Converter",t.Profile="My Profile",t.TravelBuddy="Travel Buddy",t.Stories="Trip Journals",t.Communities="Communities",t.Events="Meetup Events",t.GroupPlanning="Group Planning",t.Passport="Passport",t.Inspire="Inspire",t.LocalConnections="Local Connections",t.TrendRadar="Trend Radar",t.SuperServices="Super Services",t.Coworking="Coworking",t))(Ia||{});const Nc={preferredAirlines:"",minHotelStars:0,preferredCarTypes:[],favoriteDestinations:[],budget:{flightMaxPrice:"",hotelMaxPrice:"",carMaxPrice:""}},Aj={flyWisePoints:1250,earnedBadgeIds:["first-booking","story-writer"],collectedStamps:[{country:"Japan",city:"Kyoto",date:"2024-05-10",crestUrl:"https://cdn.jsdelivr.net/gh/gist/corrinachow/997463283362a22591e55e0d4942c751/raw/japan-stamp.svg"},{country:"Peru",city:"Machu Picchu",date:"2024-04-22",crestUrl:"https://cdn.jsdelivr.net/gh/gist/corrinachow/997463283362a22591e55e0d4942c751/raw/peru-stamp.svg"},{country:"Greece",city:"Santorini",date:"2024-06-01",crestUrl:"https://cdn.jsdelivr.net/gh/gist/corrinachow/997463283362a22591e55e0d4942c751/raw/greece-stamp.svg"}]},Ej=[{id:"1",authorName:"Elena Petrova",authorAvatarUrl:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=200&auto=format&fit=crop",title:"A Week of Wonders in Kyoto",content:"Kyoto was a dream. From the serene bamboo groves of Arashiyama to the vibrant Fushimi Inari Shrine, every day was a new discovery. The food, the culture, the people... absolutely unforgettable.",images:["https://images.unsplash.com/photo-1524413840807-0c3cb6fa808d?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1542051841857-5f90071e7989?q=80&w=800&auto=format&fit=crop"],locationTags:["Kyoto","Japan","Culture"],likes:125,createdAt:"2024-05-10T14:48:00.000Z",comments:[{id:"c1",authorName:"Marcus Holloway",authorAvatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=200&auto=format&fit=crop",content:"Looks incredible! Kyoto is on my bucket list.",createdAt:"2024-05-10T15:00:00.000Z"},{id:"c2",authorName:"Aisha Khan",authorAvatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=200&auto=format&fit=crop",content:"Your photos are stunning! Especially the one from Arashiyama.",createdAt:"2024-05-11T09:30:00.000Z"}]},{id:"2",authorName:"Marcus Holloway",authorAvatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=200&auto=format&fit=crop",title:"Hiking the Inca Trail to Machu Picchu",content:"The 4-day trek was challenging but immensely rewarding. Waking up to the sunrise over Machu Picchu is a moment I'll cherish forever. The views are just as incredible as everyone says.",images:["https://images.unsplash.com/photo-1526772662000-3f88f10405ff?q=80&w=800&auto=format&fit=crop","https://images.unsplash.com/photo-1530912585210-791648937612?q=80&w=800&auto=format&fit=crop"],locationTags:["Peru","Machu Picchu","Adventure"],likes:342,createdAt:"2024-04-22T09:15:00.000Z",comments:[{id:"c3",authorName:"Elena Petrova",authorAvatarUrl:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=200&auto=format&fit=crop",content:"Wow, what an achievement! That sunrise view is breathtaking.",createdAt:"2024-04-22T12:00:00.000Z"}]},{id:"3",authorName:"Aisha Khan",authorAvatarUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=200&auto=format&fit=crop",title:"Santorini Sunsets and Seaside Charm",content:"The iconic blue domes and white-washed villages of Santorini are even more stunning in person. Finding hidden spots to watch the sunset over the caldera was the highlight of our trip.",images:["https://images.unsplash.com/photo-1533105079780-52b9be4ac215?q=80&w=800&auto=format&fit=crop"],locationTags:["Santorini","Greece","Relaxation"],likes:218,createdAt:"2024-06-01T18:30:00.000Z",comments:[{id:"c4",authorName:"Marcus Holloway",authorAvatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=200&auto=format&fit=crop",content:"Santorini is magical. Did you visit Oia?",createdAt:"2024-06-02T10:00:00.000Z"}]}],Mj=[{name:"Home",icon:"home"},{name:"Flight Tracker",icon:"send"},{name:"Inspire",icon:"lightbulb"},{name:"Trend Radar",icon:"chart-bar"},{name:"Chat",icon:"chat"},{name:"Planner",icon:"planner"},{name:"Super Services",icon:"apps"},{name:"Coworking",icon:"briefcase"},{name:"Local Connections",icon:"users"},{name:"Communities",icon:"globe"}],hp=[{name:"My Trips",icon:"bookmark"},{name:"Checklist",icon:"checklist"},{name:"Group Planning",icon:"clipboard-list"},{name:"Trip Journals",icon:"stories"},{name:"Travel Buddy",icon:"users"},{name:"Meetup Events",icon:"calendar"},{name:"Wallet",icon:"wallet"},{name:"Converter",icon:"exchange"},{name:"Passport",icon:"passport"},{name:"Search",icon:"search"},{name:"My Profile",icon:"user"}];function Rj(){const[t,e]=w.useState("Home"),[l,a]=w.useState([]),[u,f]=w.useState(!1),[h,g]=w.useState(null),[x,p]=w.useState([]),[v,b]=w.useState(!1),[N,j]=w.useState(!1),[A,M]=w.useState(null),[I,R]=w.useState(null),[U,B]=w.useState(null),[D,q]=w.useState(null),[Q,ue]=w.useState(Aj),[ie,X]=w.useState(!1),[te,re]=w.useState(!1),[ae,ye]=w.useState(!1),[Ne,se]=w.useState(!1),[F,ee]=w.useState(Ej),[V,Z]=w.useState(!1),[E,O]=w.useState(null),[le,ne]=w.useState(null),[ce,ve]=w.useState([]),[he,$e]=w.useState(null),[Pe,Ft]=w.useState(!navigator.onLine),Hn=w.useRef(null),[pt,ui]=w.useState(()=>{try{const oe=localStorage.getItem("flyWiseUserProfile");return oe?{...Nc,...JSON.parse(oe)}:Nc}catch(oe){return console.error("Could not parse user profile from localStorage",oe),Nc}});w.useEffect(()=>{localStorage.getItem("hasVisitedFlyWiseAI")||j(!0),(async()=>{try{const Ht=await Tj();p(Ht)}catch(Ht){console.error("Could not load trips from DB",Ht),g("Could not load saved trips. Some data may be unavailable offline.")}})();const Ye=()=>Ft(!1),Fe=()=>Ft(!0);return window.addEventListener("online",Ye),window.addEventListener("offline",Fe),()=>{window.removeEventListener("online",Ye),window.removeEventListener("offline",Fe)}},[]),w.useEffect(()=>{function oe(be){Hn.current&&!Hn.current.contains(be.target)&&se(!1)}return document.addEventListener("mousedown",oe),()=>{document.removeEventListener("mousedown",oe)}},[]);const di=w.useCallback(()=>{localStorage.setItem("hasVisitedFlyWiseAI","true"),j(!1)},[]),fi=w.useCallback(oe=>{a(oe),g(null)},[]),Ha=w.useCallback(oe=>{f(oe)},[]),za=w.useCallback(oe=>{g(oe),a([])},[]),gt=w.useCallback(async oe=>{const be={...oe,id:`${Date.now()}-${Math.random()}`,createdAt:new Date().toISOString()};try{await Sj(be),p(Ye=>[be,...Ye]),e("My Trips")}catch(Ye){console.error("Failed to save trip to DB",Ye),g("Could not save your trip. The database might be unavailable.")}},[]),Oa=w.useCallback(async oe=>{try{await Cj(oe),p(be=>be.filter(Ye=>Ye.id!==oe))}catch(be){console.error("Failed to delete trip from DB",be),g("Could not delete your trip. The database might be unavailable.")}},[]),hl=w.useCallback(oe=>{ui(oe),localStorage.setItem("flyWiseUserProfile",JSON.stringify(oe))},[]),mi=w.useCallback(()=>b(!0),[]),zn=w.useCallback(oe=>M(oe),[]),pl=w.useCallback(oe=>R(oe),[]),hi=w.useCallback(oe=>B(oe),[]),$a=w.useCallback(oe=>q(oe),[]),Ya=w.useCallback(oe=>O(oe),[]),On=w.useCallback((oe,be)=>ne({ride:oe,destination:be}),[]),rt=w.useCallback(oe=>{let be=null;"orderId"in oe?Q.earnedBadgeIds.includes("foodie-explorer")||(be={id:"foodie-explorer",name:"Foodie Explorer"}):"bookingId"in oe&&(Q.earnedBadgeIds.includes("local-rider")||(be={id:"local-rider",name:"Local Rider"})),ue(Fe=>{const Ht=be?[...Fe.earnedBadgeIds,be.id]:Fe.earnedBadgeIds;return{...Fe,flyWisePoints:Fe.flyWisePoints+oe.coinsEarned,earnedBadgeIds:Ht}});let Ye=`Order confirmed! You earned ${oe.coinsEarned} FlyWise Coins.`;be&&(Ye+=`

New Badge Unlocked: ${be.name}!`),alert(Ye),O(null),ne(null)},[Q.earnedBadgeIds]),kt=w.useCallback(oe=>{console.log("Booking complete!",oe),alert(`Booking confirmed! Your reference is ${oe.bookingReference}.`),M(null),R(null),B(null)},[]),mt=w.useCallback(oe=>{let be=null;Q.earnedBadgeIds.includes("digital-nomad")||(be={id:"digital-nomad",name:"Digital Nomad"}),ue(Fe=>{const Ht=be?[...Fe.earnedBadgeIds,be.id]:Fe.earnedBadgeIds;return{...Fe,flyWisePoints:Fe.flyWisePoints+oe.coinsEarned,earnedBadgeIds:Ht}});let Ye=`Booking confirmed! You earned ${oe.coinsEarned} FlyWise Coins.`;be&&(Ye+=`

New Badge Unlocked: ${be.name}!`),alert(Ye),q(null)},[Q.earnedBadgeIds]),Ja=w.useCallback(()=>{X(!0),re(!1)},[]),Ka=w.useCallback(()=>{X(!0),ye(!1)},[]),Wa=w.useCallback(()=>{X(!1)},[]),yn=w.useCallback(()=>{ye(!1),re(!0)},[]),$n=w.useCallback(()=>{re(!1),ye(!0)},[]),Zt=w.useCallback(oe=>{ee(be=>[oe,...be]),Z(!1)},[]),ps=w.useCallback(oe=>{ce.some(be=>be.tripId===oe.tripId)||(ve(be=>[...be,oe]),Q.earnedBadgeIds.includes("memory-maker")||(ue(be=>({...be,flyWisePoints:be.flyWisePoints+200,earnedBadgeIds:[...be.earnedBadgeIds,"memory-maker"]})),alert("New Badge Unlocked: Memory Maker! (+200 FlyWise Coins)")))},[ce,Q.earnedBadgeIds]),Yn=w.useCallback(()=>{$e(null);let oe=null;const be=150;Q.earnedBadgeIds.includes("explorer-buddy")||(oe={id:"explorer-buddy",name:"Explorer Buddy"}),ue(Fe=>{const Ht=oe?[...Fe.earnedBadgeIds,oe.id]:Fe.earnedBadgeIds;return{...Fe,flyWisePoints:Fe.flyWisePoints+be,earnedBadgeIds:Ht}});let Ye=`Hangout request sent! You earned ${be} FlyWise Coins for connecting with a local.`;oe&&(Ye+=`

New Badge Unlocked: ${oe.name}!`),alert(Ye)},[Q.earnedBadgeIds]),Qa=w.useMemo(()=>hp.some(oe=>oe.name===t),[t]);return s.jsxs("div",{className:"min-h-screen bg-slate-100 font-sans text-slate-800",children:[s.jsx(wx,{onOpenVipModal:mi,isLoggedIn:ie,onLoginClick:yn,onSignUpClick:$n,onLogoutClick:Wa,isOffline:Pe}),s.jsx("main",{className:"max-w-7xl mx-auto px-2 py-4 sm:px-4 md:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6",children:[s.jsx("div",{className:"border-b border-slate-200 mb-6 print:hidden",children:s.jsxs("nav",{className:"-mb-px flex items-center justify-between","aria-label":"Tabs",children:[s.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4 overflow-x-auto custom-scrollbar",children:Mj.map(oe=>s.jsxs("button",{onClick:()=>e(oe.name),className:`${t===oe.name?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 hover:bg-slate-50"} group inline-flex items-center py-3 px-3 border-b-2 font-medium text-sm transition-all duration-200 whitespace-nowrap rounded-t-md`,"aria-current":t===oe.name?"page":void 0,children:[s.jsx(k,{name:oe.icon,className:"mr-0 sm:mr-2 h-5 w-5 flex-shrink-0"}),s.jsx("span",{className:"hidden sm:inline",children:oe.name})]},oe.name))}),s.jsxs("div",{className:"relative flex-shrink-0 ml-2",ref:Hn,children:[s.jsxs("button",{onClick:()=>se(oe=>!oe),className:`${Qa?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 hover:bg-slate-50"} group inline-flex items-center py-3 px-3 border-b-2 font-medium text-sm transition-all duration-200 whitespace-nowrap rounded-t-md`,"aria-haspopup":"true","aria-expanded":Ne,children:[s.jsx(k,{name:"dots-horizontal",className:"mr-0 sm:mr-2 h-5 w-5"}),s.jsx("span",{className:"hidden sm:inline",children:"More"}),s.jsx(k,{name:"chevron-down",className:`ml-1 h-4 w-4 transition-transform duration-200 ${Ne?"rotate-180":""}`})]}),Ne&&s.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10 animate-fade-in",children:s.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:hp.map(oe=>s.jsxs("a",{href:"#",onClick:be=>{be.preventDefault(),e(oe.name),se(!1)},className:`${t===oe.name?"bg-blue-50 text-blue-600":"text-slate-700"} group flex items-center px-4 py-2 text-sm hover:bg-slate-100 hover:text-slate-900`,role:"menuitem",children:[s.jsx(k,{name:oe.icon,className:`mr-3 h-5 w-5 ${t===oe.name?"text-blue-500":"text-slate-400 group-hover:text-slate-500"}`}),s.jsx("span",{children:oe.name})]},oe.name))})})]})]})}),s.jsxs("div",{className:"animate-fade-in-up",children:[t==="Home"&&s.jsx(vj,{userProfile:pt,savedTrips:x,stories:F,setActiveTab:e}),t==="Flight Tracker"&&s.jsx(jj,{}),t==="Inspire"&&s.jsx(sj,{}),t==="Trend Radar"&&s.jsx(cj,{userProfile:pt}),t==="Coworking"&&s.jsx(gj,{userProfile:pt,onBookSpace:$a}),t==="Local Connections"&&s.jsx(aj,{userProfile:pt,onOpenVipModal:mi,onHangoutRequest:$e}),t==="Chat"&&s.jsx(K5,{onSaveTrip:gt,userProfile:pt,savedTrips:x,onBookFlight:zn,onBookStay:pl,onBookCar:hi}),t==="Planner"&&s.jsx(ew,{onSaveTrip:gt,isOffline:Pe}),t==="Super Services"&&s.jsx(uj,{userProfile:pt,savedTrips:x,onOrderFood:Ya,onBookRide:On}),t==="Checklist"&&s.jsx(Yw,{}),t==="Travel Buddy"&&s.jsx(hw,{userProfile:pt,onSaveTrip:gt,savedTrips:x}),t==="Trip Journals"&&s.jsx(vw,{stories:F,onOpenCreateModal:()=>Z(!0),savedTrips:x,generatedMemories:ce,onMemoryGenerated:ps}),t==="Communities"&&s.jsx(Aw,{}),t==="Meetup Events"&&s.jsx(Iw,{}),t==="Group Planning"&&s.jsx(zw,{}),t==="Passport"&&s.jsx(Kw,{profile:Q}),t==="My Trips"&&s.jsx(ow,{savedTrips:x,onDeleteTrip:Oa}),t==="Wallet"&&s.jsx(ej,{isLoggedIn:ie,onLoginClick:yn}),t==="Converter"&&s.jsx(cw,{}),t==="My Profile"&&s.jsx(mw,{profile:pt,onSave:hl}),t==="Search"&&s.jsxs("div",{children:[s.jsx(Ax,{onSearch:fi,onLoading:Ha,onError:za,userProfile:pt}),s.jsx("div",{className:"mt-8",children:s.jsx(Xp,{results:l,isLoading:u,error:h,onBookFlight:zn,onBookStay:pl,onBookCar:hi})})]})]},t)]})}),s.jsx("footer",{className:"text-center py-6 text-slate-500 text-sm print:hidden",children:s.jsx("p",{children:"Powered by AI. Your ultimate travel planning companion."})}),te&&s.jsx(Ww,{onClose:()=>re(!1),onLoginSuccess:Ja,onSwitchToSignUp:$n}),ae&&s.jsx(Qw,{onClose:()=>ye(!1),onSignUpSuccess:Ka,onSwitchToLogin:yn}),A&&s.jsx(Lw,{flight:A,onClose:()=>M(null),onBookingComplete:kt}),I&&s.jsx(Uw,{stay:I,onClose:()=>R(null),onBookingComplete:kt}),U&&s.jsx(Pw,{car:U,onClose:()=>B(null),onBookingComplete:kt}),D&&s.jsx(yj,{space:D,onClose:()=>q(null),onBookingComplete:mt}),E&&s.jsx(dj,{restaurant:E,onClose:()=>O(null),onOrderComplete:rt}),le&&s.jsx(fj,{ride:le.ride,destination:le.destination,onClose:()=>ne(null),onBookingComplete:rt}),he&&s.jsx(mj,{local:he.local,suggestion:he.suggestion,onClose:()=>$e(null),onHangoutComplete:Yn}),v&&s.jsx(rw,{onClose:()=>b(!1)}),N&&s.jsx(uw,{onClose:di}),V&&s.jsx(nj,{onClose:()=>Z(!1),onCreateStory:Zt})]})}const t0=document.getElementById("root");if(!t0)throw new Error("Could not find root element to mount to");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("ServiceWorker registration successful with scope: ",t.scope)}).catch(t=>{console.log("ServiceWorker registration failed: ",t)})});const kj=Sx.createRoot(t0);kj.render(s.jsx(it.StrictMode,{children:s.jsx(Rj,{})}));
